(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[98],{"67+i":function(e){e.exports={createAccountCTA:"Start coding now",createAccountComplete:"Account created. You're almost there!",emailLabel:"Email",passwordLabel:"Password",recaptchaLink:'This page is protected by reCAPTCHA, and subject to Googleâ€™s <a href="https://www.google.com/policies/privacy">Privacy Policy</a> & <a href="https://www.google.com/policies/terms/">Terms of Service</a>.',recaptchaTOS:'By signing up for Codecademy, you agree to Codecademy\'s <a href="/terms">Terms of Service</a> & <a href="/policy">Privacy Policy</a>.'}},I3Uf:function(e,t,a){e.exports={registrationContainer:"registrationContainer__2QEroVip0rj6VbrALiBz8V",registrationContainerCompact:"registrationContainerCompact__3dLlGm-Ygzwm1cLpI2SAvM",screenReaderOnly:"screenReaderOnly__1DEYZ8Nk3P95bk8hyfMxBS",submitButton:"submitButton__34k4InI5TII_ayjcKIwCLO",submitButtonCompact:"submitButtonCompact__2kcHUFS16OCjvIlCGzr4XY",tos:"tos__2irFvmVYzLt-zbObC3_2D8",fieldset:"fieldset__90L8T9R_uCnS1Uv2DXnSl",formCompact:"formCompact__1SC_7CLTtI-fJ7tbhKNBS_",formGroupsCompact:"formGroupsCompact__1XRxvXwGwE31DG6oB_6E4s",formGroupCompact:"formGroupCompact__3-5L2PXwpuSeLv70_XgwCi",inputCompact:"inputCompact__2utnVUMiZ3IfcJ0d31pVhN",validCheckmark:"validCheckmark__1dZPYK1Ez-la0tynqyu1Fg",inputWrapper:"inputWrapper__1QrvHYrz5fvfSM_ybUnPYg",hidden:"hidden__1Fl8d9j8OjxIV9JmE_eJdl",recaptchaError:"recaptchaError__1Bv_glx_hCOObzHUb3cF9b",formGroup:"formGroup__2f7GlHvZXKIMvaIzaJuPIp",padBottomIfNotEmpty:"padBottomIfNotEmpty__1nV3QG5IEzhRlwpmTjvFiE"}},ZYhH:function(e,t,a){"use strict";var r=a("Z0cm"),n=a.n(r),i=a("mwIZ"),o=a.n(i),c=a("DzJC"),s=a.n(c),l=a("q1tI"),u=a.n(l),d=a("24Ii"),p=a.n(d),f=a("qVvP"),m=a("xk4V"),b=a.n(m),y=a("TSYQ"),_=a.n(y),h=a("JD0t"),v=a("2F30"),g=a("oNLn"),S=a("rIqd"),E=a("Gtit"),C=a("TVOw"),O=a("aT2u"),w=a("jdWZ"),j=a("67+i"),F=a("DHEx"),P=a("3IEF"),I=a("wz8U"),V=a("I3Uf"),k=a.n(V);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){_defineProperty(e,t,a[t])})}return e}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){var a=[],r=!0,n=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw i}}return a}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var A=[{name:"email",label:j.emailLabel,type:"email",autofocus:!0,invalidMessage:"Please use a valid email address"},{name:"password",label:j.passwordLabel,type:"password",invalidMessage:"must have at least 6 characters",pattern:".{6,128}"}],T="/register/validate",R="/register",x=function extractValidationErrors(e){var t=o()(e,"body.errors");return t&&Object.values(t).filter(function(e){return e})?Object.entries(t).reduce(function(e,t){var a=_slicedToArray(t,2),r=a[0],i=a[1];return _objectSpread({},e,{[r]:n()(i)?i[0]:i})},{}):null},L=function(e){function RegistrationForm(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RegistrationForm);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(RegistrationForm)).call.apply(e,[this].concat(r)))).idPrefix="sign_up_form_",t.state={disabled:!1,recaptchaInstanceId:b()(),validationErrors:{},validatedFields:new Set([])},t.onRecapChange=function(e){t.submitForm(e)},t.onRecapExpire=function(){t.resetRecaptcha()},t.onSuccessfulValidation=function(e){t.setValidationErrorState({[e]:void 0}),t.setState(function(t){return{validatedFields:t.validatedFields.add(e)}})},t.onFailedValidation=function(e,a){t.setValidationErrorState({[e]:a}),t.setState(function(t){return t.validatedFields.delete(e),{validatedFields:t.validatedFields}})},t.onSubmissionFailedValidation=function(e){t.setValidationErrorState(e),t.setState(function(a){Object.keys(e).forEach(function(e){a.validatedFields.delete(e)}),t.setState({validatedFields:a.validatedFields})})},t.submitForm=function(e){p.a.post(R).send(_objectSpread({},t.serialize(),{"g-recaptcha-response":e})).use(f.b).accept("json").then(function(e){var a=e.body;Object(w.a)("user_sign_up"),t.setState({disabled:!1}),t.props.onSuccess(a)}).catch(function(e){var a=x(e.response);t.setState({disabled:!1}),a&&t.onSubmissionFailedValidation(a),t.resetRecaptcha()})},t.onSubmitInitialize=function(e){return e.preventDefault(),t.isValid()?(t.setState({disabled:!0}),p.a.post(T).send(t.serialize()).use(f.b).accept("json").then(function(){t.captcha.execute()}).catch(function(e){var a=x(e.response);a&&t.onSubmissionFailedValidation(a),t.setState({disabled:!1})})):null},t.genericClientSideValidityHandler=function(e,a){var r,n=a.target.validity.valueMissing,i=a.target.validity.valid;n?r="can't be blank":i||(r=A.find(function(t){return t.name===e}).invalidMessage),r?t.onFailedValidation(e,r):t.onSuccessfulValidation(e)},t.genericServerSideValidityHandler=s()(function(e,a){a.target.value?p.a.post(T).send({user:{[e]:a.target.value}}).use(f.b).accept("json").then(function(){t.onSuccessfulValidation(e)}).catch(function(a){var r=x(a.response);r&&r[e]?t.onFailedValidation(e,r[e]):t.onSuccessfulValidation(e)}):t.onFailedValidation(e,"can't be blank")},250),t.validateField=function(e,a){"password"===e?t.genericClientSideValidityHandler(a.target.name,a):t.genericServerSideValidityHandler(a.target.name,a)},t.onFieldBlur=function(e){e.persist(),t.validateField(e.target.name,e)},t.onFieldKeyUp=function(e){e.persist();var a=e.target.name;t.state.validationErrors[a]&&t.validateField(e.target.name,e)},t.onSubmitClick=function(){Object(w.e)({target:"create_account"})},t.setFormRef=function(e){t.form=e},t.setCaptchaRef=function(e){t.captcha=e},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(RegistrationForm,l["Component"]),function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(RegistrationForm,[{key:"setValidationErrorState",value:function setValidationErrorState(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setState(function(a){return _objectSpread({validationErrors:_objectSpread({},a.validationErrors,e)},t)})}},{key:"isValid",value:function isValid(){return!Object.values(this.state.validationErrors).filter(function(e){return e}).length}},{key:"serialize",value:function serialize(){return _toConsumableArray(this.form.elements).filter(function(e){return e.name}).reduce(function(e,t){var a=t.dataset.resource;return _objectSpread({},e,a?{[a]:_objectSpread({},e[a],{[t.name]:t.value})}:{[t.name]:t.value})},{})}},{key:"resetRecaptcha",value:function resetRecaptcha(){this.setState({recaptchaInstanceId:b()(),disabled:!1})}},{key:"render",value:function render(){var e=this,t=I.a.get("authenticity_token"),a=this.props,r=a.ctaText,n=a.currentPage,i=a.defaultValues,o=void 0===i?{email:"",password:""}:i,c=a.disableFieldset,s=a.hideOauth,l=a.hideRecaptchaInfo,d=a.hideSubmitButton,p=a.locationType,f=a.markValidatedFields,m=a.redirectUrl,b=a.submitButtonProps,y=a.theme,C="location/EXERCISE"===p,O=this.state.disabled,w=m&&Object(E.e)(m),V=_()("recaptcha-wrapper",{[k.a.padBottomIfNotEmpty]:"compact"!==y});return u.a.createElement("div",{className:_()(k.a.registrationContainer,{[k.a.registrationContainerCompact]:"compact"===y})},u.a.createElement("form",{onSubmit:this.onSubmitInitialize,noValidate:!0,ref:this.setFormRef,method:"POST"},u.a.createElement("fieldset",{className:k.a.fieldset,disabled:c},u.a.createElement("input",{name:"authenticity_token",type:"hidden",value:t}),u.a.createElement("input",{name:"signing_up_from_exercise",type:"hidden",value:"".concat(C)}),u.a.createElement("input",{name:"referring_page",type:"hidden",value:n}),u.a.createElement("input",{name:"redirect",type:"hidden",value:w}),u.a.createElement("div",{className:_()(k.a.formGroups,{[k.a.formGroupsCompact]:"compact"===y})},A.map(function(t){return u.a.createElement(h.a,{key:"".concat(e.idPrefix).concat(t.name),htmlFor:"".concat(e.idPrefix).concat(t.name),label:t.label,className:_()(k.a.formGroup,{[k.a.formGroupCompact]:"compact"===y}),description:e.state.validationErrors[t.name]},u.a.createElement("div",{className:k.a.inputWrapper},u.a.createElement(v.a,{"aria-invalid":e.state.validationErrors[t.name]?"true":void 0,className:_()(k.a.input,{[k.a.inputCompact]:"compact"===y}),"data-testid":"".concat(t.name,"-field"),htmlFor:"".concat(e.idPrefix).concat(t.name),name:t.name,type:t.type,onBlur:e.onFieldBlur,onKeyUp:e.onFieldKeyUp,required:!0,error:!!e.state.validationErrors[t.name],pattern:t.pattern,"data-resource":"user",autoFocus:t.autofocus,defaultValue:o[t.name]}),f&&e.state.validatedFields.has(t.name)&&u.a.createElement(g.a,{name:"checkmark",className:k.a.validCheckmark})))})),u.a.createElement("div",{className:V},this.state.validationErrors.recaptcha&&u.a.createElement("div",{className:k.a.recaptchaError,"data-testid":"recaptcha-error"},this.state.validationErrors.recaptcha),u.a.createElement(F.a,{key:this.state.recaptchaInstanceId,publicKey:I.a.get("recaptcha_key"),size:"invisible",ref:this.setCaptchaRef,onChange:this.onRecapChange,onExpired:this.onRecapExpire})),u.a.createElement(S.a,_extends({},b,{onClick:this.onSubmitClick,type:"submit",className:_()(k.a.submitButton,{[k.a.submitButtonCompact]:"compact"===y,[k.a.hidden]:d}),disabled:O,theme:"brand-purple",id:"".concat(this.idPrefix,"submit")}),r),!l&&u.a.createElement("p",{className:k.a.tos,dangerouslySetInnerHTML:{__html:"".concat(j.recaptchaLink," ").concat(j.recaptchaTOS)}}))),!s&&u.a.createElement(P.a,{signUp:!0,urlParams:{redirect:w}}))}}]),RegistrationForm}();L.defaultProps={onSuccess:function redirectAfterLogin(e){var t=e.redirectTo,a=e.experiments;if(Object(O.g)(t))window.location.assign(Object(E.e)(t||Object(C.v)()));else{var r="variant"===a.exp_credit_card_trial_2019_7_19_new_users;window.location.assign(Object(E.e)(Object(C.D)(t,r)||Object(C.v)()))}},submitButtonProps:{size:"large",theme:"brand-purple"},ctaText:j.createAccountCTA},t.a=L}}]);
//# sourceMappingURL=98.29527b83e2c5e757afd4.chunk.js.map