(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[142],{"+L3W":function(e,t,r){e.exports={shareCodeControl:"shareCodeControl__gl4SWqZsjVr-8rdMdmVW4",cta:"cta__2pLsnCKjPWqAxH-0pXuhjW",ctaArrow:"ctaArrow__1ynA_D2qeHyGhZ384zIXs-"}},"/ar6":function(e,t,r){"use strict";var o=r("hhPA"),n=r.n(o);t.a=n.a.createActions(["broadcast","newAdapter"])},"08+1":function(e,t,r){"use strict";var o=r("w/QP"),n=r.n(o),i=r("zdiy"),a=r.n(i),s=r("OFL0"),c=r.n(s),l=r("gB9P"),u=r.n(l);function Controller(){this.initialize.apply(this,arguments)}Controller.extend=function extend(e,t){var r,o=this;return r=e&&c()(e,"constructor")?e.constructor:function child(){return o.apply(this,arguments)},a()(r,o,t),r.prototype=n()(o.prototype,e),r.prototype.constructor=r,r.__super__=o.prototype,r},Controller.prototype=u.a.mixin({}),t.a=Controller},"49qb":function(e,t,r){e.exports={container:"container__2vMJxNx57a1Av6qb0gmjpl",topPane:"topPane__1yRr0tuslEdYlbf9nwjEit",bottomPane:"bottomPane__358-ZaQVxlDAPx081ksng"}},"55fy":function(e,t,r){e.exports={heading:"heading__32zZOICnFS_W6-JZlLrX2y",subheading:"subheading__rVwyi7V09bKM8slOtu_0E",description:"description__31qWax7kNh79yVS9bXfg3z",slideInLeft:"slideInLeft__XfUkS6UsI-p9lXaZx5ufM",slideOutLeft:"slideOutLeft__2GisNNKrZe2QLl0m1lkzOO"}},"5BBx":function(e,t,r){"use strict";var o=r("hhPA"),n=r.n(o);t.a=n.a.createActions(["checkAssessment"])},"6GsT":function(e,t,r){e.exports={fileNameInput:"fileNameInput__19PYtjk5QeJcn813N2zFr_",createItemForm:"createItemForm__3JdfLuO1wrdsDeAXeTbVBO",addItemControlEnabled:"addItemControlEnabled__1tJx07EmNjT2_utM26E7Uu"}},"6WOP":function(e,t,r){e.exports={button:"button__3QyyZ7VfF20gYLvlba4bzy",active:"active__3G23BnUo54b_LohtzReol1",exerciseTitle:"exerciseTitle__DMOI_fKuWDiNeRfuuknlN",burger:"burger__4P7-7iPTdceddCJKQSFUg",close:"close__2pot0AW8lJ8x-K9dxddXaS"}},"7/as":function(e,t,r){e.exports={progressElipse:"progressElipse__6-cA4TxgvlD6pCdvybrKt",dot:"dot__p3lLrqurjxgNO7ftVv-2W",dotActive:"dotActive__3jRGa5KREPxpTIKAEJc8th"}},"7ZgC":function(e,t,r){e.exports={folderItem:"folderItem__8wzkcWBR_-KUCwaNxQXUb",fileItem:"fileItem__1gwYQmlAbiWOwfuljNG3F-",fileTreeTreeBtn:"fileTreeTreeBtn__3HqepSIevz5d4L4xIvoC9P",fileTreeTreeBtnActive:"fileTreeTreeBtnActive__1FKsqZEBM3zZzAHpQVCNWo",fileTreeTreeBtnInactive:"fileTreeTreeBtnInactive__3iQ9gjYQ9tD2iWVZfGfrRf",renameForm:"renameForm__1qrGK2uW4rsYEY9VVq-9QB",renameFormInput:"renameFormInput__32evqTQvBv-Ie1Brs2Bu3E",rightIcons:"rightIcons__3bK0ubpCh5WycmqVgnwh5a",dropdown:"dropdown__2zUvb4C2_VpQXwPVjkHdNR",dropdownOption:"dropdownOption__p9cdcaSeFquleaxgYrlvg",icon:"icon__39zXF4eo8vuMIjXSrO4Mcl"}},"7r9+":function(e,t,r){e.exports={shimmerGradient:"shimmerGradient__HpPNs2GjWipyw7SNs9WZO",shimmer:"shimmer__3X-Ro-Glov1NkOEm4BkGBB"}},"8bxK":function(e,t,r){e.exports={lessonAuthors:"lessonAuthors__3bfcBEwgIFV4CVq4pqmQd6",lessonAuthorLink:"lessonAuthorLink__3KJBstxpIcPDa2u8n-BWs",slideInLeft:"slideInLeft__3PdU5i6SGy1B8xnI8ThUQ8",slideOutLeft:"slideOutLeft__38dvxdeahZSmkeS5TEn1Mg"}},"9SBa":function(e,t,r){e.exports={dialogButton:"dialogButton__3RVPauNAxMm6dvvo4NTdvw"}},BLes:function(e,t,r){e.exports={container:"container__3-N7B_aVtMN_91s82EnDyR",leftPane:"leftPane__wbc0Ui8vtOHIa7kryqxv6",topSmallPane:"topSmallPane__3aF0w2LCaoGS6MOzBWbYz4",bottomSmallPane:"bottomSmallPane__1mpw3ZmtyD9H0J5RWIBDyU",rightPane:"rightPane__FY51sTpRFFBlhT6RP-wMI"}},CCJX:function(e,t,r){e.exports={authorModeTag:"authorModeTag___EayfIlZT-qUzbgXgOCRr"}},DLIK:function(e,t,r){e.exports={body:"body__2YAqSw_nsALLlzqgZCt7-f",item:"item__3uOKmIw4s4QfZtP8lM6nmj",centeredCheckbox:"centeredCheckbox__3Bvh4aldiBBK3CertU7Cnq",narrativeMarkdown:"narrativeMarkdown__1pqyNDZ_zljr-gC8Q1pur9"}},HSVn:function(e,t,r){e.exports={copyContentControl:"copyContentControl__2_nJWm5SAnjrPglBWCDFCU",cta:"cta__11uZvWt-AkTuaIfgAOUIFu",ctaArrow:"ctaArrow__3AaRLFxB4fIS4anpFOkhD7",copyMessage:"copyMessage__1gNCMHDjjjn5QWMgoeBnlE",error:"error__SFqjB1Xa861hfQky8a6eH"}},IFM8:function(e,t,r){"use strict";var o=r("mwIZ"),n=r.n(o),i=r("TSYQ"),a=r.n(i),s=r("g5A2"),c=r("u4Un"),l=r("pdiq"),u=r("zSSe"),p=r("zBtv"),f=r("17x9"),d=r.n(f),h=r("q1tI"),m=r.n(h),y=r("fhzG"),g=r.n(y),b=r("BzM2"),_=r("HOuw"),v=g()({displayName:"WorkspaceStatusMessage",propTypes:{type:d.a.string,message:d.a.string,visible:d.a.bool},mixins:[b.StateMixin.connect(_.a,"workspaceStatusType"),b.StateMixin.connect(_.a,"workspaceStatusMessage")],getInitialState:function getInitialState(){return{visible:!1,isHovering:!1}},componentDidUpdate:function componentDidUpdate(e,t){var r=this,o=this.state.workspaceStatusType,n=this.state.workspaceStatusMessage;if((o!==t.workspaceStatusType||n!==t.workspaceStatusMessage)&&this.state.workspaceStatusMessage&&(this.setState({visible:!0}),this.state.hideTimeout&&(clearTimeout(this.state.hideTimeout),this.setState({hideTimeout:null})),"success"===this.state.workspaceStatusType)){var i=setTimeout(function(){r.setState({visible:!1})},3e3);this.setState({hideTimeout:i})}},onMouseOver:function onMouseOver(){this.state.isHovering=!0,this.setState({isHovering:this.state.isHovering,visible:!0})},onMouseLeave:function onMouseLeave(){this.setState({visible:!1,isHovering:!1})},render:function render(){var e="neutral"===this.state.workspaceStatusType,t=a()({"fcn-godex-status--hidden":!this.state.visible,"fcn-godex-status":!0,"fcn-godex-status--neutral":e,"fcn-godex-status--error":"error"===this.state.workspaceStatusType||"idle"===this.state.workspaceStatusType,"fcn-godex-status--success":"success"===this.state.workspaceStatusType,"fcn-godex-status--stable":this.state.isHovering&&"error"!==this.state.workspaceStatusType});return m.a.createElement("div",{className:"fcn-godex-status-container",onMouseEnter:this.onMouseOver,onMouseLeave:this.onMouseLeave},m.a.createElement("div",{className:t},m.a.createElement("span",{ref:"statusMessage"},this.state.workspaceStatusMessage),m.a.createElement("div",{className:"fcn-godex-status__glow"})))}}),C=r("NaN6"),O=r("/MKj"),P=r("T2dD"),k=r("1fti"),w=r("TGBz"),E=r("rIqd"),S=r("2F30"),T=r("sCXD"),N=r.n(T);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function Idle(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Idle);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(Idle)).call.apply(e,[this].concat(o)))).state={minutes:t.props.focusInterval},t.handleChange=function(e){t.setState({minutes:e.target.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.startTimer(t.state.minutes)},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Idle,h["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Idle,[{key:"render",value:function render(){var e=this,t=this.props.startTimer;return m.a.createElement("div",null,m.a.createElement("h2",null,"Focus Timer"),m.a.createElement("div",null,"Set a timer to stay focused and get more done!"),m.a.createElement("form",{action:"start-timer",id:"timer-form",onSubmit:this.handleSubmit,className:N.a.timeForm},m.a.createElement(S.a,{className:N.a.timeInputBox,value:this.state.minutes,onChange:this.handleChange}),m.a.createElement("span",{className:N.a.minutesLabel},"Minutes")),m.a.createElement(E.a,{onClick:function onClick(){return t(e.state.minutes)},className:N.a.commitButton,outline:!1,theme:"brand-purple"},"Start"))}}]),Idle}();R.propTypes={startTimer:d.a.func,focusInterval:d.a.number};var j=R,x=r("Efxr"),I=r("ZtOw"),F=r.n(I),L={circleRef:d.a.object,circleRadius:d.a.number,circleLength:d.a.number,className:d.a.string};function AnimatedTimerCircle(e){var t=e.circleRef,r=e.circleRadius,o=e.className,n=e.circleLength,i=Math.round(r/7),a=r+i;return m.a.createElement("svg",{height:2*a,width:2*a,className:o},m.a.createElement("circle",{className:F.a.circleWatermark,cx:a,cy:a,r:r,strokeWidth:i}),m.a.createElement("circle",{ref:t,className:F.a.circle,cx:a,cy:a,r:r,strokeWidth:i,strokeDasharray:n,strokeDashoffset:n,transform:"rotate(-90, ".concat(a,", ").concat(a,")")}))}AnimatedTimerCircle.propTypes=L;var M=AnimatedTimerCircle,B=r("vD2r"),W=r.n(B);function Running_typeof(e){return(Running_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Running_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Running_possibleConstructorReturn(e,t){return!t||"object"!==Running_typeof(t)&&"function"!=typeof t?function Running_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Running_getPrototypeOf(e){return(Running_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Running_setPrototypeOf(e,t){return(Running_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var D=1500,A=x.b.div({enter:{scale:1,opacity:1},exit:{scale:1.5,opacity:0,y:"-40px",transition:{duration:D}}}),H=function(e){function Running(e){var t;return function Running_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Running),(t=Running_possibleConstructorReturn(this,Running_getPrototypeOf(Running).call(this,e))).state={isVisible:!0},t.pauseTimerAndAnimation=function(){var e=t.props.pauseTimer;t.circleRef.current&&(t.circleRef.current.style.webkitAnimationPlayState="paused"),clearTimeout(t.focusSessionCompletedAnimation),e()},t.resumeTimerAndAnimation=function(){var e=t.props.resumeTimer;t.circleRef.current&&(t.circleRef.current.style.webkitAnimationPlayState="running"),e(),t.setEndingAnimation()},t.setEndingAnimation=function(){t.focusSessionCompletedAnimation=setTimeout(function(){t.setState({isVisible:!1})},1e3*t.props.secondsRemaining-D)},t.circleRef=m.a.createRef(),t}return function Running_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Running_setPrototypeOf(e,t)}(Running,h["Component"]),function Running_createClass(e,t,r){return t&&Running_defineProperties(e.prototype,t),r&&Running_defineProperties(e,r),e}(Running,[{key:"componentDidMount",value:function componentDidMount(){this.circleRef.current.style.animationDuration="".concat(60*this.props.focusIntervalMinutes-1,"s"),this.circleRef.current.style.animationDelay="-".concat(60*this.props.focusIntervalMinutes-this.props.secondsRemaining,"s"),this.setEndingAnimation()}},{key:"render",value:function render(){var e=this.props,t=e.isTimerPaused,r=e.cancelTimer,o=e.secondsRemaining,n=this.state.isVisible,i=Math.ceil(o/60);return m.a.createElement("div",null,m.a.createElement("h2",{className:W.a.header},"Time Remaining"),m.a.createElement("div",{className:W.a.timeRemainingSection},m.a.createElement(x.a,null,n&&m.a.createElement(A,{key:"circle"},m.a.createElement(M,{circleRef:this.circleRef,circleRadius:75,circleLength:471,className:W.a.timeCircle}))),m.a.createElement("div",{className:W.a.time},m.a.createElement("strong",{className:W.a.strong},i),m.a.createElement("div",{className:W.a.timeRemaining},"Minute",i>1&&"s"," left"))),m.a.createElement("div",null,m.a.createElement(E.a,{onClick:r,className:W.a.buttonWithMargin,theme:"brand-purple",outline:!0},"Cancel"),t?m.a.createElement(E.a,{onClick:this.resumeTimerAndAnimation,outline:!1,theme:"brand-purple"},"Resume"):m.a.createElement(E.a,{onClick:this.pauseTimerAndAnimation,outline:!1,theme:"brand-purple"},"Pause")))}}]),Running}();H.propTypes={secondsRemaining:d.a.number,focusIntervalMinutes:d.a.number,cancelTimer:d.a.func,pauseTimer:d.a.func,resumeTimer:d.a.func,isTimerPaused:d.a.bool};var q=H,z=r("LndF"),U=r.n(z),G=r("WdGf"),Q=r.n(G);function Finished_typeof(e){return(Finished_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Finished_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Finished_possibleConstructorReturn(e,t){return!t||"object"!==Finished_typeof(t)&&"function"!=typeof t?function Finished_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Finished_getPrototypeOf(e){return(Finished_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Finished_setPrototypeOf(e,t){return(Finished_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var V={resetTimer:d.a.func},K=function(e){function Finished(){return function Finished_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Finished),Finished_possibleConstructorReturn(this,Finished_getPrototypeOf(Finished).apply(this,arguments))}return function Finished_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Finished_setPrototypeOf(e,t)}(Finished,h["Component"]),function Finished_createClass(e,t,r){return t&&Finished_defineProperties(e.prototype,t),r&&Finished_defineProperties(e,r),e}(Finished,[{key:"render",value:function render(){var e=this.props.resetTimer;return m.a.createElement(m.a.Fragment,null,m.a.createElement("h2",null,"Great job!"),m.a.createElement("p",null,"Take a short break and keep going!"),m.a.createElement("div",{className:Q.a.image},m.a.createElement("img",{src:U.a,alt:"Finished"})),m.a.createElement(E.a,{onClick:e,className:Q.a.resetButton,outline:!1,theme:"brand-purple"},"Restart"))}}]),Finished}();K.propTypes=V;var Z=K,Y=r("cGMd"),J=r.n(Y),X=r("bjkt"),$=r.n(X);function Errored_typeof(e){return(Errored_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Errored_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Errored_possibleConstructorReturn(e,t){return!t||"object"!==Errored_typeof(t)&&"function"!=typeof t?function Errored_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Errored_getPrototypeOf(e){return(Errored_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Errored_setPrototypeOf(e,t){return(Errored_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ee={resetTimer:d.a.func},te=function(e){function Errored(){return function Errored_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Errored),Errored_possibleConstructorReturn(this,Errored_getPrototypeOf(Errored).apply(this,arguments))}return function Errored_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Errored_setPrototypeOf(e,t)}(Errored,h["Component"]),function Errored_createClass(e,t,r){return t&&Errored_defineProperties(e.prototype,t),r&&Errored_defineProperties(e,r),e}(Errored,[{key:"render",value:function render(){var e=this.props.resetTimer;return m.a.createElement(m.a.Fragment,null,m.a.createElement("h2",null,"Focus Timer"),m.a.createElement("p",{className:$.a.error},"Oops, the time you set is invalid. Please enter a number."),m.a.createElement("div",{className:$.a.image},m.a.createElement("img",{src:J.a,alt:"Errored Codey"})),m.a.createElement(E.a,{onClick:e,className:$.a.resetButton,outline:!1,theme:"brand-purple"},"Restart"))}}]),Errored}();te.propTypes=ee;var re=te;function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function AlarmIcon(e){return m.a.createElement("svg",_extends({width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},e),m.a.createElement("g",{fill:"none",fillRule:"evenodd"},m.a.createElement("path",{d:"M20 7.067L16.32 4l-1.032 1.215 3.68 3.067L20 7.067zM8.704 5.215L7.68 4 4 7.059l1.032 1.215 3.672-3.059zM12 6a7 7 0 1 0 .001 14.001A7 7 0 0 0 12 6zm0 12c-2.764 0-5-2.236-5-5s2.236-5 5-5 5 2.236 5 5-2.236 5-5 5z",fill:"#FFF"}),m.a.createElement("path",{fill:"#FFF",fillRule:"nonzero",d:"M12.5 13h2.526v1H11.5V9.04h1z"})))}var oe=r("PTAn"),ne=r.n(oe);function FocusTimer_typeof(e){return(FocusTimer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FocusTimer_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function FocusTimer_possibleConstructorReturn(e,t){return!t||"object"!==FocusTimer_typeof(t)&&"function"!=typeof t?function FocusTimer_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function FocusTimer_getPrototypeOf(e){return(FocusTimer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FocusTimer_setPrototypeOf(e,t){return(FocusTimer_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ie="finished",ae=function(e){function FocusTimer(e){var t;return function FocusTimer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FocusTimer),(t=FocusTimer_possibleConstructorReturn(this,FocusTimer_getPrototypeOf(FocusTimer).call(this,e))).state={popoverOpenOverride:void 0},t.updateTimer=function(){t.timerId&&(sessionStorage.getItem("timerPaused")||(t.calculateSecondsRemaining()<=1&&t.endTimer(ie),t.forceUpdate()))},t.endTimer=function(){window.clearInterval(t.timerId),t.timerId=null,t.setState({popoverOpenOverride:!0}),t.forceUpdate()},t.startTimer=function(e){(0,t.props.trackClick)({data:{target:"focustimer_commit"}}),t.timerId=window.setInterval(t.updateTimer,1e3),sessionStorage.setItem("timerDuration",e),sessionStorage.setItem("timerStartTime",Date.now()),t.circleRef.current.style.animationDuration="".concat(60*e-1,"s"),t.circleRef.current.style.animationDelay="0s",t.forceUpdate()},t.resetTimer=function(){t.timerId&&(window.clearInterval(t.timerId),t.timerId=null),sessionStorage.removeItem("timerStartTime"),sessionStorage.removeItem("timerPaused"),t.forceUpdate()},t.pauseTimer=function(){(0,t.props.trackClick)({data:{target:"focustimer_pause"}}),t.circleRef.current.style.webkitAnimationPlayState="paused",sessionStorage.setItem("timerPaused",Date.now()),t.forceUpdate()},t.resumeTimer=function(){(0,t.props.trackClick)({data:{target:"focustimer_resume"}}),t.circleRef.current.style.webkitAnimationPlayState="running";var e=Number(sessionStorage.getItem("timerStartTime"))+(Date.now()-Number(sessionStorage.getItem("timerPaused")));sessionStorage.setItem("timerStartTime",e),sessionStorage.removeItem("timerPaused"),t.forceUpdate()},t.clearPopoverOpenOverride=function(){(0,t.props.trackClick)({data:{target:"focustimer"}}),t.setState({popoverOpenOverride:void 0})},t.calculateSecondsRemaining=function(){return(Number(sessionStorage.getItem("timerStartTime"))+6e4*Number(sessionStorage.getItem("timerDuration"))-Date.now())/1e3},t.circleRef=m.a.createRef(),t}return function FocusTimer_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FocusTimer_setPrototypeOf(e,t)}(FocusTimer,h["Component"]),function FocusTimer_createClass(e,t,r){return t&&FocusTimer_defineProperties(e.prototype,t),r&&FocusTimer_defineProperties(e,r),e}(FocusTimer,[{key:"componentDidMount",value:function componentDidMount(){var e=sessionStorage.getItem("timerDuration");if(e||sessionStorage.setItem("timerDuration","15"),sessionStorage.getItem("timerStartTime")){if(this.timerId=window.setInterval(this.updateTimer,1e3),!this.circleRef.current)return;this.circleRef.current.style.animationDuration="".concat(60*e-1,"s");var t=this.calculateSecondsRemaining();this.circleRef.current.style.animationDelay="-".concat(60*e-t,"s")}}},{key:"renderTimerState",value:function renderTimerState(){var e,t,r=this,o=Number(sessionStorage.getItem("timerDuration")),n=!!sessionStorage.getItem("timerPaused");return sessionStorage.getItem("timerStartTime")?(t=this.calculateSecondsRemaining(),e=Number.isNaN(t)?"errored":t>1?"running":ie):e="idle",{idle:m.a.createElement(j,{startTimer:this.startTimer,focusInterval:o}),running:m.a.createElement(q,{focusIntervalMinutes:o,secondsRemaining:t,cancelTimer:function cancelTimer(){(0,r.props.trackClick)({data:{target:"focustimer_cancel"}}),r.resetTimer()},pauseTimer:this.pauseTimer,resumeTimer:this.resumeTimer,isTimerPaused:n}),[ie]:m.a.createElement(Z,{resetTimer:this.resetTimer}),errored:m.a.createElement(re,{resetTimer:this.resetTimer})}[e]}},{key:"render",value:function render(){var e=!!this.timerId,t=a()({[ne.a.alarm]:!0,[ne.a.activeAlarm]:e}),r=a()({[ne.a.timerCircle]:!0,[ne.a.inactiveTimerCircle]:!e}),o=m.a.createElement("div",{className:ne.a.alarmContainer},m.a.createElement(AlarmIcon,{className:t,alt:"focus timer tool"}),m.a.createElement(M,{circleRef:this.circleRef,circleRadius:14,circleLength:88,className:r}));return m.a.createElement("div",{className:ne.a.focusTimerToolContainer},m.a.createElement(k.a,{clickTarget:o,className:ne.a.dropdownToggle,open:this.state.popoverOpenOverride,onToggle:this.clearPopoverOpenOverride,showNipple:!1},m.a.createElement(w.a,{column:!0,className:ne.a.dropdown},m.a.createElement("div",{className:ne.a.content},this.renderTimerState()))))}}]),FocusTimer}();ae.propTypes={trackClick:d.a.func};var se=ae,ce={trackClick:P.f},le=Object(O.connect)(null,ce)(se),ue=r("CCJX"),pe=r.n(ue);function Header_typeof(e){return(Header_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Header_extends(){return(Header_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function Header_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Header_possibleConstructorReturn(e,t){return!t||"object"!==Header_typeof(t)&&"function"!=typeof t?function Header_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Header_getPrototypeOf(e){return(Header_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Header_setPrototypeOf(e,t){return(Header_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var fe=function(e){function PlatformHeader(){return function Header_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PlatformHeader),Header_possibleConstructorReturn(this,Header_getPrototypeOf(PlatformHeader).apply(this,arguments))}return function Header_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Header_setPrototypeOf(e,t)}(PlatformHeader,h["Component"]),function Header_createClass(e,t,r){return t&&Header_defineProperties(e.prototype,t),r&&Header_defineProperties(e,r),e}(PlatformHeader,[{key:"render",value:function render(){var e=[],t=[];if(t.push(m.a.createElement(s.a,{key:"focus-timer-tool"},m.a.createElement(le,null))),this.props.authoringMode){var r=a()("new-cc-icon","icon-edit",pe.a.authorModeTag);e.push(m.a.createElement("span",{className:r,key:"authoring"},"Authoring"))}u.a.hasGodMode()&&e.push(m.a.createElement(l.a,{key:"god-mode"},m.a.createElement(p.a,{setProgressToCurrentExercise:this.props.setProgressToCurrentExercise,prerender:this.props.prerender,currentWorkspace:this.props.workspace,authorURL:this.props.authorURL,nolock:this.props.nolock,authoringMode:this.props.authoringMode})));var o=m.a.createElement(v,null),i=a()(pe.a.header,this.props.className);return m.a.createElement(c.a,Header_extends({},this.props,{compact:!0,className:i,showNav:!1,theme:"dark",wide:!0,titleRoute:n()(this.props,"exitPaths.back"),tabsRight:e,tabsLeft:t,statusDisplay:o,flags:{openUpgradeLinkInNewTab:!0},profileImage:u.a.get("profile_image_url"),hideRegisterButton:!0,hideLoginButton:!0,hideSearch:!0}))}}]),PlatformHeader}();fe.propTypes={title:d.a.string,exitPaths:d.a.object.isRequired,profileImage:d.a.string.isRequired,setProgressToCurrentExercise:d.a.func,workspace:d.a.object.isRequired,prerender:d.a.object,authorURL:d.a.string,nolock:d.a.bool.isRequired,authoringMode:d.a.bool,uploadSavepoints:d.a.bool.isRequired,className:d.a.string};t.a=Object(O.connect)(function mapStateToProps(e){return{title:Object(C.f)(e)}})(fe)},"J5+O":function(e,t,r){e.exports={placeholder:"placeholder__KjOh5FOI619Opyu9M61NX",themeDark:"themeDark__Q862VUBqZrHP9hpY2nhL_",componentName:"componentName__2prxvDh1YEvK5mFXRnUBRb"}},J6bT:function(e,t,r){e.exports={fcnCreateFileTool:"fcnCreateFileTool__MxPpqh0M5RkG3YmYgaELj",fileToolMenu:"fileToolMenu__Ynti0ixbhBEdeGYq_eDy9",toolsRight:"toolsRight__2JbGTTPKI7AoTxfjKFjyR1"}},KTF3:function(e,t,r){e.exports={frame:"frame__3Npa1q4ySrHCwd3HoJoTeR",browserChrome:"browserChrome__ql25cfW_rXyHKM-broNuK",urlBarContainer:"urlBarContainer__3oYtw7RRTOMdzcZXRHjIxU",urlBar:"urlBar__2XJptgMxLaw97WpDGRzrLb",urlError:"urlError___rFHnLAdMN44LoO6HEPgL",browserBody:"browserBody__1RMORVw-C6yaBuI18tjqG9",browserSkeleton:"browserSkeleton__1h964RBUrgNPLw8Rj_2W5V"}},LiRT:function(e,t,r){e.exports={list:"list__xfo9KQOXCEM0e1UgsgBrO",listItem:"listItem__12kRnP1UCzQY4BK9laGOjh",text:"text__1ZWkvA4OSZmYP9EzFTOo0",chevron:"chevron__2tOZEsbyhFl-iqoFU9LBHR",hr:"hr__aGwkVLzn2mi9PIc5F02Vq"}},LndF:function(e,t,r){e.exports=r.p+"9863bf17c1f2242a1bea6434fa8259a4.svg"},NCda:function(e,t,r){e.exports={videoContainer:"videoContainer__3maX1Zo5Va1CUCkWSVYNd9",video:"video__3kretw7NoqOh7wO32u0byE",youtube:"youtube__3-j34t9hIQY4wj1Y6uC_wn"}},PTAn:function(e,t,r){e.exports={alarm:"alarm__1g3JpbcIctKncGGljmOq3R",lookHere:"lookHere__2dKCKkBT8zN6JPuy0otPgB",activeAlarm:"activeAlarm__3CLEZN4WSHlecFF-2LTL2Q",alarmContainer:"alarmContainer__2eKGJot3yREGqGTlWwbeBe",dropdown:"dropdown__4aDY5feqrtSeynH1N-Hgp",content:"content__3Jo4_VW8UAcvvEaARWO3EO",focusTimerToolContainer:"focusTimerToolContainer__3Jegu6NwA12fbtv7_tQPMr",status:"status__kfueBSg0MweQyZBbvHUMt",timerCircle:"timerCircle__1C7xMndMiRfciJq2KOrgsh",inactiveTimerCircle:"inactiveTimerCircle__1HFlTDSzMvjKrL4TfafH5l"}},PhsW:function(e,t,r){e.exports={group:"group__3XV6l7p16o_tFCYEV39iFW"}},QVXb:function(e,t,r){"use strict";var o=r("q1tI"),n=r.n(o),i=r("wX+j"),a=r("TGBz"),s=r("oNLn"),c=r("rIqd"),l=r("8/Hw"),u=r("jdWZ"),p=r("zSSe"),f=r("jOg1"),d=r.n(f);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function MaintenancePane(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MaintenancePane);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(MaintenancePane)).call.apply(e,[this].concat(o)))).state={notify:!1},t.notify=function(){Object(u.b)("user","click",{element:"maintenance_notify",slug:t.props.slug}),t.setState({notify:!0})},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(MaintenancePane,o["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(MaintenancePane,[{key:"renderNofiicationButton",value:function renderNofiicationButton(){if(p.a.isAnon())return null;var e=this.state.notify?"nuetral":"secondary";return n.a.createElement(c.a,{block:!0,theme:e,className:d.a.maintButton,onClick:this.notify},this.state.notify?"Ok we'll let you know!":"Notify Me When This Course Is Available")}},{key:"render",value:function render(){return n.a.createElement(i.a,{className:d.a.container},n.a.createElement(a.a,{grow:1,column:!0,className:d.a.itemRow,center:!0},n.a.createElement(a.a,{center:!0,className:d.a.iconContainer},n.a.createElement(s.a,{name:"maintenance",height:60,width:60,className:d.a.icon})),n.a.createElement("h1",{className:d.a.headerMsg},"Under Construction"),n.a.createElement(a.a,{column:!0,className:d.a.mainMsg},n.a.createElement("p",null,"Hey there,"),n.a.createElement("p",null,"We are currently having a service outage, and some of our content is unavailable. We are working hard to get this fixed, and appreciate your patience!"),n.a.createElement("p",null,"Keep up the good work!")),n.a.createElement(a.a,null,n.a.createElement(l.a,{href:"/catalog"},n.a.createElement(c.a,{theme:"secondary",className:d.a.maintButton},"Explore All Courses")),this.renderNofiicationButton())))}}]),MaintenancePane}();t.a=h},RD3t:function(e,t,r){e.exports={fileTool:"fileTool__388tMaZXqB28QqVUizbshP",fileToolClosed:"fileToolClosed__2sSIhA2qVSlrFxQcVEIwxx",fileToolIsAdding:"fileToolIsAdding__36lOawzSX5ePj3YUDem_6L",fileToolError:"fileToolError__879FVR8iRZBMeK8GbBoxO",fileToolErrorIsDir:"fileToolErrorIsDir__n0Xtr15nUxUjv8kqdy0Xx",fileToolContainer:"fileToolContainer__38L1PVQ6lr4z1q94bVotSE",fileToolErrorShown:"fileToolErrorShown__20oimW4DKr8d3hSR08IIiY"}},SXFS:function(e,t,r){e.exports={modalOverlay:"modalOverlay__1oYEU9wDZbNQvy3XJw7f03",modal:"modal__300H-z8Emtp72To9jo_ZSJ",slideInLeft:"slideInLeft__1PMqp73wsH1ZRu72GglB1I",modalIsClosing:"modalIsClosing__3eo5CpJgBQxq7A0JZfZMFJ",slideOutLeft:"slideOutLeft__1LuhHBNUrAj82FfLtk-ykH"}},VBGW:function(e,t,r){e.exports={cmeditor:"cmeditor__2Gxggo8GsvlSZS4rMGa1zE",edFToolLayoutContainer:"edFToolLayoutContainer__bluSQDfautRGFZdw97pdD",mainContainer:"mainContainer__3O-RLBkFmh3eEUCeghKrhE",layoutCollapsed:"layoutCollapsed__3p1JrXw3YdUkz-6Oxzh7JF",noNavigator:"noNavigator__2uXwHyAk6ut119rOs87IUQ",includeFileNavTab:"includeFileNavTab__UIltNY2WrsMk92QbWFgqc",fileTabOpen:"fileTabOpen__tvjc6zVx7Vpx1NG8wmAko",tabsOffSet:"tabsOffSet__1Qw3ZoAvr9hwatPCHvW8i6",editorFooter:"editorFooter__3vMXEva7_RFPU2uMCO-X_H",codeEditorSkeleton:"codeEditorSkeleton__1SpkeaPSnKpxdl9SVssGOL"}},WdGf:function(e,t,r){e.exports={finishedState:"finishedState__2ye1XmX92Ea-CKZPz9fo2o",image:"image__3DXNhEPR2fvXjUAGb5MBtL"}},XRCR:function(e,t,r){e.exports={mainContainer:"mainContainer__3USOknCfBhYUVmTuG1N5Ov",editorContainer:"editorContainer__3B9IePMQ6ZHYY6rzHKJ7EC",cmeditor:"cmeditor__1Jdq0sC4R02kRSllKxM5Je",readOnlyFooterNote:"readOnlyFooterNote__XS_jdBDHcVfBADS9zIwfi",readOnlyCodeEditorSkeleton:"readOnlyCodeEditorSkeleton__dI8SMyfQ3T7BoQufw-9Hx"}},ZtOw:function(e,t,r){e.exports={circle:"circle__3pNRYu0bYy1xRT5VkiL6Dn",rotate:"rotate__qHPa3KBeMXQDBB3TXWvkx",circleWatermark:"circleWatermark__2qn4VtNuLADc0mrsw8B5eI"}},a5nv:function(e,t,r){"use strict";var o=r("zdiy"),n=r.n(o),i=r("EVdn"),a=r.n(i),s=r("08+1").a.extend({initialize:function initialize(){},createComponentBroadcastFunction:function createComponentBroadcastFunction(e){return function(){var t=arguments[0],r=["component",e,t].join(":"),o=Array.prototype.slice.call(arguments,1),n=[r].concat(o);this.trigger.apply(this,n)}.bind(this)},_handle:function _handle(e){var t=this;this._handlers[e].forEach(function(e){e.call(t)})},registerComponent:function registerComponent(e,t){this._components[e]=t},destroy:function destroy(){for(var e in this._handle("destroy"),this._events)this.off(e)},inheritCache:function inheritCache(e){this._cache=e._cache},extendCache:function extendCache(){this._handle("extendCache")}}),c=function(e){return function(){var t=a.a.extend(!0,{mixins:[]},e),r={},o=t.mixins,i=[t.events],c={destroy:[],extendCache:[]};function keepHandler(e,t){void 0!==e[t]&&(c[t].push(e[t]),delete e[t])}delete t.events,keepHandler(t,"destroy"),keepHandler(t,"extendCache"),r=n()(r,t),void 0!==o&&o.forEach(function(e){keepHandler(e,"destroy"),keepHandler(e,"extendCache"),i.push(n()({},e.events)),delete e.events,r=n()(r,e)});var l=new(s.extend(r));return l._handlers=c,l._components={},l._state={},l._cache={},i.forEach(function(e){for(var t in e)l.on(t,e[t].bind(l))}),l}},l=r("HOuw"),u={events:{"component:Terminal:input":function componentTerminalInput(e,t){l.a.interface.execute(e).then(function(r){t(e,r.Content,r.Error?1:0)}).catch(function(){t(e,"",1)})}}},p=(r("ANGy"),r("JoHf")),f={PersistentCodeEditor:[{events:{"component:PersistentCodeEditor:error":function componentPersistentCodeEditorError(e){this.controller.setState({errors:e})}}}],OutputTerminal:[{}],Terminal:[u],WebBrowser:[],Brief:[{events:{"interface:persist":function interfacePersist(){p.a.persist()},"component:Brief:start":function componentBriefStart(){var e=this;this._components.WebBrowser&&this._components.WebBrowser.home(),this.controller.updateProgress(1,{success:function success(){e.controller.revealComponents(),e.controller.setState({progress:{status:1}})}})}}}]};t.a={forComponents:function forComponents(e){return c({mixins:this._getBaseMixins(e)})()},forProjectsWithComponents:function forProjectsWithComponents(e){return c({mixins:this._getBaseMixins(e)})()},_getComponentMixins:function _getComponentMixins(e,t){var r=Object.keys(e),o=[];return r.forEach(function(e){e in t&&(o=o.concat(t[e]))}),o},_getBaseMixins:function _getBaseMixins(e){return this._getComponentMixins(e,f)}}},bA1J:function(e,t,r){e.exports={container:"container__1gnH8AX3SEG1Ao1KhcQMXa"}},bGfR:function(e,t,r){e.exports={container:"container__2UYLmnhZW_ijNP7gESnA9X",topPane:"topPane__1jQ6A8_F08U2p_lWfROpe6",leftSmallPane:"leftSmallPane__GP6qODsyyvTltAwN8CGfE",bottomPane:"bottomPane__19nJlRlqKu0ZgJhQ0Wg7Kz",rightSmallPane:"rightSmallPane__29hyEP9fRV1VH4-IpLD_XY"}},bjkt:function(e,t,r){e.exports={error:"error__1WWJlsjdXeHae8UlspHJKX",finishedState:"finishedState__19z9NFlzpkw3JdDr2qGwtE",image:"image__3gadEGJYZfMVqwIs4r45j"}},cCeZ:function(e,t,r){"use strict";var o=r("mwIZ"),n=r.n(o),i=r("/MKj"),a=r("17x9"),s=r.n(a),c=r("q1tI"),l=r.n(c),u=r("fhzG"),p=r.n(u),f=r("+IkO"),d=r("JoHf"),h=r("zfST"),m=r("TGBz"),y=r("bA1J"),g=r.n(y),b={firstPane:s.a.node.isRequired};function OnePane(e){var t=e.firstPane;return l.a.createElement(m.a,{className:g.a.container},t)}OnePane.propTypes=b;var _=r("jAtM"),v=r.n(_),C={firstPane:s.a.node.isRequired,secondPane:s.a.node.isRequired};function TwoPaneCol(e){var t=e.firstPane,r=e.secondPane;return l.a.createElement(m.a,{className:v.a.container},l.a.createElement("div",{className:v.a.leftPane},t),l.a.createElement("div",{className:v.a.rightPane},r))}TwoPaneCol.propTypes=C;var O=r("49qb"),P=r.n(O),k={firstPane:s.a.node.isRequired,secondPane:s.a.node.isRequired};function TwoPaneRow(e){var t=e.firstPane,r=e.secondPane;return l.a.createElement(m.a,{column:!0,className:P.a.container},l.a.createElement("div",{className:P.a.topPane},t),l.a.createElement("div",{className:P.a.bottomPane},r))}TwoPaneRow.propTypes=k;var w=r("BLes"),E=r.n(w),S={firstPane:s.a.node.isRequired,secondPane:s.a.node.isRequired,thirdPane:s.a.node.isRequired};function ThreePaneCol(e){var t=e.firstPane,r=e.secondPane,o=e.thirdPane;return l.a.createElement(m.a,{className:E.a.container},l.a.createElement(m.a,{column:!0,className:E.a.leftPane},l.a.createElement("div",{className:E.a.topSmallPane},t),l.a.createElement("div",{className:E.a.bottomSmallPane},r)),l.a.createElement("div",{className:E.a.rightPane},o))}ThreePaneCol.propTypes=S;var T=r("bGfR"),N=r.n(T),R={firstPane:s.a.node.isRequired,secondPane:s.a.node.isRequired,thirdPane:s.a.node.isRequired};function ThreePaneRow(e){var t=e.firstPane,r=e.secondPane,o=e.thirdPane;return l.a.createElement(m.a,{column:!0,className:N.a.container},l.a.createElement(m.a,{className:N.a.topPane},l.a.createElement("div",{className:N.a.leftSmallPane},t),l.a.createElement("div",{className:N.a.rightSmallPane},r)),l.a.createElement("div",{className:N.a.bottomPane},o))}ThreePaneRow.propTypes=R;var j=r("p02k"),x=r.n(j),I={gridType:s.a.oneOf(["one_pane","two_pane_col","two_pane_row","three_pane_col","three_pane_row"]),narrativePane:s.a.node.isRequired,firstPane:s.a.node.isRequired,secondPane:s.a.node,thirdPane:s.a.node},F={one_pane:OnePane,two_pane_col:TwoPaneCol,two_pane_row:TwoPaneRow,three_pane_col:ThreePaneCol,three_pane_row:ThreePaneRow};function GridLayout(e){var t=e.gridType,r=e.narrativePane,o=e.firstPane,n=e.secondPane,i=e.thirdPane,a=F[t]||F.two_pane_col;return l.a.createElement(m.a,{className:x.a.container},l.a.createElement("div",{className:x.a.narrativePane},r),l.a.createElement("div",{className:x.a.dynamicLayout},l.a.createElement(a,{firstPane:o,secondPane:n,thirdPane:i})))}GridLayout.propTypes=I,GridLayout.defaultProps={gridType:"one_pane"};var L=r("TSYQ"),M=r.n(L),B=r("esq3");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var W={adapter:s.a.object,availableComponents:s.a.object,presenter:s.a.object,modifiers:s.a.object,user:s.a.object,slot:s.a.object,name:s.a.string,componentShouldBeDisabled:s.a.func,evaluateExercise:s.a.func,hasCheckWork:s.a.bool},D=function(e){function LearningComponentBuilder(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LearningComponentBuilder),_possibleConstructorReturn(this,_getPrototypeOf(LearningComponentBuilder).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(LearningComponentBuilder,c["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(LearningComponentBuilder,[{key:"componentDidUpdate",value:function componentDidUpdate(){var e=this.props,t=e.adapter,r=e.name;t.registerComponent&&t.registerComponent(r,this.refs[r])}},{key:"componentDidMount",value:function componentDidMount(){var e=this.props,t=e.adapter,r=e.name;t.registerComponent&&t.registerComponent(r,this.refs[r])}},{key:"selectComponentForError",value:function selectComponentForError(){for(var e=this.props.availableComponents,t=["PersistentCodeEditor","Terminal","WebBrowser"],r=0;r<t.length;r++){var o=t[r];if(e[o])return o}var n=Object.keys(e).filter(function(e){return"Narrative"!==e});return n.length>0?n[0]:null}},{key:"render",value:function render(){var e=this.props,t=e.modifiers,r=e.availableComponents,o=e.presenter,n=e.name,i=e.componentShouldBeDisabled,a=e.evaluateExercise,s=e.user,c=e.adapter,u=e.hasCheckWork,p=r[n];if(!p)return null;var f=B.a[p.type];t.disabled=i(n);var d=function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){_defineProperty(e,t,r[t])})}return e}({},p,{evaluateExercise:a,hasCheckWork:u,displayErrors:this.selectComponentForError()===n},o),h=M()({"fcn-component":!0,disabled:t.disabled});return l.a.createElement("div",{className:h},l.a.createElement("div",{className:"overlay"}),l.a.createElement(f,{presenter:d,user:s,broadcast:c.createComponentBroadcastFunction(n),modifiers:t,helpers:{toggleFullscreen:function toggleFullscreen(){}},ref:n}))}}]),LearningComponentBuilder}();function GridManager_typeof(e){return(GridManager_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GridManager_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function GridManager_possibleConstructorReturn(e,t){return!t||"object"!==GridManager_typeof(t)&&"function"!=typeof t?function GridManager_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function GridManager_getPrototypeOf(e){return(GridManager_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GridManager_setPrototypeOf(e,t){return(GridManager_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}D.propTypes=W;var A={components:s.a.object,presenter:s.a.object,modifiers:s.a.object,user:s.a.object,adapter:s.a.object,evaluateExercise:s.a.func,hasCheckWork:s.a.bool,componentShouldBeDisabled:s.a.func,layoutProps:s.a.object},H=function(e){function GridManager(){return function GridManager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GridManager),GridManager_possibleConstructorReturn(this,GridManager_getPrototypeOf(GridManager).apply(this,arguments))}return function GridManager_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GridManager_setPrototypeOf(e,t)}(GridManager,c["Component"]),function GridManager_createClass(e,t,r){return t&&GridManager_defineProperties(e.prototype,t),r&&GridManager_defineProperties(e,r),e}(GridManager,[{key:"buildLearningComponent",value:function buildLearningComponent(e){var t=this.props,r=t.components,o=t.componentShouldBeDisabled,n=t.presenter,i=t.hasCheckWork,a=t.evaluateExercise,s=t.modifiers,c=t.adapter,u=t.user;return l.a.createElement(D,{availableComponents:r,name:e,modifiers:s,presenter:n,adapter:c,user:u,componentShouldBeDisabled:o,hasCheckWork:i,evaluateExercise:a})}},{key:"render",value:function render(){var e=this.props.layoutProps,t=e.gridType,r=e.narrativeComp,o=e.firstComp,n=e.secondComp,i=e.thirdComp;return l.a.createElement(GridLayout,{gridType:t,narrativePane:this.buildLearningComponent(r),firstPane:this.buildLearningComponent(o),secondPane:this.buildLearningComponent(n),thirdPane:this.buildLearningComponent(i)})}}]),GridManager}();function configs_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}H.propTypes=A;var q="one_pane",z="two_pane_col",U="three_pane_col",G="three_pane_row",Q="CodeEditor",V="Narrative",K="Preview",Z="ReadOnlyCodeEditor",Y="SQLPreview",J="Terminal",X="Visual",$={["PersistentCodeEditor"]:Q,["Brief"]:V,["WebBrowser"]:K,["OutputTerminal"]:J,["Image"]:X,["Video"]:X},ee={"CodeEditor--Narrative--Preview--ReadOnlyCodeEditor":{layoutType:"grid",layoutProps:{gridType:G,narrativeComp:V,firstComp:Q,secondComp:Z,thirdComp:K}},"CodeEditor--Narrative--ReadOnlyCodeEditor--Terminal":{layoutType:"grid",layoutProps:{gridType:G,narrativeComp:V,firstComp:Q,secondComp:Z,thirdComp:J}},"CodeEditor--Narrative--Preview--Terminal":{layoutType:"grid",layoutProps:{gridType:U,narrativeComp:V,firstComp:Q,secondComp:J,thirdComp:K}},"CodeEditor--Narrative--Terminal--Visual":{layoutType:"grid",layoutProps:{gridType:U,narrativeComp:V,firstComp:Q,secondComp:J,thirdComp:X}},"CodeEditor--Narrative--ReadOnlyCodeEditor":{layoutType:"grid",layoutProps:{gridType:z,narrativeComp:V,firstComp:Q,secondComp:Z}},"CodeEditor--Narrative--Preview":{layoutType:"grid",layoutProps:{gridType:z,narrativeComp:V,firstComp:Q,secondComp:K}},"CodeEditor--Narrative--Visual":{layoutType:"grid",layoutProps:{gridType:z,narrativeComp:V,firstComp:Q,secondComp:X}},"CodeEditor--Narrative--Terminal":{layoutType:"grid",layoutProps:{gridType:z,narrativeComp:V,firstComp:Q,secondComp:J}},"CodeEditor--Narrative--SQLPreview":{layoutType:"grid",layoutProps:{gridType:z,narrativeComp:V,firstComp:Q,secondComp:Y}},"Narrative--Preview--Visual":{layoutType:"grid",layoutProps:{gridType:z,narrativeComp:V,firstComp:K,secondComp:X}},"Narrative--Preview--Terminal":{layoutType:"grid",layoutProps:{gridType:z,narrativeComp:V,firstComp:J,secondComp:K}},"Narrative--Terminal--Visual":{layoutType:"grid",layoutProps:{gridType:"two_pane_row",narrativeComp:V,firstComp:X,secondComp:J}},"CodeEditor--Narrative":{layoutType:"grid",layoutProps:{gridType:q,narrativeComp:V,firstComp:Q}},"Narrative--Preview":{layoutType:"grid",layoutProps:{gridType:q,narrativeComp:V,firstComp:K}},"Narrative--Terminal":{layoutType:"grid",layoutProps:{gridType:q,narrativeComp:V,firstComp:J}},"Narrative--Visual":{layoutType:"grid",layoutProps:{gridType:q,narrativeComp:V,firstComp:X}},"Narrative--SQLPreview":{layoutType:"grid",layoutProps:{gridType:q,narrativeComp:V,firstComp:Y}},default:{layoutType:"grid",layoutProps:{gridType:q,narrativeComp:V,firstComp:null}}};function reverseConfigAliases(e,t){var r=Object.keys(e.layoutProps),o=Object.values(e.layoutProps),n=function configs_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){configs_defineProperty(e,t,r[t])})}return e}({},e);return t.filter(function(e){return!o.includes(e)}).forEach(function(e){var t=$[e],i=o.indexOf(t),a=r[i];n.layoutProps[a]=e}),n}function mapComponentsToLayoutConfig(e){var t=Object.keys(e),r=function buildCompString(e){return e.map(function(e){return $[e]||e}).sort().join("--")}(t);return reverseConfigAliases(ee[r]||ee.default,t)}function LayoutManager_typeof(e){return(LayoutManager_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LayoutManager_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function LayoutManager_possibleConstructorReturn(e,t){return!t||"object"!==LayoutManager_typeof(t)&&"function"!=typeof t?function LayoutManager_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function LayoutManager_getPrototypeOf(e){return(LayoutManager_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function LayoutManager_setPrototypeOf(e,t){return(LayoutManager_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var te={components:s.a.object,presenter:s.a.object,modifiers:s.a.object,user:s.a.object,adapter:s.a.object,evaluateExercise:s.a.func,hasCheckWork:s.a.bool,componentShouldBeDisabled:s.a.func},re=function(e){function LayoutManager(){return function LayoutManager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LayoutManager),LayoutManager_possibleConstructorReturn(this,LayoutManager_getPrototypeOf(LayoutManager).apply(this,arguments))}return function LayoutManager_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LayoutManager_setPrototypeOf(e,t)}(LayoutManager,c["Component"]),function LayoutManager_createClass(e,t,r){return t&&LayoutManager_defineProperties(e.prototype,t),r&&LayoutManager_defineProperties(e,r),e}(LayoutManager,[{key:"render",value:function render(){var e=this.props,t=e.components,r=e.presenter,o=e.modifiers,n=e.user,i=e.adapter,a=e.evaluateExercise,s=e.hasCheckWork,c=e.componentShouldBeDisabled,u=mapComponentsToLayoutConfig(t),p=u.layoutType,f=u.layoutProps,d="grid"===p?H:null;return l.a.createElement(d,{layoutProps:f,components:t,presenter:r,modifiers:o,user:n,adapter:i,evaluateExercise:a,hasCheckWork:s,componentShouldBeDisabled:c})}}]),LayoutManager}();re.propTypes=te;var oe=p()({displayName:"LearningEnvironmentMain",propTypes:{components:s.a.object.isRequired,gridSetup:s.a.func,user:s.a.object,adapter:s.a.object.isRequired,helpers:s.a.object.isRequired,modifiers:s.a.object.isRequired,presenter:s.a.object.isRequired,checkpointsRunning:s.a.bool},mixins:[h.a],hasCheckWork:function hasCheckWork(){var e=this.props.components;return!0===n()(e,"Terminal.prevent_checkpoint_run")&&!0===n()(e,"PersistentCodeEditor.no_run_button")},evaluateExercise:function evaluateExercise(){if(!this.props.checkpointsRunning)return this.hasCheckWork()?d.a.checkWork():d.a.saveFilesAndCheckWork()},render:function render(){var e=this.props,t=e.components,r=e.presenter,o=e.modifiers,n=e.user,i=e.adapter,a=e.helpers;return l.a.createElement("div",{className:"fcn-grid"},l.a.createElement(re,{components:t,presenter:r,modifiers:o,user:n,adapter:i,evaluateExercise:this.evaluateExercise,hasCheckWork:this.hasCheckWork(),componentShouldBeDisabled:a.componentShouldBeDisabled}),r.wall)}});t.a=Object(i.connect)(function mapStateToProps(e){return{checkpointsRunning:Object(f.h)(e)}})(oe)},cGMd:function(e,t,r){e.exports=r.p+"58bc6bc211514dbfbd8ed1add6a87a49.svg"},deUn:function(e,t,r){"use strict";var o=r("BzM2"),n=r("zSSe"),i={componentShouldBeDisabled:function componentShouldBeDisabled(e){switch(e){case"Terminal":case"OutputTerminal":case"WebBrowser":case"PersistentCodeEditor":case"ReadOnlyCodeEditor":if(!this.state.workspaceReady)return!0}return!!(this.isExerciseLocked&&this.isExerciseLocked()||n.a.isAnon())}},a=r("q1tI"),s=r.n(a),c=r("17x9"),l=r.n(c),u=r("R/yR"),p=r("jdWZ");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function OutageWall(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OutageWall);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(OutageWall)).call.apply(e,[this].concat(o)))).sendAway=function(){Object(p.b)("user","click",{target:"outageRedirect",skill:t.props.courseSlug}),window.location.replace("/learn")},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(OutageWall,s.a.Component),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(OutageWall,[{key:"render",value:function render(){return s.a.createElement(u.a,null,s.a.createElement("h2",null,"Sorry about that!"),s.a.createElement("p",null,"There are a lot of people taking this course right now! It might be unavailable until the crowd clears."),s.a.createElement("p",null,"Until then, how about taking one of our other courses?"),s.a.createElement("button",{onClick:this.sendAway,className:"button button--alernative fcn-wall__nav",type:"button"},"Browse More Courses"))}}]),OutageWall}();f.propTypes={courseSlug:l.a.string.isRequired};var d=f,h=r("hhPA"),m=r.n(h),y=r("2ZvG"),g=m.a.createStore({init:function init(){this.listenToMany(y.a)},onApologize:function onApologize(){this.trigger(!0)}}),b={componentDidMount:function componentDidMount(){g.listen(this.apologizeForOutage)},apologizeForOutage:function apologizeForOutage(){Object(p.b)("visit","outage_apology",{course:this.props.course.slug}),this.setState({wall:s.a.createElement(d,{courseSlug:this.props.course.slug})})}},_=r("rFUm");r.d(t,"a",function(){return v});var v=[o.StateMixin.connect(_.a),i,b]},eCi3:function(e,t,r){"use strict";var o=r("17x9"),n=r.n(o),i=r("q1tI"),a=r.n(i),s=r("TSYQ"),c=r.n(s);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function TaskListCounter(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskListCounter);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(TaskListCounter)).call.apply(e,[this].concat(o)))).isComplete=function(){return t.props.complete===t.props.total},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(TaskListCounter,a.a.Component),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(TaskListCounter,[{key:"render",value:function render(){var e=c()({"fcn-task-counter":!0,"fcn-task-counter--complete":this.isComplete()});return a.a.createElement("div",{className:e},a.a.createElement("span",{className:"fcn-task-counter__count",style:{marginRight:3}},this.props.complete,this.props.separator,this.props.total),this.props.text)}}]),TaskListCounter}();l.propTypes={total:n.a.number,complete:n.a.number,separator:n.a.string,text:n.a.string},l.defaultProps={separator:"/",text:"Complete"},t.a=l},esq3:function(e,t,r){"use strict";var o=r("17x9"),n=r.n(o),i=r("q1tI"),a=r.n(i),s=r("BzM2"),c=r("QlO6"),l=r("HOuw"),u=l.b.NEUTRAL,p=l.b.SUCCESS;function showShimmerUI(e){var t=e.workspaceReady,r=e.workspaceStatusType;return!(!!t||!(!r||r===u||r===p))}var f=r("JoHf"),d=r("hhPA"),h=r.n(d),m=r("iJ35"),y=h.a.createStore({listenables:[m.a],resized:function resized(){this.trigger()},resizing:function resizing(){this.trigger()}});function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function TabsContainer(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TabsContainer),_possibleConstructorReturn(this,_getPrototypeOf(TabsContainer).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(TabsContainer,a.a.Component),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(TabsContainer,[{key:"render",value:function render(){return a.a.createElement("div",{className:"fcn-tabs"},this.props.children)}}]),TabsContainer}(),b=r("Puqe"),_=r.n(b),v=r("gf6L"),C=r("TSYQ"),O=r.n(C);function tab_typeof(e){return(tab_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function tab_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function tab_possibleConstructorReturn(e,t){return!t||"object"!==tab_typeof(t)&&"function"!=typeof t?function tab_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tab_getPrototypeOf(e){return(tab_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tab_setPrototypeOf(e,t){return(tab_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function Tab(){var e,t;!function tab_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Tab);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=tab_possibleConstructorReturn(this,(e=tab_getPrototypeOf(Tab)).call.apply(e,[this].concat(o)))).state={canClose:t.props.canClose||!1},t.onClick=function(e){t.props.clickHandler(t.props.tabId,e)},t.onClose=function(e){e.stopPropagation(),t.props.isDisabled||t.props.closeHandler(t.props.tabId,e)},t}return function tab_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tab_setPrototypeOf(e,t)}(Tab,a.a.Component),function tab_createClass(e,t,r){return t&&tab_defineProperties(e.prototype,t),r&&tab_defineProperties(e,r),e}(Tab,[{key:"render",value:function render(){var e=_()(this.props,"clickHandler","isActive","title"),t={maxWidth:"200px"};this.props.size&&(t.width="".concat(this.props.size,"%"));var r={"fcn-tabs__tab":!0,"fcn-tabs__tab--can-close":this.state.canClose,"fcn-tabs__tab--align-right":"right"===this.props.align,"fcn-tabs__tab--align-left":"left"===this.props.align,"fcn-button":!0,"fcn-button--tab":!0,"fcn-button--tab--active":this.props.isActive,"fcn-button--tab--inactive":!this.props.isActive,"fcn-button--tab--disabled":this.props.isDisabled},o="fcn-control ".concat(r),n=this.state.canClose&&a.a.createElement(v.a,{name:"close",className:o,onClick:this.onClose});return this.props.className&&(r[this.props.className]=!0),r=O()(r),a.a.createElement("span",_extends({},e,{className:r,onClick:this.onClick,style:t}),this.props.children,n,this.props.title)}}]),Tab}();P.propTypes={className:n.a.string,tabId:n.a.oneOfType([n.a.string,n.a.number]),size:n.a.number,title:n.a.string,clickHandler:n.a.func.isRequired,closeHandler:n.a.func,canClose:n.a.bool,isActive:n.a.bool,isDisabled:n.a.bool,overflow:n.a.string,align:n.a.string,locked:n.a.bool},P.defaultProps={isActive:!1,overflow:"true"};var k=P,w=r("bjhn"),E=r("7r9+"),S=r.n(E);function TextSkeleton(){return a.a.createElement("svg",{width:"312px",height:"96px",viewBox:"0 0 312 96",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"#2A283E",fillRule:"evenodd"},a.a.createElement("g",{id:"Shimmer---Rest",transform:"translate(-16.000000, -16.000000)",fill:"#221E31"},a.a.createElement("g",{id:"Cutout",fill:"url(#pattern)"},a.a.createElement("g",{id:"Shimmer",transform:"translate(16.000000, 16.000000)"},a.a.createElement("rect",{id:"Cutout",x:"0",y:"0",width:"40",height:"12",rx:"2"}),a.a.createElement("rect",{id:"Cutout",x:"20",y:"28",width:"112",height:"12",rx:"2"}),a.a.createElement("rect",{id:"Cutout",x:"0",y:"84",width:"112",height:"12",rx:"2"}),a.a.createElement("rect",{id:"Cutout",x:"60",y:"56",width:"160",height:"12",rx:"2"}),a.a.createElement("rect",{id:"Cutout",x:"148",y:"28",width:"24",height:"12",rx:"2"}),a.a.createElement("rect",{id:"Cutout",x:"20",y:"56",width:"24",height:"12",rx:"2"}),a.a.createElement("rect",{id:"Cutout",x:"56",y:"0",width:"160",height:"12",rx:"2"}),a.a.createElement("rect",{id:"Cutout",x:"232",y:"0",width:"80",height:"12",rx:"2"}))))),a.a.createElement("defs",null,a.a.createElement("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0"},a.a.createElement("stop",{offset:"0%",style:{stopColor:"#7269D9",stopOpacity:"0.5"}}),a.a.createElement("stop",{offset:"40%",style:{stopColor:"#7269D9",stopOpacity:"0.5"}}),a.a.createElement("stop",{offset:"47%",style:{stopColor:"#ACA5FF",stopOpacity:"0.5"}}),a.a.createElement("stop",{offset:"53%",style:{stopColor:"#ACA5FF",stopOpacity:"0.5"}}),a.a.createElement("stop",{offset:"60%",style:{stopColor:"#7269D9",stopOpacity:"0.5"}}),a.a.createElement("stop",{offset:"100%",style:{stopColor:"#7269D9",stopOpacity:"0.5"}})),a.a.createElement("pattern",{id:"pattern",x:"0",y:"0",width:"300%",height:"100%",patternUnits:"userSpaceOnUse"},a.a.createElement("rect",{className:S.a.shimmerGradient,x:"0",y:"0",width:"300%",height:"100%",fill:"url(#gradient)"}))))}var T,N=r("XRCR"),R=r.n(N);function ReadOnlyCodeEditor_typeof(e){return(ReadOnlyCodeEditor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ReadOnlyCodeEditor_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ReadOnlyCodeEditor_possibleConstructorReturn(e,t){return!t||"object"!==ReadOnlyCodeEditor_typeof(t)&&"function"!=typeof t?function ReadOnlyCodeEditor_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ReadOnlyCodeEditor_getPrototypeOf(e){return(ReadOnlyCodeEditor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ReadOnlyCodeEditor_setPrototypeOf(e,t){return(ReadOnlyCodeEditor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var j=Object(s.connect)(l.a,["workspaceReady","workspaceStatusType"])(T=function(e){function ReadOnlyCodeEditor(){var e,t;!function ReadOnlyCodeEditor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReadOnlyCodeEditor);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=ReadOnlyCodeEditor_possibleConstructorReturn(this,(e=ReadOnlyCodeEditor_getPrototypeOf(ReadOnlyCodeEditor)).call.apply(e,[this].concat(o)))).state={file:null},t}return function ReadOnlyCodeEditor_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ReadOnlyCodeEditor_setPrototypeOf(e,t)}(ReadOnlyCodeEditor,a.a.Component),function ReadOnlyCodeEditor_createClass(e,t,r){return t&&ReadOnlyCodeEditor_defineProperties(e.prototype,t),r&&ReadOnlyCodeEditor_defineProperties(e,r),e}(ReadOnlyCodeEditor,[{key:"componentDidMount",value:function componentDidMount(){this.unsubscribe=[f.a.getFile.completed.listen(this.onGetFile.bind(this)),f.a.setWorkspace.completed.listen(this.fetchContent.bind(this)),y.listen(this.onResize.bind(this))],this.fetchContent()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.unsubscribe.forEach(function(e){return e()})}},{key:"onResize",value:function onResize(){this.refs.editor&&this.refs.editor.refresh()}},{key:"fetchContent",value:function fetchContent(){f.a.getFile(this.props.presenter.file_path)}},{key:"onGetFile",value:function onGetFile(e){e.path===this.props.presenter.file_path&&this.setState({file:e})}},{key:"workspaceStatus",value:function workspaceStatus(){var e=this.props;return{workspaceReady:e.workspaceReady,workspaceStatusType:e.workspaceStatusType}}},{key:"renderTabOrPlaceholder",value:function renderTabOrPlaceholder(){var e={title:w.a.emptyWithPath(this.props.presenter.file_path).name,isActive:!0,clickHandler:function clickHandler(){}};return showShimmerUI(this.workspaceStatus())&&(e.title="",e.size=300),a.a.createElement(g,null,a.a.createElement(k,e))}},{key:"renderEditorOrPlaceholder",value:function renderEditorOrPlaceholder(){return showShimmerUI(this.workspaceStatus())?a.a.createElement("div",{className:R.a.readOnlyCodeEditorSkeleton},a.a.createElement(TextSkeleton,null)):a.a.createElement(c.a,{ref:"editor",className:R.a.cmeditor,onFocus:this.onEditorFocus,onChange:this.onModelChanged,file:this.state.file,readOnly:!0})}},{key:"render",value:function render(){return a.a.createElement("div",{className:R.a.mainContainer},a.a.createElement("div",{className:"editor"},a.a.createElement("div",{className:"fcn-component-header"},this.renderTabOrPlaceholder()),a.a.createElement("div",{className:R.a.editorContainer},this.renderEditorOrPlaceholder()),a.a.createElement("div",{className:"editor-footer-container"},a.a.createElement("div",{className:"editor-footer__buttons"},a.a.createElement("div",{className:R.a.readOnlyFooterNote},"Read-only")))))}}]),ReadOnlyCodeEditor}())||T;j.propTypes={presenter:n.a.object.isRequired,workspaceReady:n.a.bool,workspaceStatusType:n.a.oneOf(Object.values(l.b))};var x=j,I=r("fhzG"),F=r.n(I),L=r("/MKj"),M=r("VHtI"),B=r("+IkO"),W=r("R/yR"),D=r("rIqd"),A=r("TGBz"),H=r("9SBa"),q=r.n(H);function ConfirmationWall_typeof(e){return(ConfirmationWall_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ConfirmationWall_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ConfirmationWall_possibleConstructorReturn(e,t){return!t||"object"!==ConfirmationWall_typeof(t)&&"function"!=typeof t?function ConfirmationWall_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ConfirmationWall_getPrototypeOf(e){return(ConfirmationWall_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ConfirmationWall_setPrototypeOf(e,t){return(ConfirmationWall_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var z=function(e){function ConfirmationWall(){return function ConfirmationWall_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ConfirmationWall),ConfirmationWall_possibleConstructorReturn(this,ConfirmationWall_getPrototypeOf(ConfirmationWall).apply(this,arguments))}return function ConfirmationWall_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ConfirmationWall_setPrototypeOf(e,t)}(ConfirmationWall,a.a.Component),function ConfirmationWall_createClass(e,t,r){return t&&ConfirmationWall_defineProperties(e.prototype,t),r&&ConfirmationWall_defineProperties(e,r),e}(ConfirmationWall,[{key:"render",value:function render(){var e=this.props,t=e.isOpen,r=e.wallOverlayType,o=e.children,n=e.action,i=e.actionText,s=e.cancel,c=e.cancelText,l=O()({[q.a.dialogButton]:!0}),u=O()({[q.a.dialogButton]:!0});return a.a.createElement(W.a,{isOpen:t,responseRequired:!0,padding:!0,overlayType:r},a.a.createElement("div",null,o,a.a.createElement(A.a,{center:!0},a.a.createElement(D.a,{theme:"primary",outline:!0,className:l,onClick:n},i),a.a.createElement(D.a,{theme:"platform",outline:!0,className:u,onClick:s},c))))}}]),ConfirmationWall}();z.propTypes={action:n.a.func.isRequired,cancel:n.a.func.isRequired,isOpen:n.a.bool.isRequired,actionText:n.a.string,cancelText:n.a.string,wallOverlayType:n.a.string,children:n.a.node},z.defaultProps={wallOverlayType:"transparent",actionText:M.forms.confirm,cancelText:M.forms.cancel};var U=z,G=r("FCEL"),Q=h.a.createStore({mixins:[s.StateMixin.store],init:function init(){this.workspaceSlug=null,l.a.listen(this.checkWatchedFiles),this.listenTo(G.a.publishFilenames,this.setDefaultFiles),this.listenTo(G.a.loadFiles,this.resetOrphanedFiles)},getInitialState:function getInitialState(){return{orphaned:[],watching:[],notify:[]}},setDefaultFiles:function setDefaultFiles(e){this.setState({watching:e})},resetOrphanedFiles:function resetOrphanedFiles(){this.watching=[],this.setState({orphaned:[],watching:[]})},checkWatchedFiles:function checkWatchedFiles(e){if(e.workspaceObject&&e.workspaceReady){var t=[],r=!0,o=!1,n=void 0;try{for(var i,a=this.state.watching[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;void 0===e.workspaceObject.getFile(s)&&t.push(s)}}catch(e){o=!0,n=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw n}}this.setState({orphaned:t})}}}),V=F()({displayName:"MissingFilesWall",mixins:[s.StateMixin.connect(Q,["orphaned"],{onChange:"checkOrphans"})],getInitialState:function getInitialState(){return{phase:"inactive",notify:!0}},checkOrphans:function checkOrphans(){this.state.orphaned.length||this.setState({phase:"inactive"})},showConfirmation:function showConfirmation(){this.setState({phase:"confirmation"})},cancelAndClose:function cancelAndClose(){this.setState({notify:!1,phase:"inactive"})},resetFiles:function resetFiles(){this.setState({notify:!0,phase:"fixing"}),f.a.restore()},resetFilesContent:function resetFilesContent(){var e=this.state.orphaned[0],t=this.state.notify&&this.state.orphaned.length>0&&"confirmation"!==this.state.phase;return a.a.createElement(U,{isOpen:t,cancel:this.cancelAndClose,action:this.showConfirmation,actionText:"Reset Files",cancelText:"Ok"},a.a.createElement("div",null,a.a.createElement("h5",null,"Whoa there!"),a.a.createElement("p",null,"".concat(e," has been moved. This will cause problems with this exercise, please move ").concat(e," back to its original location, or reset your files"))))},resetFilesConfirmationContent:function resetFilesConfirmationContent(){var e=this.state.notify&&this.state.orphaned.length>0&&"confirmation"===this.state.phase;return a.a.createElement(U,{isOpen:e,cancel:this.cancelAndClose,action:this.resetFiles},a.a.createElement("div",null,a.a.createElement("h5",null,"Reset your files?"),a.a.createElement("p",null,"This will overwrite your existing files, and reset your progress to the beginning of this exercise")))},render:function render(){return a.a.createElement("div",null,"inactive"===this.state.phase?this.resetFilesContent():this.resetFilesConfirmationContent())}}),K=r("4qC0"),Z=r.n(K),Y=r("+KsJ"),J=r("zfST"),X=r("uM7l"),$=r.n(X),ee=r("i8i4"),te=r.n(ee),re=r("eHmS"),oe=r("1fti"),ne=r("7ZgC"),ie=r.n(ne);function FileTreeItem_typeof(e){return(FileTreeItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FileTreeItem_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function FileTreeItem_possibleConstructorReturn(e,t){return!t||"object"!==FileTreeItem_typeof(t)&&"function"!=typeof t?function FileTreeItem_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function FileTreeItem_getPrototypeOf(e){return(FileTreeItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FileTreeItem_setPrototypeOf(e,t){return(FileTreeItem_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ae=function(e){function FileTreeItem(){var e,t;!function FileTreeItem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FileTreeItem);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=FileTreeItem_possibleConstructorReturn(this,(e=FileTreeItem_getPrototypeOf(FileTreeItem)).call.apply(e,[this].concat(o)))).state={name:t.props.name,hover:!1,isRenaming:!1,toggleMenuOption:!1},t.onFileNameChange=function(e){t.setState({name:e.target.value}),t.props.clearError()},t.resetName=function(){t.setState({name:t.props.name})},t.forceFocus=function(){te.a.findDOMNode(t.refs.nameInput).focus(),te.a.findDOMNode(t.refs.nameInput).select(),t.props.setCurrentFile(t.props.path,!0)},t.handleClick=function(e){if(t.props.clearError(),e.stopPropagation(),!t.state.isRenaming&&!["image","other"].includes(t.props.type)){if(t.props.folder)t.props.handleClick();else{var r={canClose:!0,name:t.state.name,path:t.props.path};re.a.openFile(r)}t.props.setCurrentItem(t.props.path,t.props.folder)}},t.triggerNameChange=function(e){if(e&&e.preventDefault(),t.props.name!==t.state.name){var r=t.props.path,o=$()(r);o=o.replace(t.props.name,t.state.name),f.a.rename(r,o,{overwriteExisting:!1}).catch(function(e){t.props.setError(e)})}t.setState({isRenaming:!1})},t.onMouseEnter=function(){t.disabledItem()||t.setState({hover:!0})},t.onMouseLeave=function(){t.disabledItem()||t.setState({hover:!1})},t.disabledItem=function(){return["image","other"].includes(t.props.type)||t.props.disabled},t.renderItemName=function(){return t.state.isRenaming?a.a.createElement("form",{onSubmit:t.triggerNameChange,className:ie.a.renameForm},a.a.createElement("input",{ref:"nameInput",className:ie.a.renameFormInput,value:t.state.name,onChange:t.onFileNameChange,onBlur:t.triggerNameChange})):a.a.createElement("span",null,t.props.name)},t.handleEditClick=function(){t.refs.dropdown.close(),t.setState({isRenaming:!0,name:t.props.name},function(){this.forceFocus()})},t.handleDeleteClick=function(){t.refs.dropdown.close(),t.props.getDeleteConfirmation()},t.handleNewFolder=function(){t.refs.dropdown.close(),t.handleNewItem(!0)},t.handleNewFile=function(){t.refs.dropdown.close(),t.handleNewItem()},t.handleNewItem=function(e){t.props.forceAddOpenPath(t.props.path),t.setState({remainOpen:!0},function(){e?this.props.handleNewFolder():this.props.handleNewFile()})},t.handleDropdown=function(e){t.props.setCurrentItem(t.props.path,t.props.folder),e.stopPropagation()},t.renderMenu=function(){var e=t.props.folder?"Delete Folder":"Delete File";return a.a.createElement(A.a,{column:!0,className:ie.a.dropdown},t.props.folder?a.a.createElement("span",{className:ie.a.dropdownOption,onClick:t.handleNewFile},"New File"):null,t.props.folder?a.a.createElement("span",{className:ie.a.dropdownOption,onClick:t.handleNewFolder},"New Folder"):null,t.props.isRoot?null:a.a.createElement("span",{className:ie.a.dropdownOption,onClick:t.handleEditClick},"Rename"),t.props.isRoot?null:a.a.createElement("span",{className:ie.a.dropdownOption,onClick:t.handleDeleteClick},e))},t.handleDropDownToggle=function(e){t.setState({toggleMenuOption:e})},t}return function FileTreeItem_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FileTreeItem_setPrototypeOf(e,t)}(FileTreeItem,a.a.Component),function FileTreeItem_createClass(e,t,r){return t&&FileTreeItem_defineProperties(e.prototype,t),r&&FileTreeItem_defineProperties(e,r),e}(FileTreeItem,[{key:"render",value:function render(){var e=this.props.isRoot?3:15*this.props.nestCount,t=O()({[ie.a.fileTreeTreeBtn]:!0,[ie.a.fileTreeTreeBtnActive]:this.props.currentItemPath===this.props.path,[ie.a.fileTreeTreeBtnInactive]:this.disabledItem()}),r=this.state.hover&&!this.state.isRenaming&&!this.disabledItem()||this.state.toggleMenuOption,o=this.props.isOpen?"arrow-filled-down":"arrow-filled-right",n=this.props.folder?a.a.createElement(v.a,{className:ie.a.folderItem,name:"folder-filled"}):a.a.createElement(v.a,{className:ie.a.fileItem,name:"file"}),i=a.a.createElement(v.a,{className:ie.a.icon,title:"Options",name:"in-progress"});return a.a.createElement("div",null,a.a.createElement("div",{title:this.props.name,className:t,style:{paddingLeft:e},onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.props.folder?a.a.createElement(v.a,{name:o}):null,this.props.isRoot?null:n,this.renderItemName(),this.state.hover||this.state.toggleMenuOption?a.a.createElement("div",{className:ie.a.rightIcons,onClick:this.handleDropdown},r?a.a.createElement(oe.a,{ref:"dropdown",clickTarget:i,onToggle:this.handleDropDownToggle},this.renderMenu()):null):null),this.props.children)}}]),FileTreeItem}();ae.propTypes={name:n.a.string.isRequired,type:n.a.string,currentItemPath:n.a.string.isRequired,path:n.a.string,clearError:n.a.func.isRequired,setError:n.a.func.isRequired,setCurrentItem:n.a.func.isRequired,setCurrentFile:n.a.func.isRequired,handleClick:n.a.func,folder:n.a.bool,disabled:n.a.bool,isOpen:n.a.bool,nestCount:n.a.number,children:n.a.node,getDeleteConfirmation:n.a.func,handleNewFile:n.a.func,handleNewFolder:n.a.func,isRoot:n.a.bool,forceAddOpenPath:n.a.func};var se=ae;function FileTreeFolder_extends(){return(FileTreeFolder_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}var ce=F()({displayName:"FileTreeFolder",mixins:[J.a],propTypes:{path:n.a.string.isRequired,tree:n.a.array,currentItemPath:n.a.string.isRequired,addOrRemoveOpenPath:n.a.func.isRequired,setError:n.a.func.isRequired,clearError:n.a.func.isRequired,setCurrentItem:n.a.func.isRequired,isOpen:n.a.bool,isActive:n.a.bool,children:n.a.node,nestCount:n.a.number,handleNewFile:n.a.func,handleNewFolder:n.a.func,forceAddOpenPath:n.a.func},toggleFolder:function toggleFolder(){this.props.addOrRemoveOpenPath(this.props.path)},render:function render(){return a.a.createElement(se,FileTreeFolder_extends({},this.props,{folder:!0,handleClick:this.toggleFolder}),this.props.isOpen?this.props.children:null)}}),le=function FileTreeFile(e){return a.a.createElement(se,e)},ue=h.a.createActions([]);ue.setPreviewFilepath=h.a.createAction(),ue.previewFile=h.a.createAction(),ue.clearPreviewFile=h.a.createAction();var pe=ue,fe=r("mEin"),de=r.n(fe);function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var he=F()({displayName:"FileTree",mixins:[J.a],propTypes:{currentItemPath:n.a.string.isRequired,openPaths:n.a.object.isRequired,setError:n.a.func.isRequired,clearError:n.a.func.isRequired,setCurrentItem:n.a.func.isRequired,addOrRemoveOpenPath:n.a.func.isRequired,forceAddOpenPath:n.a.func.isRequired,disabled:n.a.bool,workspaceRoot:n.a.object.isRequired,fileExists:n.a.func.isRequired,getDeleteConfirmation:n.a.func,handleNewFile:n.a.func,handleNewFolder:n.a.func},writeItem:function writeItem(e,t){if(!Y.d(e.name))return a.a.createElement(le,{type:e.type,path:e.path,key:e.path,name:e.name,disabled:this.props.disabled||Y.c(e.name),fileExists:this.props.fileExists,setError:this.props.setError,clearError:this.props.clearError,setCurrentFile:this.setCurrentFile,setCurrentItem:this.props.setCurrentItem,currentItemPath:this.props.currentItemPath,nestCount:t,getDeleteConfirmation:this.props.getDeleteConfirmation})},handleClick:function handleClick(){this.props.setCurrentItem("")},setCurrentFile:function setCurrentFile(e,t){if(this.props.clearError(),this.props.setCurrentItem(e),!t){var r=Y.a(Y.b(e));pe.setPreviewFilepath(e,r),f.a.getFile(e,r).then(pe.previewFile)}},writeFolderItem:function writeFolderItem(e,t){if(!Y.d(e.name)){var r=e.name,o=e.path,n=this.props.currentItemPath===o,i=this.props.openPaths.has(o);return a.a.createElement(ce,{path:o,key:o,name:r,disabled:this.props.disabled,fileExists:this.props.fileExists,setError:this.props.setError,clearError:this.props.clearError,openPaths:this.props.openPaths,setCurrentItem:this.props.setCurrentItem,setCurrentFile:this.setCurrentFile,addOrRemoveOpenPath:this.props.addOrRemoveOpenPath,currentItemPath:this.props.currentItemPath,isOpen:i,isActive:n,nestCount:t,getDeleteConfirmation:this.props.getDeleteConfirmation,handleNewFolder:this.props.handleNewFolder,handleNewFile:this.props.handleNewFile,forceAddOpenPath:this.props.forceAddOpenPath},this.buildTree(e,t+1))}},buildTree:function buildTree(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var a,s=e.directories[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value;r.push(this.writeFolderItem(c,t))}}catch(e){n=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw i}}var l=!0,u=!1,p=void 0;try{for(var f,d=e.files[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var h=f.value;r.push(this.writeItem(h,t))}}catch(e){u=!0,p=e}finally{try{l||null==d.return||d.return()}finally{if(u)throw p}}return r},render:function render(){var e=function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){_defineProperty(e,t,r[t])})}return e}({files:[],directories:[]},this.props.workspaceRoot);return a.a.createElement("div",{className:de.a.fileTree,onClick:this.handleClick},a.a.createElement(ce,{path:"",key:"",name:"files",isRoot:!0,disabled:this.props.disabled,fileExists:this.props.fileExists,setError:this.props.setError,setCurrentItem:this.props.setCurrentItem,setCurrentFile:this.setCurrentFile,addOrRemoveOpenPath:this.props.addOrRemoveOpenPath,currentItemPath:this.props.currentItemPath,isOpen:this.props.openPaths.has(""),isActive:!0,clearError:this.props.clearError,handleNewFile:this.props.handleNewFile,handleNewFolder:this.props.handleNewFolder,nestCount:0,forceAddOpenPath:this.props.forceAddOpenPath},this.buildTree(e,.75)))}}),me=r("lWZ/"),ye=r("6GsT"),ge=r.n(ye);function FileToolInput_typeof(e){return(FileToolInput_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FileToolInput_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function FileToolInput_possibleConstructorReturn(e,t){return!t||"object"!==FileToolInput_typeof(t)&&"function"!=typeof t?function FileToolInput_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function FileToolInput_getPrototypeOf(e){return(FileToolInput_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FileToolInput_setPrototypeOf(e,t){return(FileToolInput_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var be=function(e){function FileToolInput(){var e,t;!function FileToolInput_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FileToolInput);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=FileToolInput_possibleConstructorReturn(this,(e=FileToolInput_getPrototypeOf(FileToolInput)).call.apply(e,[this].concat(o)))).state={value:""},t.setFocus=function(){te.a.findDOMNode(t.refs.filenameinput).focus()},t.clearInput=function(){t.setState({value:""})},t.fileNameKeyDown=function(e){var r=e.target.value;t.setState({value:r}),t.props.fileNameKeyDown(r)},t.canAddItem=function(){return!t.props.hasError()&&""!==t.state.value},t.onAddItemClick=function(e){t.canAddItem()?t.props.onSubmit(e):t.props.toggle()},t}return function FileToolInput_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FileToolInput_setPrototypeOf(e,t)}(FileToolInput,a.a.Component),function FileToolInput_createClass(e,t,r){return t&&FileToolInput_defineProperties(e.prototype,t),r&&FileToolInput_defineProperties(e,r),e}(FileToolInput,[{key:"componentDidMount",value:function componentDidMount(){this.setFocus()}},{key:"render",value:function render(){var e=this.state.value,t=O()({[ge.a.addItemControlEnabled]:this.canAddItem()}),r=this.canAddItem()?"plus":"close";return a.a.createElement("form",{onSubmit:this.props.onSubmit,className:ge.a.createItemForm},a.a.createElement("input",{type:"text",className:ge.a.fileNameInput,ref:"filenameinput",placeholder:this.props.placeHolder,value:e,onChange:this.fileNameKeyDown}),a.a.createElement("div",{className:t},a.a.createElement(me.a,{className:t,name:r,onClick:this.onAddItemClick})))}}]),FileToolInput}();be.propTypes={hasError:n.a.func.isRequired,toggle:n.a.func.isRequired,fileNameKeyDown:n.a.func.isRequired,onSubmit:n.a.func.isRequired,placeHolder:n.a.string};var _e=be,ve=r("J6bT"),Ce=r.n(ve),Oe=F()({displayName:"NewFileTool",mixins:[J.a],propTypes:{toolOpen:n.a.bool,createNewFile:n.a.func.isRequired,error:n.a.string,clearError:n.a.func.isRequired,toggle:n.a.func.isRequired,isAddingItem:n.a.bool.isRequired,reset:n.a.func.isRequired,toggleAddItem:n.a.func,isDir:n.a.bool},getInitialState:function getInitialState(){return{name:""}},onSubmit:function onSubmit(e){e.preventDefault(),this.createNewFile()},reset:function reset(){this.props.reset(),this.setState({name:""})},fileNameKeyDown:function fileNameKeyDown(e){this.setState({name:e}),this.props.clearError()},toggleLayout:function toggleLayout(){this.props.isAddingItem&&this.props.toggleAddItem(),this.props.toggle()},hasErrors:function hasErrors(){return Boolean(this.props.error)},createNewFile:function createNewFile(){var e=this,t=this.props.isDir;this.props.createNewFile(this.state.name,t).then(function(){e.hasErrors()||(e.props.toggleAddItem(),e.reset())})},render:function render(){var e=this.props.isDir?"Enter Folder Name":"Enter File Name",t=this.props.toolOpen?"close":"folder";return a.a.createElement("div",null,a.a.createElement("div",{className:Ce.a.fcnCreateFileTool},a.a.createElement("div",{className:Ce.a.fileToolMenu},a.a.createElement(me.a,{name:t,onClick:this.toggleLayout}))),this.props.isAddingItem?a.a.createElement(_e,{ref:"fileInput",toggle:this.props.toggleAddItem,hasError:this.hasErrors,placeHolder:e,fileNameKeyDown:this.fileNameKeyDown,onSubmit:this.onSubmit}):void 0)}}),Pe=r("tgAw"),ke=r("RD3t"),we=r.n(ke),Ee=F()({displayName:"FileTool",mixins:[s.StateMixin.connect(l.a,["workspaceDirectory","workspaceObject"])],propTypes:{open:n.a.bool.isRequired,toggleLayout:n.a.func.isRequired},getInitialState:function getInitialState(){return{openFile:void 0,error:void 0,currentItemPath:"",currentSavePath:void 0,isAddingItem:!1,openPaths:new Set([""]),confirm:!1,isDir:!1}},componentDidMount:function componentDidMount(){f.a.getFileTree()},fileExists:function fileExists(e){var t=this.state.currentSavePath?"".concat(this.state.currentSavePath,"/").concat(e):e;return this.state.workspaceObject.exists(t)},setCurrentItem:function setCurrentItem(e,t){t?this.setState({currentSavePath:e}):this.setState({currentSavePath:void 0}),this.setState({currentItemPath:e})},addOrRemoveOpenPath:function addOrRemoveOpenPath(e){var t=this.state.openPaths;t.has(e)?t.delete(e):t.add(e),this.setState({openPaths:t})},forceAddOpenPath:function forceAddOpenPath(e){this.state.openPaths.has(e)||this.addOrRemoveOpenPath(e)},toggleAddFileState:function toggleAddFileState(){this.setState(function(e){return{isAddingItem:!e.isAddingItem}})},toggle:function toggle(){this.props.toggleLayout()},createNewFile:function createNewFile(e,t){var r=this;if(!Object(Y.c)(e)){this.setState({isAddingItem:!0});var o=this.state.currentSavePath?"".concat(this.state.currentSavePath,"/").concat(e):e,n=function onCreateSuccess(){r.setCurrentItem(e,t),r.state.currentSavePath&&r.forceAddOpenPath(r.state.currentSavePath)};if(t){var i=new Pe.a({name:e,path:o,files:[],directories:[]});return f.a.createDirectories([i],{overwriteExisting:!1}).then(n).catch(function(e){r.setError(e)})}var a=new w.a({name:e,path:o,content:""});return f.a.updateFiles([a],{overwriteExisting:!1}).catch(function(e){r.setError(e)}).then(n)}this.setError("Cannot create a file with this name and extension.")},setError:function setError(e){Z()(e)&&this.setState({error:e})},clearError:function clearError(){this.setState({error:void 0})},getDeleteConfirmation:function getDeleteConfirmation(){this.setState({confirm:!0})},deleteFile:function deleteFile(){var e=this.state.currentItemPath;this.setState({confirm:!1}),f.a.deleteFile(e).then(f.a.updateFileTree),this.setState({currentSavePath:"",currentItemPath:""})},cancelAndClose:function cancelAndClose(){this.setState({confirm:!1})},toggleAddFolder:function toggleAddFolder(){this.toggleAddItem(!0)},toggleAddFile:function toggleAddFile(){this.toggleAddItem()},toggleAddItem:function toggleAddItem(e){this.clearError(),this.setState({isDir:e}),this.toggleAddFileState()},reset:function reset(){this.setState({isDir:!1,name:"",isAddingItem:!1})},render:function render(){var e=this.state.workspaceDirectory,t=void 0===e?{directories:[],files:[]}:e,r=O()({[we.a.fileTool]:!0,[we.a.fileToolIsAdding]:this.state.isAddingItem,[we.a.fileToolClosed]:!this.props.open}),o=O()({[we.a.fileToolError]:!0,[we.a.fileToolErrorShown]:this.state.error,[we.a.fileToolErrorIsDir]:!this.state.openFile});return a.a.createElement("div",{className:r},a.a.createElement("div",{className:we.a.fileToolContainer},a.a.createElement("p",{className:o},this.state.error),a.a.createElement(Oe,{toolOpen:this.props.open,toggle:this.toggle,toggleAddFileState:this.toggleAddFileState,error:this.state.error,clearError:this.clearError,workspaceRoot:t,fileExists:this.fileExists,createNewFile:this.createNewFile,isAddingItem:this.state.isAddingItem,reset:this.reset,toggleAddItem:this.toggleAddItem,isDir:this.state.isDir}),this.props.open?a.a.createElement(he,{workspaceRoot:t,setCurrentItem:this.setCurrentItem,disabled:this.state.isAddingItem,setError:this.setError,clearError:this.clearError,currentItemPath:this.state.currentItemPath,addOrRemoveOpenPath:this.addOrRemoveOpenPath,forceAddOpenPath:this.forceAddOpenPath,fileExists:this.fileExists,getDeleteConfirmation:this.getDeleteConfirmation,handleNewFile:this.toggleAddFile,handleNewFolder:this.toggleAddFolder,openPaths:this.state.openPaths}):null,a.a.createElement(U,{isOpen:this.state.confirm,action:this.deleteFile,cancel:this.cancelAndClose},a.a.createElement("div",null,a.a.createElement("h5",null,M.learning_environment.components.confirmation_wall.delete_item),a.a.createElement("p",null,M.learning_environment.components.confirmation_wall.cannot_undo)))))}}),Se=r("o0o1"),Te=r.n(Se),Ne=r("ABYF"),Re=r("oNLn"),je=r("HSVn"),xe=r.n(je);function CopyContentControl_typeof(e){return(CopyContentControl_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,r,o,n,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(o,n){var i=e.apply(t,r);function _next(e){asyncGeneratorStep(i,o,n,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,o,n,_next,_throw,"throw",e)}_next(void 0)})}}function CopyContentControl_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function CopyContentControl_possibleConstructorReturn(e,t){return!t||"object"!==CopyContentControl_typeof(t)&&"function"!=typeof t?function CopyContentControl_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function CopyContentControl_getPrototypeOf(e){return(CopyContentControl_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CopyContentControl_setPrototypeOf(e,t){return(CopyContentControl_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ie=function(e){function CopyContentControl(){var e,t;!function CopyContentControl_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CopyContentControl);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=CopyContentControl_possibleConstructorReturn(this,(e=CopyContentControl_getPrototypeOf(CopyContentControl)).call.apply(e,[this].concat(o)))).state={message:"",error:!1},t.copyFile=_asyncToGenerator(Te.a.mark(function _callee(){var e,r,o,n;return Te.a.wrap(function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return e=t.props,r=e.content,o=e.successMessage,n=e.failMessage,(0,e.trackClick)({data:{target:"copy_file"}}),i.prev=2,i.next=5,Ne.writeText(r);case 5:t.setState({message:o,error:!1}),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(2),t.setState({message:n,error:!0});case 11:case"end":return i.stop()}},_callee,this,[[2,8]])})),t}return function CopyContentControl_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CopyContentControl_setPrototypeOf(e,t)}(CopyContentControl,i["Component"]),function CopyContentControl_createClass(e,t,r){return t&&CopyContentControl_defineProperties(e.prototype,t),r&&CopyContentControl_defineProperties(e,r),e}(CopyContentControl,[{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this.props.content;e.content!==t&&this.setState({message:"",error:!1})}},{key:"render",value:function render(){var e=this.state,t=e.message,r=e.error;return a.a.createElement("div",{className:xe.a.copyContentControl},a.a.createElement("span",{className:xe.a.cta},"Copy to Clipboard"),a.a.createElement("div",{className:xe.a.ctaArrow}),a.a.createElement(k,{className:"fcn-control",clickHandler:this.copyFile,overflow:"false","data-testid":"copy-content-control"},a.a.createElement(Re.a,{name:"copy",size:20}),a.a.createElement("span",{className:O()(xe.a.copyMessage,r&&xe.a.error),"data-testid":"copy-content-control-message".concat(r?"-error":"")},t)))}}]),CopyContentControl}();Ie.propTypes={content:n.a.string,successMessage:n.a.string,failMessage:n.a.string,trackClick:n.a.func},Ie.defaultProps={content:"",successMessage:"File copied!",failMessage:"There was a problem.",trackClick:function trackClick(){}};var Fe=r("T99f"),Le=r("qL0V"),Me={clearErrorClicked:Fe.e},Be=Object(L.connect)(function mapStateToProps(e){return{errors:Object(B.c)(e),hasErrors:Object(B.f)(e),passive:Object(B.g)(e)}},Me)(Le.a),We=r("wevG"),De=r.n(We);function ResetWorkspaceControl_typeof(e){return(ResetWorkspaceControl_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ResetWorkspaceControl_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ResetWorkspaceControl_possibleConstructorReturn(e,t){return!t||"object"!==ResetWorkspaceControl_typeof(t)&&"function"!=typeof t?function ResetWorkspaceControl_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ResetWorkspaceControl_getPrototypeOf(e){return(ResetWorkspaceControl_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ResetWorkspaceControl_setPrototypeOf(e,t){return(ResetWorkspaceControl_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ae=function(e){function ResetWorkspaceControl(){var e,t;!function ResetWorkspaceControl_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ResetWorkspaceControl);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=ResetWorkspaceControl_possibleConstructorReturn(this,(e=ResetWorkspaceControl_getPrototypeOf(ResetWorkspaceControl)).call.apply(e,[this].concat(o)))).resetWorkspace=function(){t.props.onClick()},t}return function ResetWorkspaceControl_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ResetWorkspaceControl_setPrototypeOf(e,t)}(ResetWorkspaceControl,a.a.Component),function ResetWorkspaceControl_createClass(e,t,r){return t&&ResetWorkspaceControl_defineProperties(e.prototype,t),r&&ResetWorkspaceControl_defineProperties(e,r),e}(ResetWorkspaceControl,[{key:"render",value:function render(){return a.a.createElement("div",{className:De.a.ResetWorkspaceControl},a.a.createElement("span",{className:De.a.cta},M.learning_environment.components.reset_workspace_button.replace("%{noun}",this.props.noun)),a.a.createElement("div",{className:De.a.ctaArrow}),a.a.createElement(k,{className:"fcn-control",clickHandler:this.resetWorkspace,overflow:!1},a.a.createElement(v.a,{name:"reset"})))}}]),ResetWorkspaceControl}();Ae.propTypes={noun:n.a.string,onClick:n.a.func.isRequired};var He=Ae,qe=r("+L3W"),ze=r.n(qe);function ShareCodeControl_typeof(e){return(ShareCodeControl_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ShareCodeControl_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ShareCodeControl_possibleConstructorReturn(e,t){return!t||"object"!==ShareCodeControl_typeof(t)&&"function"!=typeof t?function ShareCodeControl_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ShareCodeControl_getPrototypeOf(e){return(ShareCodeControl_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ShareCodeControl_setPrototypeOf(e,t){return(ShareCodeControl_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ue=function(e){function ShareCodeControl(){var e,t;!function ShareCodeControl_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ShareCodeControl);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=ShareCodeControl_possibleConstructorReturn(this,(e=ShareCodeControl_getPrototypeOf(ShareCodeControl)).call.apply(e,[this].concat(o)))).inviteAdvisor=function(){t.props.onClick()},t}return function ShareCodeControl_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ShareCodeControl_setPrototypeOf(e,t)}(ShareCodeControl,a.a.Component),function ShareCodeControl_createClass(e,t,r){return t&&ShareCodeControl_defineProperties(e.prototype,t),r&&ShareCodeControl_defineProperties(e,r),e}(ShareCodeControl,[{key:"render",value:function render(){return a.a.createElement("div",{className:ze.a.shareCodeControl},a.a.createElement("span",{className:ze.a.cta},"Share Code"),a.a.createElement("div",{className:ze.a.ctaArrow}),a.a.createElement(k,{className:"fcn-control",clickHandler:this.inviteAdvisor,overflow:!1},a.a.createElement(v.a,{name:"share"})))}}]),ShareCodeControl}();Ue.propTypes={intercomOpen:n.a.bool,onClick:n.a.func.isRequired};var Ge=Ue,Qe=r("zSSe"),Ve=r("8/ig"),Ke=r("/HwS"),Ze=(r("AiEq"),r("ska2")),Ye=r("0ALx"),Je=r("xkGU"),Xe=r.n(Je),$e=r("Rlp1"),et=r("7/as"),tt=r.n(et);function dot_typeof(e){return(dot_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dot_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function dot_possibleConstructorReturn(e,t){return!t||"object"!==dot_typeof(t)&&"function"!=typeof t?function dot_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dot_getPrototypeOf(e){return(dot_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dot_setPrototypeOf(e,t){return(dot_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var rt,ot=function(e){function ProgressDot(){return function dot_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProgressDot),dot_possibleConstructorReturn(this,dot_getPrototypeOf(ProgressDot).apply(this,arguments))}return function dot_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dot_setPrototypeOf(e,t)}(ProgressDot,a.a.Component),function dot_createClass(e,t,r){return t&&dot_defineProperties(e.prototype,t),r&&dot_defineProperties(e,r),e}(ProgressDot,[{key:"render",value:function render(){var e=O()({[tt.a.dot]:!0,[tt.a.dotActive]:this.props.active});return a.a.createElement("div",{className:e})}}]),ProgressDot}();function ProgressElipse_typeof(e){return(ProgressElipse_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ProgressElipse_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ProgressElipse_possibleConstructorReturn(e,t){return!t||"object"!==ProgressElipse_typeof(t)&&"function"!=typeof t?function ProgressElipse_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ProgressElipse_getPrototypeOf(e){return(ProgressElipse_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ProgressElipse_setPrototypeOf(e,t){return(ProgressElipse_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var nt=function(e){function ProgressElipse(){var e,t;!function ProgressElipse_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProgressElipse);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=ProgressElipse_possibleConstructorReturn(this,(e=ProgressElipse_getPrototypeOf(ProgressElipse)).call.apply(e,[this].concat(o)))).state={activeDot:0},t.changeDot=function(){var e=t.state.activeDot;2===e?t.setState({activeDot:0}):(e+=1,t.setState({activeDot:e}))},t}return function ProgressElipse_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ProgressElipse_setPrototypeOf(e,t)}(ProgressElipse,a.a.Component),function ProgressElipse_createClass(e,t,r){return t&&ProgressElipse_defineProperties(e.prototype,t),r&&ProgressElipse_defineProperties(e,r),e}(ProgressElipse,[{key:"componentDidMount",value:function componentDidMount(){rt=setInterval(this.changeDot,300)}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(rt)}},{key:"render",value:function render(){return a.a.createElement("div",{className:tt.a.progressElipse},a.a.createElement(ot,{active:0===this.state.activeDot}),a.a.createElement(ot,{active:1===this.state.activeDot}),a.a.createElement(ot,{active:2===this.state.activeDot}))}}]),ProgressElipse}(),it=r("zmXR"),at=r.n(it),st=r("Y+p1"),ct=r.n(st),lt=r("24Ii"),ut=r.n(lt),pt=null,ft=null;var dt=function createGist(e){return new Promise(function(t,r){ct()(pt,e)&&ft?t(ft):(pt=e,ut.a.post("/gist").send(e).end(function(o,n){if(o)ft=null,r(o);else{pt=e;var i=JSON.parse(n.text).url;ft=i,t(i)}}))})};function CollaborationWallContent_typeof(e){return(CollaborationWallContent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CollaborationWallContent_asyncGeneratorStep(e,t,r,o,n,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}function CollaborationWallContent_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(o,n){var i=e.apply(t,r);function _next(e){CollaborationWallContent_asyncGeneratorStep(i,o,n,_next,_throw,"next",e)}function _throw(e){CollaborationWallContent_asyncGeneratorStep(i,o,n,_next,_throw,"throw",e)}_next(void 0)})}}function CollaborationWallContent_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function CollaborationWallContent_possibleConstructorReturn(e,t){return!t||"object"!==CollaborationWallContent_typeof(t)&&"function"!=typeof t?function CollaborationWallContent_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function CollaborationWallContent_getPrototypeOf(e){return(CollaborationWallContent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CollaborationWallContent_setPrototypeOf(e,t){return(CollaborationWallContent_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ht=function createCollaborationUrl(){var e="".concat(window.location.origin+window.location.pathname,"?user_id=").concat(Qe.a.id()),t="?user_id=".concat(Qe.a.id());return window.history.pushState({userId:Qe.a.id()},window.location.pathname,t),Object(Ze.b)("project-collaboration-invite",{share_url:e}),e},mt=function(e){function CollaborationWall(){var e,t;!function CollaborationWallContent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CollaborationWall);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=CollaborationWallContent_possibleConstructorReturn(this,(e=CollaborationWallContent_getPrototypeOf(CollaborationWall)).call.apply(e,[this].concat(o)))).state={responseMsg:null,url:""},t.onCopyClicked=CollaborationWallContent_asyncToGenerator(Te.a.mark(function _callee(){var e;return Te.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return e=t.state.url,r.prev=1,r.next=4,Ne.writeText(e);case 4:t.setState({responseMsg:"Link copied!",error:!1}),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),t.setState({responseMsg:"uh oh! there was a problem copying the url!",error:!0});case 10:case"end":return r.stop()}},_callee,this,[[1,7]])})),t}return function CollaborationWallContent_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CollaborationWallContent_setPrototypeOf(e,t)}(CollaborationWall,i["Component"]),function CollaborationWallContent_createClass(e,t,r){return t&&CollaborationWallContent_defineProperties(e.prototype,t),r&&CollaborationWallContent_defineProperties(e,r),e}(CollaborationWall,[{key:"createGistUrl",value:function createGistUrl(){var e=this,t={};Xe()(this.props.files,function(e){t[e.name]={content:e.content}}),dt({description:"Codecademy export",public:!1,files:t}).then(function(t){e.setState({url:t})})}},{key:"componentDidMount",value:function componentDidMount(){this.state.url||(this.props.gist?this.createGistUrl():this.setState({url:ht()}))}},{key:"render",value:function render(){var e=O()({[at.a.errorMsg]:this.state.error});return a.a.createElement(A.a,{column:!0},a.a.createElement("h5",null,"Copy the path below to share your code"),a.a.createElement(A.a,null,a.a.createElement("div",{className:at.a.copyField},a.a.createElement($e.a,{className:at.a.copyInputField,id:"collInput",value:this.state.url}),this.state.url?null:a.a.createElement(A.a,{flex:!0,center:!0,className:at.a.loadingContainer},a.a.createElement(nt,null))),a.a.createElement(D.a,{disabled:!this.state.url,onClick:this.onCopyClicked},"Copy")),a.a.createElement(A.a,{center:!0,flex:!0,className:at.a.responseMsgContainer},a.a.createElement("span",{className:e},this.state.responseMsg)))}}]),CollaborationWall}();mt.propTypes={files:n.a.array,gist:n.a.bool};var yt=mt,gt=r("CBRV"),bt=r("T2dD"),_t=r("DsPH"),vt=r("UQpG");function LakituContainer_typeof(e){return(LakituContainer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LakituContainer_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function LakituContainer_possibleConstructorReturn(e,t){return!t||"object"!==LakituContainer_typeof(t)&&"function"!=typeof t?function LakituContainer_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function LakituContainer_getPrototypeOf(e){return(LakituContainer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function LakituContainer_setPrototypeOf(e,t){return(LakituContainer_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ct=function(e){function LakituContainer(){var e,t;!function LakituContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LakituContainer);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=LakituContainer_possibleConstructorReturn(this,(e=LakituContainer_getPrototypeOf(LakituContainer)).call.apply(e,[this].concat(o)))).state={isModalOpen:!1,isButtonFlashing:!0,shouldOfferHelp:!1,lastOfferedHelp:0},t.trackClick=function(e){var r=t.props,o=r.course,n=r.lesson,i=r.exercise;t.props.trackClick({data:{target:e,lesson:n,exercise:i,skill:o}})},t.onButtonClick=function(){t.trackClick("lakituSolutionButton"),t.setState({isModalOpen:!0,isButtonFlashing:!1})},t.closeModal=function(){t.setState({isModalOpen:!1,shouldOfferHelp:!1})},t.keepTrying=function(){t.trackClick("lakituKeepTrying"),t.closeModal()},t.getAnswer=function(){t.trackClick("lakituGetCode"),t.closeModal(),Object(_t.a)("info","Lakitu restoring solution code and force passing checkpoints"),f.a.solution().then(t.props.forcePassClicked)},t}return function LakituContainer_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LakituContainer_setPrototypeOf(e,t)}(LakituContainer,i["Component"]),function LakituContainer_createClass(e,t,r){return t&&LakituContainer_defineProperties(e.prototype,t),r&&LakituContainer_defineProperties(e,r),e}(LakituContainer,[{key:"render",value:function render(){var e=this.state,t=e.isModalOpen,r=e.isButtonFlashing;return e.shouldOfferHelp?a.a.createElement("span",null,a.a.createElement(D.a,{theme:"yellow",go:r,onClick:this.onButtonClick},M.learning_environment.components.code_editor.lakitu_button),a.a.createElement(vt.a,{isOpen:t,keepTrying:this.keepTrying,getAnswer:this.getAnswer})):null}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){var r=e.failureCount,o=t.lastOfferedHelp,n={};0===r&&(n.shouldOfferHelp=!1,n.lastOfferedHelp=0);return o<r&&r%2==0&&(n.shouldOfferHelp=!0,n.lastOfferedHelp=r),n}}]),LakituContainer}();Ct.propTypes={course:n.a.string,lesson:n.a.string,exercise:n.a.string.isRequired,failureCount:n.a.number,forcePassClicked:n.a.func,trackClick:n.a.func};var Ot=Ct,Pt={forcePassClicked:Fe.g,trackClick:bt.f},kt=Object(L.connect)(function mapStateToProps(e){var t=Object(gt.e)(e);return{course:t.trackSlug,exercise:t.exerciseSlug,lesson:t.contentItemSlug,failureCount:Object(B.e)(e)}},Pt)(Ot),wt=r("rFUm"),Et=r("EOYF"),St=r("0hcM"),Tt=r("M4Rw"),Nt=r("2F30"),Rt=r("l+xW"),jt=r.n(Rt);function WorkspaceNameChooser_typeof(e){return(WorkspaceNameChooser_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WorkspaceNameChooser_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function WorkspaceNameChooser_possibleConstructorReturn(e,t){return!t||"object"!==WorkspaceNameChooser_typeof(t)&&"function"!=typeof t?function WorkspaceNameChooser_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function WorkspaceNameChooser_getPrototypeOf(e){return(WorkspaceNameChooser_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WorkspaceNameChooser_setPrototypeOf(e,t){return(WorkspaceNameChooser_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var xt={saveWorkspace:n.a.func,workspaceSlug:n.a.string,generatedWorkspaceName:n.a.string},It="blank-workspace",Ft=function(e){function WorkspaceNameChooser(){var e,t;!function WorkspaceNameChooser_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WorkspaceNameChooser);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=WorkspaceNameChooser_possibleConstructorReturn(this,(e=WorkspaceNameChooser_getPrototypeOf(WorkspaceNameChooser)).call.apply(e,[this].concat(o)))).state={customSlug:t.props.workspaceSlug===It?"":t.props.workspaceSlug},t.handleChange=function(e){t.setState({customSlug:e.target.value.replace(/\s/g,"-")})},t}return function WorkspaceNameChooser_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WorkspaceNameChooser_setPrototypeOf(e,t)}(WorkspaceNameChooser,i["Component"]),function WorkspaceNameChooser_createClass(e,t,r){return t&&WorkspaceNameChooser_defineProperties(e.prototype,t),r&&WorkspaceNameChooser_defineProperties(e,r),e}(WorkspaceNameChooser,[{key:"render",value:function render(){var e=this.props,t=e.saveWorkspace,r=e.workspaceSlug,o=e.generatedWorkspaceName;return a.a.createElement(Et.a,{className:jt.a.workspaceNaming,onSubmit:t},a.a.createElement(St.a,null,"Workspace Name"),r&&r!==It?a.a.createElement(Tt.a,{htmlFor:"currentWorkspaceSlug",label:a.a.createElement("div",null,a.a.createElement(St.a,null,"Current Name"),a.a.createElement("p",null,r)),name:"chooseWorkspaceSlug",className:jt.a.slugRadioButtons,value:r}):null,o!==r?a.a.createElement(Tt.a,{htmlFor:"generatedWorkspaceSlug",label:a.a.createElement("div",null,a.a.createElement(St.a,null,"Generated Name"),a.a.createElement("p",null,o)),name:"chooseWorkspaceSlug",className:jt.a.slugRadioButtons,value:o}):null,a.a.createElement(Tt.a,{htmlFor:"customWorkspaceSlug",label:a.a.createElement("div",{className:jt.a.customWorkspaceName},a.a.createElement(St.a,null,"Custom Name"),a.a.createElement(Nt.a,{onChange:this.handleChange,value:this.state.customSlug})),name:"chooseWorkspaceSlug",className:jt.a.slugRadioButtons,value:this.state.customSlug}),a.a.createElement(D.a,{theme:"secondary",className:jt.a.saveWorkspaceButton,type:"submit"},"Save Workspace"))}}]),WorkspaceNameChooser}();Ft.propTypes=xt;var Lt=Ft,Mt=r("VBGW"),Bt=r.n(Mt),Wt={trackClick:bt.f},Dt=F()({displayName:"CodeEditor",propTypes:{presenter:n.a.object.isRequired,geometry:n.a.object.isRequired,modifiers:n.a.object.isRequired,helpers:n.a.object.isRequired,broadcast:n.a.func.isRequired,trackClick:n.a.func.isRequired,user:n.a.object,checkpointsRunning:n.a.bool},mixins:[s.StateMixin.connect(Ve.a,["files","active","hasReceivedCurrentFiles"]),s.StateMixin.connect(wt.a),s.StateMixin.connect(l.a),h.a.listenTo(y,"onResize")],getInitialState:function getInitialState(){var e;return this.props.geometry&&(e={width:this.props.geometry.width(),height:this.props.geometry.height()}),{openResetWorkspaceWall:!1,openShareWall:!1,fileToolOpen:!1,hasTyped:!1,collapsed:!0,orphans:[],dimensions:e}},toggleLayout:function toggleLayout(){this.setState(function(e){return{collapsed:!e.collapsed,fileToolOpen:!e.fileToolOpen}})},toggleAuthoringMode:function toggleAuthoringMode(){Ke.a.adminChange("toggleWorkspaceNaming",!this.state.toggleWorkspaceNaming)},componentDidMount:function componentDidMount(){var e=this;Ze.a&&(Object(Ze.a)("onShow",function(){e.setState({intercomOpen:!0})}),Object(Ze.a)("onHide",function(){e.setState({intercomOpen:!1})}))},normalizeFileKeys:function normalizeFileKeys(e){var t=[];return e.forEach(function(e){var r={};r.name=e.filename,r.type=e.type,t.push(r)}),t},setOrphans:function setOrphans(e){e.length>this.state.orphans.length&&(this.setState({orphans:e}),this.setState({hasNewOrphan:!0}))},onResize:function onResize(){this.refs.editor&&this.refs.editor.refresh()},onClick:function onClick(){this.refs.editor&&this.refs.editor.codeMirror.focus()},processFiles:function processFiles(){var e=this;return new Promise(function(t){e.props.presenter.hasCheckWork?f.a.autoSaveFiles().then(t):t()})},onModelChanged:function onModelChanged(e){var t=this,r=this.state.files[this.state.active];r&&r.content!==e&&(this.setState({persistingFiles:!0}),re.a.updateFile(r,e).then(function(){t.processFiles().then(function(){t.setState({persistingFiles:!1})})}),this.state.hasTyped||this.setState({hasTyped:!0}))},submitClick:function submitClick(){var e=this;this.state.offerAnswer&&this.props.broadcast("keepTrying"),this.setState({offerAnswer:!1,hasTyped:!1}),this.setState({persistingFiles:!0}),this.props.presenter.evaluateExercise().then(function(){e.setState({persistingFiles:!1})}).catch(function(t){600===t.code&&e.props.broadcast("error",{visible:!0,timestamp:(new Date).valueOf(),friendly:t.message,component:"PersistentCodeEditor"}),e.setState({persistingFiles:!1})})},saveWorkspace:function saveWorkspace(e){e.preventDefault();var t,r=e.target.elements,o=r.currentWorkspaceSlug,n=r.generatedWorkspaceSlug,i=r.customWorkspaceSlug;o&&o.checked?t=o.value:i.checked?t=i.value:n.checked&&(t=n.value),""!==t&&f.a.saveFilesAndCheckWork().then(function(){return f.a.getFetchUrl(t)}).then(function(e){return f.a.persist(e,t)}).then(this.toggleAuthoringMode)},onEditorFocus:function onEditorFocus(){this.state.offerAnswer&&(this.props.broadcast("keepTrying"),this.setState({offerAnswer:!1}))},updateTree:function updateTree(){this.props.broadcast("getFileTree")},offerAnswer:function offerAnswer(){this.setState({offerAnswer:!0})},resetWorkspace:function resetWorkspace(){var e=function noop(){};return this.props.trackClick({data:{target:"platformResetWorkspace"}}),"project"===this.props.presenter.contentItemType?f.a.reset().then(this.closeResetWorkspaceWall,e):f.a.restore().then(this.closeResetWorkspaceWall,e)},renderHeader:function renderHeader(){return a.a.createElement("div",{className:"fcn-component-header"},this.renderTabs())},renderEditorOrPlaceholder:function renderEditorOrPlaceholder(){return showShimmerUI(this.state)?a.a.createElement("div",{className:Bt.a.codeEditorSkeleton},a.a.createElement(TextSkeleton,null)):this.state.files.length>0?this.renderEditor():this.renderPlaceholder()},renderEditor:function renderEditor(){var e=this.props.modifiers,t={};return(void 0===e?{}:e).disableLinting&&(t.lint=!1),a.a.createElement(c.a,{ref:"editor",file:this.activeFile(),className:Bt.a.cmeditor,onFocus:this.onEditorFocus,onChange:this.onModelChanged,options:t,persistingFiles:this.state.persistingFiles})},_ignoreOrphan:function _ignoreOrphan(){this.setState({hasNewOrphan:!1})},_keepTrying:function _keepTrying(){this.setState({offerAnswer:!1}),this.props.broadcast("keepTrying")},_showAnswer:function _showAnswer(){this.setState({offerAnswer:!1}),this.props.broadcast("showAnswer")},openCollaborationWall:function openCollaborationWall(){this.setState({openShareWall:!0})},openResetWorkspaceWall:function openResetWorkspaceWall(){this.props.trackClick({data:{target:"platformResetWorkspaceDialog"}}),this.setState({openResetWorkspaceWall:!0})},closeCollaborationWall:function closeCollaborationWall(){this.setState({openShareWall:!1})},closeResetWorkspaceWall:function closeResetWorkspaceWall(){this.setState({openResetWorkspaceWall:!1})},renderFooter:function renderFooter(){var e=this.props.presenter,t=this.state,r=t.authoringMode,o=t.toggleWorkspaceNaming;return a.a.createElement("div",{className:"editor-footer-container"},e.displayErrors&&a.a.createElement(Be,{onVisibilityToggle:this.onResize}),a.a.createElement("div",{className:"fcn-tabs-container"},r&&o?a.a.createElement(Lt,{saveWorkspace:this.saveWorkspace,workspaceSlug:l.a.state.workspaceSlug,generatedWorkspaceName:this.props.presenter.generatedWorkspaceName}):null,this.renderFooterButtons()))},renderFooterButtons:function renderFooterButtons(){var e=this.props.trackClick,t=this.state.persistingFiles||this.props.checkpointsRunning,r=t||0===this.state.files.length,o=this.props.modifiers.isProject?M.learning_environment.components.code_editor.save:M.learning_environment.components.code_editor.run,n={opacity:[1,0],marginTop:[0,30]},i=this.props.modifiers.isProject?M.learning_environment.components.code_editor.project:M.learning_environment.components.code_editor.exercise;return a.a.createElement("div",{className:"editor-footer__buttons"},a.a.createElement("div",{className:Bt.a.editorFooter},!this.props.presenter.hasCheckWork&&a.a.createElement(D.a,{square:!0,theme:"royalblue",go:!r&&this.state.hasTyped,disabled:r,onClick:t?null:this.submitClick,style:{minWidth:80},id:"run-button"},t?a.a.createElement("div",{className:"fcn-spinner"}):o),a.a.createElement(Ye.VelocityComponent,{animation:n,leave:n,duration:500,runOnMount:!0},a.a.createElement(He,{noun:i,onClick:this.openResetWorkspaceWall})),Qe.a.isPro()?a.a.createElement("div",{className:"peer-controls"},a.a.createElement(Ye.VelocityComponent,{animation:n,leave:n,duration:500,runOnMount:!0},a.a.createElement(Ge,{intercomOpen:this.state.intercomOpen,onClick:this.openCollaborationWall}))):null,a.a.createElement(Ye.VelocityComponent,{animation:n,leave:n,duration:500,runOnMount:!0},a.a.createElement(Ie,{trackClick:e,content:this.activeFileContent()}))),a.a.createElement(kt,null),this.state.authoringMode?a.a.createElement(D.a,{theme:"lantern",onClick:this.toggleAuthoringMode,style:{minWidth:"9rem"}},this.state.toggleWorkspaceNaming?"Back":"Save Workspace"):null)},placeholderTab:function placeholderTab(){return a.a.createElement(k,{key:"codeEditorTab-empty",isActive:!0,locked:!0,size:100,canClose:!1,clickHandler:function clickHandler(){},closeHandler:function closeHandler(){}})},tabsData:function tabsData(){var e=this,t=[];return showShimmerUI(this.state)?(t.push(this.placeholderTab()),t):this.state.files&&this.state.files.length>0?(this.state.files.forEach(function(r,o){if(!r.isDir){var n=e.state.active===o,i="100.0"/e.state.files.length,s=r.name.split("/"),c=s[s.length-1],l=r.path;t.push(a.a.createElement(k,{title:c,key:"codeEditorTab-".concat(l),isActive:n,tabId:o,locked:e.state.locked,size:i,canClose:!e.props.presenter.navigator_disabled||e.state.authoringMode,clickHandler:re.a.setCurrentOpenFile,closeHandler:re.a.closeFile}))}}),t):t},renderTabs:function renderTabs(){var e=this.tabsData(),t=O()({[Bt.a.tabsOffSet]:this.state.collapsed});return a.a.createElement("div",{className:t},a.a.createElement(g,null,e,a.a.createElement(k,{className:"fcn-control",key:"codeEditorTab-fullscreen","data-cue":"discovery-fullscreen",clickHandler:this.props.helpers.toggleFullscreen,canClose:!1,overflow:"false",isControl:!0,align:"right"},a.a.createElement(v.a,{name:"fullscreen"}))))},renderPlaceholder:function renderPlaceholder(){return a.a.createElement("div",{className:"fcn-code-editor__placeholder"},a.a.createElement("div",{className:"fcn-code-editor__placeholder__icon",style:{paddingRight:12}},a.a.createElement(v.a,{name:"file-alt",size:3})),a.a.createElement("div",{style:{marginTop:15}},"Code Editor"),this.state.hasReceivedCurrentFiles&&!this.state.fileToolOpen?a.a.createElement(D.a,{theme:"lantern",style:{marginTop:20},outline:!0,onClick:this.toggleLayout},"Open file"):null)},activeFile:function activeFile(){if(null!==this.state.active)return this.state.files[this.state.active]},activeFileContent:function activeFileContent(){var e=this.activeFile();return e?e.content:""},reloadFile:function reloadFile(e){if(this.state.files&&this.state.files.map(function(e){return e.path}).indexOf(e)>-1){var t=Y.a(Y.b(e));re.a.reloadFile(e,t)}},render:function render(){var e=O()({editor:!0,"editor--empty":-1===!this.state.active,[Bt.a.layoutCollapsed]:this.state.collapsed,[Bt.a.noNavigator]:this.props.presenter.navigator_disabled,[Bt.a.includeFileNavTab]:this.state.authoringMode,[Bt.a.fileTabOpen]:!this.state.collapsed}),t=O()({[Bt.a.mainContainer]:!0});return a.a.createElement("div",{onKeyUp:this.onKeyUp,className:t},a.a.createElement(V,null),a.a.createElement(U,{isOpen:this.state.openResetWorkspaceWall,cancel:this.closeResetWorkspaceWall,action:this.resetWorkspace,actionText:"Reset",cancelText:"Cancel",wallOverlayType:"screen"},a.a.createElement("h2",null,M.learning_environment.components.code_editor.reset_workspace_confirmation_title),a.a.createElement("p",null,M.learning_environment.components.code_editor.reset_workspace_confirmation_content)),a.a.createElement(W.a,{isOpen:this.state.openShareWall,dismiss:this.closeCollaborationWall},a.a.createElement(yt,{gist:!0,files:this.state.files})),a.a.createElement("div",{className:Bt.a.edFToolLayoutContainer},!this.props.presenter.navigator_disabled||this.state.authoringMode?a.a.createElement(Ee,{ref:"fileTool",open:this.state.fileToolOpen,toggleLayout:this.toggleLayout}):null,a.a.createElement("div",{className:e},this.renderHeader(),a.a.createElement("div",{onClick:this.onClick,className:O()({"editor-container":"true"})},this.renderEditorOrPlaceholder()),this.renderFooter())))}}),At=Object(L.connect)(function mapStateToProps(e){return{checkpointsRunning:Object(B.h)(e)}},Wt)(Dt);function Image(e){var t=e.presenter;return a.a.createElement("div",{className:"francine-image__container"},a.a.createElement("img",{src:t.image_url,alt:t.alt_text,className:"fit-full francine-image"}))}Image.propTypes={presenter:n.a.object.isRequired};var Ht=Image,qt=r("5pcu"),zt=r("TVOw"),Ut=r("NCda"),Gt=r.n(Ut);function Video_typeof(e){return(Video_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Video_extends(){return(Video_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function Video_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Video_possibleConstructorReturn(e,t){return!t||"object"!==Video_typeof(t)&&"function"!=typeof t?function Video_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Video_getPrototypeOf(e){return(Video_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Video_setPrototypeOf(e,t){return(Video_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Qt=function(e){function Video(){return function Video_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Video),Video_possibleConstructorReturn(this,Video_getPrototypeOf(Video).apply(this,arguments))}return function Video_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Video_setPrototypeOf(e,t)}(Video,a.a.Component),function Video_createClass(e,t,r){return t&&Video_defineProperties(e.prototype,t),r&&Video_defineProperties(e,r),e}(Video,[{key:"componentWillUnmount",value:function componentWillUnmount(){var e=this.refs.video;e&&(e.pause(),e.src="",e.onloadstart=function(){},e.load())}},{key:"videoUrl",value:function videoUrl(){return this.props.presenter.video_urls&&this.props.presenter.video_urls[0]}},{key:"hasYouTube",value:function hasYouTube(){var e=this.videoUrl();return e&&e.match(/youtu(be\.com|\.be)/)}},{key:"renderYouTube",value:function renderYouTube(){var e=this.videoUrl(),t=Object(zt.cb)(e);return a.a.createElement(qt.a,{className:Gt.a.youtube,containerClassName:Gt.a.videoContainer,videoId:t,playerVars:{autoplay:this.props.presenter.autoplay?1:0,loop:this.props.presenter.loop?1:0,controls:this.props.presenter.show_controls?1:0}})}},{key:"render",value:function render(){if(this.hasYouTube())return this.renderYouTube();var e={};return this.props.presenter.autoplay&&(e.autoPlay=!0),this.props.presenter.loop&&(e.loop=!0),this.props.presenter.muted&&(e.muted=!0),this.props.presenter.show_controls&&(e.controls=!0),a.a.createElement("div",{className:Gt.a.videoContainer,ref:"container"},a.a.createElement("video",Video_extends({ref:"video",className:Gt.a.video},e),this.props.presenter.video_urls.map(function(e){return a.a.createElement("source",{src:e})})))}}]),Video}();Qt.propTypes={presenter:n.a.object.isRequired};var Vt=r("UUNH"),Kt=r("nGyu"),Zt=function matchesSelector(e,t){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)}).call(e,t)},Yt=r("Yr7M");function browserLinkListener_typeof(e){return(browserLinkListener_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function browserLinkListener_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function browserLinkListener_possibleConstructorReturn(e,t){return!t||"object"!==browserLinkListener_typeof(t)&&"function"!=typeof t?function browserLinkListener_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function browserLinkListener_getPrototypeOf(e){return(browserLinkListener_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function browserLinkListener_setPrototypeOf(e,t){return(browserLinkListener_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Jt,Xt=/^file\:\/\/.*/,$t="file://";function NarrativeMarkdown_typeof(e){return(NarrativeMarkdown_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NarrativeMarkdown_extends(){return(NarrativeMarkdown_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r,o,n=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function NarrativeMarkdown_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function NarrativeMarkdown_possibleConstructorReturn(e,t){return!t||"object"!==NarrativeMarkdown_typeof(t)&&"function"!=typeof t?function NarrativeMarkdown_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function NarrativeMarkdown_getPrototypeOf(e){return(NarrativeMarkdown_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NarrativeMarkdown_setPrototypeOf(e,t){return(NarrativeMarkdown_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var er=function browserLinkListener(e){return function wrapWithComponent(t){return function(r){function BrowserLinkListener(){var t,r;!function browserLinkListener_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BrowserLinkListener);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(r=browserLinkListener_possibleConstructorReturn(this,(t=browserLinkListener_getPrototypeOf(BrowserLinkListener)).call.apply(t,[this].concat(n)))).handleElementClick=function(t){if(Zt(t.target,e)){var r=t.target,o=r.getAttribute("target"),n=r.getAttribute("href");if(o){if(Xt.test(n)){t.preventDefault();var i=n.substring($t.length);f.a.getFile(i),re.a.openFile(w.a.emptyWithPath(i))}}else t.preventDefault(),Yt.a.load(n);t.stopPropagation()}},r}return function browserLinkListener_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&browserLinkListener_setPrototypeOf(e,t)}(BrowserLinkListener,i.Component),function browserLinkListener_createClass(e,t,r){return t&&browserLinkListener_defineProperties(e.prototype,t),r&&browserLinkListener_defineProperties(e,r),e}(BrowserLinkListener,[{key:"componentDidMount",value:function componentDidMount(){var e=Object(ee.findDOMNode)(this);e&&e.addEventListener("click",this.handleElementClick)}},{key:"componentWillUnmount",value:function componentWillUnmount(){var e=Object(ee.findDOMNode)(this);e&&e.removeEventListener("click",this.handleElementClick)}},{key:"render",value:function render(){return a.a.createElement(t,this.props)}}]),BrowserLinkListener}()}}("a")(Jt=function(e){function NarrativeMarkdown(){return function NarrativeMarkdown_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NarrativeMarkdown),NarrativeMarkdown_possibleConstructorReturn(this,NarrativeMarkdown_getPrototypeOf(NarrativeMarkdown).apply(this,arguments))}return function NarrativeMarkdown_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NarrativeMarkdown_setPrototypeOf(e,t)}(NarrativeMarkdown,i["Component"]),function NarrativeMarkdown_createClass(e,t,r){return t&&NarrativeMarkdown_defineProperties(e.prototype,t),r&&NarrativeMarkdown_defineProperties(e,r),e}(NarrativeMarkdown,[{key:"render",value:function render(){var e=this.props,t=e.text,r=_objectWithoutProperties(e,["text"]);return a.a.createElement(Kt.a,NarrativeMarkdown_extends({},r,{theme:"tight",text:t}))}}]),NarrativeMarkdown}())||Jt;er.propTypes={text:n.a.string.isRequired,className:n.a.string.isRequired};var tr=er,rr=r("iF0z"),or=r.n(rr);function Hint_typeof(e){return(Hint_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hint_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Hint_possibleConstructorReturn(e,t){return!t||"object"!==Hint_typeof(t)&&"function"!=typeof t?function Hint_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hint_getPrototypeOf(e){return(Hint_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hint_setPrototypeOf(e,t){return(Hint_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var nr={trackClick:bt.f},ir=function(e){function Hint(){var e,t;!function Hint_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Hint);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=Hint_possibleConstructorReturn(this,(e=Hint_getPrototypeOf(Hint)).call.apply(e,[this].concat(o)))).state={showHint:!1},t.toggleHint=function(){t.props.trackClick({data:{target:"platformHint"}}),t.setState(function(e){return{showHint:!e.showHint}})},t}return function Hint_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hint_setPrototypeOf(e,t)}(Hint,i["PureComponent"]),function Hint_createClass(e,t,r){return t&&Hint_defineProperties(e.prototype,t),r&&Hint_defineProperties(e,r),e}(Hint,[{key:"render",value:function render(){var e=this.state.showHint,t=O()(or.a.hint,{[or.a.hintOpen]:e}),r=O()(or.a.toggleArrow,{[or.a.toggleArrowOpen]:e});return a.a.createElement("div",{className:t},a.a.createElement("div",{tabIndex:0,role:"button",className:or.a.hintHeader,onClick:this.toggleHint},a.a.createElement("span",{className:or.a.hintHeaderText},this.state.showHint?"Hint":"Stuck? Get a hint"),a.a.createElement(Re.a,{className:r,name:"chevronDown"})),e&&a.a.createElement(tr,{className:or.a.hintBody,text:this.props.hint}))}}]),Hint}();ir.propTypes={hint:n.a.string.isRequired,trackClick:n.a.func.isRequired};var ar=Object(L.connect)(null,nr)(ir);function checkpoint_typeof(e){return(checkpoint_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function checkpoint_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function checkpoint_possibleConstructorReturn(e,t){return!t||"object"!==checkpoint_typeof(t)&&"function"!=typeof t?function checkpoint_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function checkpoint_getPrototypeOf(e){return(checkpoint_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function checkpoint_setPrototypeOf(e,t){return(checkpoint_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var sr=function(e){function Checkpoint(){return function checkpoint_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Checkpoint),checkpoint_possibleConstructorReturn(this,checkpoint_getPrototypeOf(Checkpoint).apply(this,arguments))}return function checkpoint_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&checkpoint_setPrototypeOf(e,t)}(Checkpoint,a.a.PureComponent),function checkpoint_createClass(e,t,r){return t&&checkpoint_defineProperties(e.prototype,t),r&&checkpoint_defineProperties(e,r),e}(Checkpoint,[{key:"render",value:function render(){var e,t=this.props,r=t.status,o=t.disabled,n=t.index,i=t.instructions,s=t.hint,c=t.passive,l=O()({"fcn-checkpoint":!0,"fcn-checkpoint--satisfied":"satisfied"===r,"fcn-checkpoint--unsatisfied":"unsatisfied"===r&&!c,"fcn-checkpoint--pending":"pending"===r,"fcn-checkpoint--disabled":o&&"default"===r}),u=O()({"fcn-checkpoint__checkbox":!0,"fcn-checkpoint__checkbox--satisfied":"satisfied"===r,"fcn-checkpoint__checkbox--unsatisfied":"unsatisfied"===r&&!c,"fcn-checkpoint__checkbox--pending":"pending"===r});return"satisfied"===r?e=a.a.createElement(v.a,{name:"check"}):"unsatisfied"===r&&(e=a.a.createElement(v.a,{name:"close"})),a.a.createElement("div",null,a.a.createElement("div",{className:l},a.a.createElement("b",{className:"fcn-checkpoint__number"},n,"."),a.a.createElement("div",{className:"fcn-checkpoint__body"},a.a.createElement(tr,{text:i})),a.a.createElement("div",{className:u},"pending"===r?a.a.createElement(Vt.a,{className:"fcn-gamut-spinner"}):e)),s?a.a.createElement(ar,{hint:s}):null)}}]),Checkpoint}();sr.propTypes={disabled:n.a.bool.isRequired,status:n.a.string.isRequired,instructions:n.a.string.isRequired,hint:n.a.string.isRequired,index:n.a.number.isRequired,passive:n.a.bool.isRequired},sr.defaultProps={disabled:!1,status:"default"};var cr=sr,lr=r("NaN6"),ur=r("zj2G"),pr=r.n(ur);function NarrativeHeader_extends(){return(NarrativeHeader_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function NarrativeHeader_objectWithoutProperties(e,t){if(null==e)return{};var r,o,n=function NarrativeHeader_objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var fr=function NarrativeHeader(e){var t=e.iconName,r=NarrativeHeader_objectWithoutProperties(e,["iconName"]);return a.a.createElement(A.a,NarrativeHeader_extends({align:"center"},r),a.a.createElement(v.a,{className:pr.a.headerIcon,name:t}),e.children)};fr.propTypes={iconName:n.a.string,children:n.a.node};var dr=fr,hr=r("v1H2"),mr=r.n(hr);function NarrativeContent_typeof(e){return(NarrativeContent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NarrativeContent_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function NarrativeContent_possibleConstructorReturn(e,t){return!t||"object"!==NarrativeContent_typeof(t)&&"function"!=typeof t?function NarrativeContent_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function NarrativeContent_getPrototypeOf(e){return(NarrativeContent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NarrativeContent_setPrototypeOf(e,t){return(NarrativeContent_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var yr=function(e){function NarrativeContent(){return function NarrativeContent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NarrativeContent),NarrativeContent_possibleConstructorReturn(this,NarrativeContent_getPrototypeOf(NarrativeContent).apply(this,arguments))}return function NarrativeContent_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NarrativeContent_setPrototypeOf(e,t)}(NarrativeContent,i["PureComponent"]),function NarrativeContent_createClass(e,t,r){return t&&NarrativeContent_defineProperties(e.prototype,t),r&&NarrativeContent_defineProperties(e,r),e}(NarrativeContent,[{key:"render",value:function render(){var e=this.props.content;return a.a.createElement("div",{className:mr.a.container},e.map(function(e){return a.a.createElement(i.Fragment,{key:e.heading.key},a.a.createElement("div",{className:mr.a.header},e.heading),a.a.createElement("div",null,e.content))}))}}]),NarrativeContent}();yr.propTypes={content:n.a.array},yr.defaultProps={content:[]};var gr=yr,br=r("g7yp"),_r=r("AHq7"),vr=r("/Cn6"),Cr=r("E+oP"),Or=r.n(Cr);function OutroLink_typeof(e){return(OutroLink_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OutroLink_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function OutroLink_possibleConstructorReturn(e,t){return!t||"object"!==OutroLink_typeof(t)&&"function"!=typeof t?function OutroLink_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function OutroLink_getPrototypeOf(e){return(OutroLink_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function OutroLink_setPrototypeOf(e,t){return(OutroLink_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Pr=function(e){function OutroLink(){var e,t;!function OutroLink_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OutroLink);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=OutroLink_possibleConstructorReturn(this,(e=OutroLink_getPrototypeOf(OutroLink)).call.apply(e,[this].concat(o)))).trackClick=function(){var e=t.props,r=e.lessonId,o=e.exerciseId;(0,e.userClick)({data:{target:"le_forum_click",lesson_id:r,exercise_id:o}})},t}return function OutroLink_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OutroLink_setPrototypeOf(e,t)}(OutroLink,i["Component"]),function OutroLink_createClass(e,t,r){return t&&OutroLink_defineProperties(e.prototype,t),r&&OutroLink_defineProperties(e,r),e}(OutroLink,[{key:"render",value:function render(){var e=this.props.forumTopicId,t=e?"".concat(zt.m,"/t/").concat(e):zt.m,r=e?M.learning_environment.components.narrative.forum_section.exercise_outro:M.learning_environment.components.narrative.forum_section.home_outro;return a.a.createElement("span",null,r,a.a.createElement("a",{href:t,rel:"noopener noreferrer",target:"_blank",onClick:this.trackClick},M.learning_environment.components.narrative.forum_section.forum_link_text))}}]),OutroLink}();Pr.propTypes={forumTopicId:n.a.string,lessonId:n.a.string,exerciseId:n.a.string,userClick:n.a.func},Pr.defaultProps={userClick:function userClick(){}};var kr=Pr,wr=r("LiRT"),Er=r.n(wr);function QuestionList_typeof(e){return(QuestionList_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QuestionList_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function QuestionList_possibleConstructorReturn(e,t){return!t||"object"!==QuestionList_typeof(t)&&"function"!=typeof t?function QuestionList_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function QuestionList_getPrototypeOf(e){return(QuestionList_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QuestionList_setPrototypeOf(e,t){return(QuestionList_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Sr=function(e){function QuestionList(){var e,t;!function QuestionList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,QuestionList);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=QuestionList_possibleConstructorReturn(this,(e=QuestionList_getPrototypeOf(QuestionList)).call.apply(e,[this].concat(o)))).trackClick=function(e,r){var o=t.props,n=o.lessonId,i=o.exerciseId;(0,o.userClick)({data:{target:"le_faq_q".concat(e+1),question_text:r,lesson_id:n,exercise_id:i}})},t}return function QuestionList_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QuestionList_setPrototypeOf(e,t)}(QuestionList,i["Component"]),function QuestionList_createClass(e,t,r){return t&&QuestionList_defineProperties(e.prototype,t),r&&QuestionList_defineProperties(e,r),e}(QuestionList,[{key:"render",value:function render(){var e=this,t=this.props.topQuestions;return t&&t.length?a.a.createElement("div",null,a.a.createElement("p",null,M.learning_environment.components.narrative.forum_section.question_list_intro),a.a.createElement("ol",{className:Er.a.list},t.map(function(r,o){var n=r.text,i=r.href;return a.a.createElement("li",{key:n,className:Er.a.listItem},a.a.createElement("a",{href:i,rel:"noopener noreferrer",target:"_blank",onClick:function onClick(){e.trackClick(o,n)}},a.a.createElement(A.a,{inline:!0,fit:!0,justify:"spaceBetween",align:"center"},a.a.createElement("span",{className:Er.a.text},n),a.a.createElement(Re.a,{name:"chevronRight",className:Er.a.chevron}))),o!==t.length-1&&a.a.createElement("hr",{className:Er.a.hr}))}))):null}}]),QuestionList}();Sr.propTypes={topQuestions:n.a.arrayOf(n.a.shape({text:n.a.string.isRequired,href:n.a.string.isRequired})),lessonId:n.a.string,exerciseId:n.a.string,userClick:n.a.func};var Tr=Sr;function ForumSection_typeof(e){return(ForumSection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ForumSection_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ForumSection_possibleConstructorReturn(e,t){return!t||"object"!==ForumSection_typeof(t)&&"function"!=typeof t?function ForumSection_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ForumSection_getPrototypeOf(e){return(ForumSection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ForumSection_setPrototypeOf(e,t){return(ForumSection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Nr=function(e){function ForumSection(){return function ForumSection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ForumSection),ForumSection_possibleConstructorReturn(this,ForumSection_getPrototypeOf(ForumSection).apply(this,arguments))}return function ForumSection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ForumSection_setPrototypeOf(e,t)}(ForumSection,i["Component"]),function ForumSection_createClass(e,t,r){return t&&ForumSection_defineProperties(e.prototype,t),r&&ForumSection_defineProperties(e,r),e}(ForumSection,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props,t=e.currentExerciseForumData,r=e.readExerciseForumData,o=e.lessonId,n=e.exerciseId;e.forumFaqsEnabled&&Or()(t)&&r(o,n)}},{key:"render",value:function render(){var e=this.props,t=e.className,r=e.currentExerciseForumData,o=r.forumTopicId,n=r.topQuestions,i=e.lessonId,s=e.exerciseId,c=e.userClick;return a.a.createElement("div",{className:t},a.a.createElement(Tr,{topQuestions:n,lessonId:i,exerciseId:s,userClick:c}),a.a.createElement(kr,{forumTopicId:o,lessonId:i,exerciseId:s,userClick:c}))}}]),ForumSection}();Nr.propTypes={className:n.a.string,lessonId:n.a.string,exerciseId:n.a.string,readExerciseForumData:n.a.func,currentExerciseForumData:n.a.object,forumFaqsEnabled:n.a.bool,userClick:n.a.func};var Rr=Nr,jr={readExerciseForumData:_r.a,userClick:bt.f},xr=Object(L.connect)(function mapStateToProps(e){var t=Object(lr.h)(e),r=Object(lr.j)(e),o=Object(lr.o)(e);return{lessonId:t.id,exerciseId:r.id,currentExerciseForumData:Object(br.a)(e,t.id,r.id),forumFaqsEnabled:[vr.c,vr.d].includes(o)}},jr)(Rr);function Narrative_typeof(e){return(Narrative_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Narrative_extends(){return(Narrative_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function Narrative_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Narrative_possibleConstructorReturn(e,t){return!t||"object"!==Narrative_typeof(t)&&"function"!=typeof t?function Narrative_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Narrative_getPrototypeOf(e){return(Narrative_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Narrative_setPrototypeOf(e,t){return(Narrative_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ir={meaningfulContentLoaded:bt.d},Fr=function(e){function Narrative(){return function Narrative_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Narrative),Narrative_possibleConstructorReturn(this,Narrative_getPrototypeOf(Narrative).apply(this,arguments))}return function Narrative_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Narrative_setPrototypeOf(e,t)}(Narrative,i["Component"]),function Narrative_createClass(e,t,r){return t&&Narrative_defineProperties(e.prototype,t),r&&Narrative_defineProperties(e,r),e}(Narrative,[{key:"componentDidMount",value:function componentDidMount(){this.props.meaningfulContentLoaded()}},{key:"render",value:function render(){var e,t,r=this.props,o=r.presenter,n=r.checkpoints,i=r.currentCheckpointIndex,s=r.checkpointRunning,c=r.checkpointFailed,l=r.checkpointPassive;!o.instructions||n&&0!==n.length||(e=a.a.createElement(tr,{className:pr.a.body,text:this.props.presenter.instructions})),n&&n.length>0&&(t=n.map(function(e,t){var r=t>i,o="default";return t<i&&(o="satisfied"),t===i&&(c&&(o="unsatisfied"),s&&(o="pending")),a.a.createElement(cr,Narrative_extends({key:e.id,index:t+1,disabled:r,status:o,passive:l},e))}));var u=[{heading:a.a.createElement(dr,{className:"learn-header",iconName:"learn"},M.learning_environment.components.narrative.learn),content:a.a.createElement("div",{className:pr.a.body},a.a.createElement("div",{className:pr.a.bodyParentHeading},this.props.presenter.contentParentTitle),a.a.createElement("h1",{className:pr.a.bodyHeading},this.props.presenter.contentItemTitle),a.a.createElement(tr,{text:this.props.presenter.content})),key:"learn"}];return(e||t)&&(u=_toConsumableArray(u).concat([{heading:a.a.createElement(dr,{iconName:"instructions"},M.learning_environment.components.narrative.instructions),content:a.a.createElement("div",null,t,e),key:"instructions"},{heading:a.a.createElement(dr,{iconName:"comments"},M.learning_environment.components.narrative.forums),content:a.a.createElement(xr,{className:pr.a.body}),key:"forum"}])),a.a.createElement(gr,{content:u})}}]),Narrative}();Fr.propTypes={presenter:n.a.object,checkpoints:n.a.array,currentCheckpointIndex:n.a.number,checkpointRunning:n.a.bool,checkpointFailed:n.a.bool,checkpointPassive:n.a.bool,meaningfulContentLoaded:n.a.func};var Lr=Object(L.connect)(function mapStateToProps(e){return{checkpoints:Object(lr.j)(e).checkpoints,currentCheckpointIndex:Object(B.j)(e),checkpointRunning:Object(B.h)(e),checkpointFailed:Object(B.d)(e),checkpointPassive:Object(B.g)(e)}},Ir)(Fr),Mr=r("5BBx"),Br=r("8/Hw"),Wr=r("jdWZ"),Dr=r("PhsW"),Ar=r.n(Dr);function ButtonGroup_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Hr={contentIds:n.a.object,hasNoProgress:n.a.bool,onStart:n.a.func,project:n.a.shape({slug:n.a.string,projectInformation:n.a.shape({download_path:n.a.string}),title:n.a.string})},qr=function ButtonGroupComponent(e){var t=e.contentIds,r=e.project,o=e.hasNoProgress,n=e.onStart,i=r.slug,s=r.title,c=r.projectInformation.download_path,l=function onStartWithTracking(e){c&&Object(Wr.b)("user","email_trigger",function ButtonGroup_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){ButtonGroup_defineProperty(e,t,r[t])})}return e}({content_item_name:s,content_item_id:i},e)),o&&n()};return a.a.createElement("div",{className:Ar.a.group},c&&a.a.createElement(Br.a,{data:{content_ids:t,target:"ipp_start_download"},href:c,onClick:function onClick(){return l({type:"ipp_start_download"})}},a.a.createElement(D.a,{theme:"yellow","data-testid":"download-btn"},"Download")),o&&a.a.createElement(Br.a,{data:{content_ids:t,target:"ipp_start_platform"},disableTracking:!c,onClick:function onClick(){return l({type:"ipp_start_platform"})}},a.a.createElement(D.a,{onClick:n,theme:"yellow","data-testid":"start-btn"},"Start")))};qr.propTypes=Hr;var zr=Object(L.connect)(function mapStateToProps(e){return{contentIds:Object(lr.e)(e)}})(qr),Ur=r("wX+j"),Gr=r("DLIK"),Qr=r.n(Gr);function TaskCheckBox_typeof(e){return(TaskCheckBox_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TaskCheckBox_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function TaskCheckBox_possibleConstructorReturn(e,t){return!t||"object"!==TaskCheckBox_typeof(t)&&"function"!=typeof t?function TaskCheckBox_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function TaskCheckBox_getPrototypeOf(e){return(TaskCheckBox_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TaskCheckBox_setPrototypeOf(e,t){return(TaskCheckBox_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Vr=function(e){function TaskCheckBox(){return function TaskCheckBox_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskCheckBox),TaskCheckBox_possibleConstructorReturn(this,TaskCheckBox_getPrototypeOf(TaskCheckBox).apply(this,arguments))}return function TaskCheckBox_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TaskCheckBox_setPrototypeOf(e,t)}(TaskCheckBox,a.a.PureComponent),function TaskCheckBox_createClass(e,t,r){return t&&TaskCheckBox_defineProperties(e.prototype,t),r&&TaskCheckBox_defineProperties(e,r),e}(TaskCheckBox,[{key:"componentDidMount",value:function componentDidMount(){this.props.broadcast("taskItemMounted")}},{key:"render",value:function render(){var e=O()({"fcn-task__check":!0,"fcn-task__check--checked":this.props.checked,[Qr.a.centeredCheckbox]:!0});return a.a.createElement("div",{"data-cue":"discovery-checklist",className:e},this.props.checked&&a.a.createElement(v.a,{name:"check"}))}}]),TaskCheckBox}();Vr.propTypes={checked:n.a.bool.isRequired,broadcast:n.a.func.isRequired};var Kr=Vr;function TaskItem_typeof(e){return(TaskItem_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TaskItem_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function TaskItem_possibleConstructorReturn(e,t){return!t||"object"!==TaskItem_typeof(t)&&"function"!=typeof t?function TaskItem_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function TaskItem_getPrototypeOf(e){return(TaskItem_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TaskItem_setPrototypeOf(e,t){return(TaskItem_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Zr=function(e){function TaskItem(){var e,t;!function TaskItem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskItem);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=TaskItem_possibleConstructorReturn(this,(e=TaskItem_getPrototypeOf(TaskItem)).call.apply(e,[this].concat(o)))).handleClick=function(){t.props.setTask(!t.props.done)},t}return function TaskItem_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TaskItem_setPrototypeOf(e,t)}(TaskItem,i["PureComponent"]),function TaskItem_createClass(e,t,r){return t&&TaskItem_defineProperties(e.prototype,t),r&&TaskItem_defineProperties(e,r),e}(TaskItem,[{key:"render",value:function render(){var e=O()({"fit-full":!0,"fcn-task":!0,"fcn-task--complete":this.props.done});return a.a.createElement("article",{className:e},a.a.createElement(A.a,{className:Qr.a.body,onClick:this.handleClick},a.a.createElement(Ur.a,null,a.a.createElement(Kr,{broadcast:this.props.broadcast,checked:this.props.done})),a.a.createElement(Ur.a,{className:Qr.a.item},a.a.createElement("span",{className:"fcn-task__number","data-testid":"task-".concat(this.props.number)},this.props.number,".")),a.a.createElement(tr,{text:this.props.text,className:Qr.a.narrativeMarkdown})),this.props.hint?a.a.createElement(ar,{hint:this.props.hint}):null)}}]),TaskItem}();Zr.propTypes={done:n.a.bool.isRequired,text:n.a.string.isRequired,number:n.a.number.isRequired,setTask:n.a.func.isRequired,broadcast:n.a.func.isRequired,hint:n.a.string};var Yr=Zr;function TaskListHeader_typeof(e){return(TaskListHeader_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TaskListHeader_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function TaskListHeader_possibleConstructorReturn(e,t){return!t||"object"!==TaskListHeader_typeof(t)&&"function"!=typeof t?function TaskListHeader_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function TaskListHeader_getPrototypeOf(e){return(TaskListHeader_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TaskListHeader_setPrototypeOf(e,t){return(TaskListHeader_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Jr=function(e){function TaskListHeader(){return function TaskListHeader_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskListHeader),TaskListHeader_possibleConstructorReturn(this,TaskListHeader_getPrototypeOf(TaskListHeader).apply(this,arguments))}return function TaskListHeader_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TaskListHeader_setPrototypeOf(e,t)}(TaskListHeader,a.a.PureComponent),function TaskListHeader_createClass(e,t,r){return t&&TaskListHeader_defineProperties(e.prototype,t),r&&TaskListHeader_defineProperties(e,r),e}(TaskListHeader,[{key:"render",value:function render(){return a.a.createElement("h3",{className:"fit-full fcn-task-header"},this.props.heading)}}]),TaskListHeader}();Jr.propTypes={heading:n.a.string.isRequired,broadcast:n.a.func.isRequired};var Xr=Jr;function TaskList_typeof(e){return(TaskList_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TaskList_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function TaskList_possibleConstructorReturn(e,t){return!t||"object"!==TaskList_typeof(t)&&"function"!=typeof t?function TaskList_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function TaskList_getPrototypeOf(e){return(TaskList_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TaskList_setPrototypeOf(e,t){return(TaskList_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var $r=function(e){function TaskList(){var e,t;!function TaskList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskList);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=TaskList_possibleConstructorReturn(this,(e=TaskList_getPrototypeOf(TaskList)).call.apply(e,[this].concat(o)))).makeTaskItems=function(e,r,o){var n=[];return e.forEach(function(e,i){n.push(a.a.createElement(Yr,{text:e.text,number:i+1+r,key:"task-".concat(e.task_key),hint:e.hint,done:e.done,broadcast:t.props.broadcast,setTask:function setTask(e){t.props.setTask(o,i,e)}}))}),a.a.createElement("div",null,n)},t}return function TaskList_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TaskList_setPrototypeOf(e,t)}(TaskList,a.a.Component),function TaskList_createClass(e,t,r){return t&&TaskList_defineProperties(e.prototype,t),r&&TaskList_defineProperties(e,r),e}(TaskList,[{key:"render",value:function render(){var e=this,t=[],r=0;return this.props.tasks.forEach(function(o,n){o.heading&&o.heading.length>0&&t.push(a.a.createElement(Xr,{key:"task-heading-".concat(o.heading),heading:o.heading})),t.push(e.makeTaskItems(o.tasks,r,n)),r+=o.tasks.length}),a.a.createElement("div",{className:"fcn-tasks"},a.a.createElement("span",{className:"fcn-tasks__help"},"Mark the tasks as complete by checking them off"),t)}}]),TaskList}();$r.propTypes={broadcast:n.a.func.isRequired,tasks:n.a.array.isRequired,setTask:n.a.func.isRequired};var eo=$r,to=r("eCi3");function Brief_typeof(e){return(Brief_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Brief_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Brief_possibleConstructorReturn(e,t){return!t||"object"!==Brief_typeof(t)&&"function"!=typeof t?function Brief_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Brief_getPrototypeOf(e){return(Brief_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Brief_setPrototypeOf(e,t){return(Brief_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ro={meaningfulContentLoaded:bt.d},oo=function(e){function Brief(){var e,t;!function Brief_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Brief);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=Brief_possibleConstructorReturn(this,(e=Brief_getPrototypeOf(Brief)).call.apply(e,[this].concat(o)))).setTask=function(e,r,o){var n=t.props.modifiers.assessments[e].tasks[r];Mr.a.checkAssessment(n.task_key,o)},t.onStart=function(){t.props.broadcast("start")},t}return function Brief_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Brief_setPrototypeOf(e,t)}(Brief,i["Component"]),function Brief_createClass(e,t,r){return t&&Brief_defineProperties(e.prototype,t),r&&Brief_defineProperties(e,r),e}(Brief,[{key:"componentDidMount",value:function componentDidMount(){this.props.meaningfulContentLoaded()}},{key:"render",value:function render(){var e=this.props.presenter,t=[{heading:a.a.createElement(dr,{className:"learn-header",iconName:"objective"},M.learning_environment.components.brief.objective),content:a.a.createElement("div",{className:pr.a.body},a.a.createElement("div",{className:pr.a.bodyParentHeading},this.props.presenter.contentParentTitle),a.a.createElement("h1",{className:pr.a.bodyHeading},this.props.presenter.contentItemTitle),a.a.createElement(tr,{text:e.project.projectInformation.objective}),a.a.createElement(zr,{hasNoProgress:e.progress.status<1,onStart:this.onStart,project:e.project})),key:"objective"}];if(e.progress.status){var r=this.props.modifiers.assessments.map(function(e){return e.tasks}).reduce(function(e,t){return e.concat(t)},[]);t.push({heading:a.a.createElement(dr,{className:"fcn-task-section__header",iconName:"instructions"},M.learning_environment.components.brief.tasks,a.a.createElement(to.a,{total:r.length,complete:r.filter(function(e){return e.done}).length})),content:a.a.createElement(eo,{tasks:this.props.modifiers.assessments,setTask:this.setTask,broadcast:this.props.broadcast}),key:"selfAssessments"})}return a.a.createElement(gr,{content:t})}}]),Brief}();oo.propTypes={broadcast:n.a.func.isRequired,user:n.a.object.isRequired,modifiers:n.a.object.isRequired,presenter:n.a.object.isRequired,meaningfulContentLoaded:n.a.func};var no=Object(L.connect)(null,ro)(oo),io=r("gLAU"),ao=r.n(io),so=r("sEfC"),co=r.n(so),lo=r("Q92V"),uo=r.n(lo);r("UzKb");uo.a.brokenBold=!0,uo.a.prototype.asText=function(){return this.lines.map(function(e){return e.map(function(e){return e[1]}).join("")}).join("")},uo.a.prototype.asOutputsByCommands=function(){var e={},t="";return this.lines.forEach(function(r){var o=r.map(function(e){return e[1]}).join("");"$"===o[0]?e[t=o]||(e[t]=[]):t&&e[t].push(o)}),e};var po=uo.a,fo=r("EC2Z"),ho=r("4YJZ");function trypoller_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var mo=function(){function TryPoller(e){!function trypoller_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TryPoller),this.func=e}return function trypoller_createClass(e,t,r){return t&&trypoller_defineProperties(e.prototype,t),r&&trypoller_defineProperties(e,r),e}(TryPoller,[{key:"tryForEvery",value:function tryForEvery(e,t){var r=this,o=0,n=setInterval(function(){try{r.func()}catch(r){return void((o+=t)>=e&&clearInterval(n))}clearInterval(n)},t)}}]),TryPoller}(),yo=r("Nd0X"),go=F()({displayName:"RealTerminal",mixins:[s.StateMixin.connect(fo.a,"hasFocus")],propTypes:{id:n.a.string.isRequired,index:n.a.number,modifiers:n.a.object.isRequired,broadcast:n.a.func.isRequired,onFocus:n.a.func,onBlur:n.a.func,session:n.a.object,onFgProcChange:n.a.func.isRequired,hasCheckWork:n.a.bool},componentDidMount:function componentDidMount(){var e=this;(this.resize=co()(this.resize,100),l.a.state.workspaceReady)?new mo(function(){if(void 0===e.refs.terminal)throw new Error("Terminal ref is not available yet");e.setupTerm()}).tryForEvery(5e3,250):this.unsubSetWorkspace=f.a.setWorkspace.completed.listen(this.setupTerm)},componentDidUpdate:function componentDidUpdate(e){e.session!==this.props.session&&this.bindStream()},componentWillUnmount:function componentWillUnmount(){this.unsubSetWorkspace&&this.unsubSetWorkspace()},setupTerm:function setupTerm(){if(!this.state.term){var e=this.getRowsCols();if(e.cols<0||e.rows<0||e.cols===1/0||e.rows===1/0)throw new Error("Invalid number of rows & cols: ".concat(e.rows,", ").concat(e.cols));var t=new po({cols:e.cols,rows:e.rows,cursorBlink:!1,useFocus:!1});this.setState({term:t});var r=te.a.findDOMNode(this.refs.terminal);t.open(r),t.on("keydown",this.onKeydown),this.bindStream()}},resize:function resize(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getRowsCols();t.cols<=0||t.rows<=0||this.state.term&&this.props.session.stream.resize(t.cols,t.rows,function(){e.state.term&&(e.state.term.resize(t.cols,t.rows),e.state.term.refresh(0,t.rows-1))})},text:function text(){return this.state.term.asText()},outputsByCommands:function outputsByCommands(){return this.state.term.asOutputsByCommands()},getRowsCols:function getRowsCols(){var e=te.a.findDOMNode(this.refs.terminal);if(!e)throw new Error("terminal DOM element not found");var t,r=e.offsetWidth,o=e.offsetHeight;if(0===r||0===o)return{rows:1,cols:1};fo.a.state.fontSize?t=fo.a.state.fontSize:(t=function getSize(e){var t=document.createElement("div"),r="NOBODYEXPECTSTHESPANISHINQUISITION";t.appendChild(document.createTextNode(r)),t.style.position="absolute",t.style.visibility="hidden",e.appendChild(t);var o={width:t.offsetWidth/r.length,height:t.offsetHeight};return e.removeChild(t),o}(e),ho.a.setFontSize(t));var n=Math.floor((r-20)/t.width),i=Math.floor((o-20)/t.height);return(n<1||n===1/0)&&(n=1),(i<1||i===1/0)&&(i=1),{rows:i,cols:n}},onEnter:function onEnter(){var e=this;this.props.session.stream.getFgProcName(function(t,r){if(t);else{var o=r.Content;e.props.onFgProcChange(o)}}),this.props.hasCheckWork||yo.a.run()},onKeydown:function onKeydown(e){po.focus&&13===e.keyCode&&this.onEnter()},focus:function focus(){this.state.term&&(this.state.term.focus(),this.props.onFocus&&this.props.onFocus())},blur:function blur(){this.state.term.blur(),te.a.findDOMNode(this.refs.terminal).blur(),this.props.onBlur&&this.props.onBlur()},bindStream:function bindStream(){var e=this;if(void 0!==this.props.session.stream){var t=this.props.session.stream,r=this.state.term,o=!0,n=!1,i=void 0;try{for(var a,s=this.props.session.writes[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value;this.state.term.write(c)}}catch(e){n=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw i}}delete this.props.session.stream._events.data,t.on("data",this.handleStreamData),delete this.props.session.stream._events.end,t.on("end",function(){r.destroy(),e.state.term=null,ho.a.closeSession(e.props.id)}),r.on("data",function(e){t.write(e)}),this.state.hasFocus&&this.focus()}},handleStreamData:function handleStreamData(e){if(!this.state.term)throw new Error("Received stream data when term is not defined");this.state.term.write(e),this.props.session.writes.push(e),this.resize&&this.resize(this.getRowsCols())},render:function render(){return a.a.createElement("div",{className:"fcn-real-container"},a.a.createElement("div",{className:"real-terminal",role:"button",tabIndex:"0",ref:"terminal",onClick:this.focus,onBlur:this.props.onBlur}))}}),bo=(r("oJ6+"),r("EVdn")),_o=r.n(bo);function FakeTerminal_typeof(e){return(FakeTerminal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FakeTerminal_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function FakeTerminal_getPrototypeOf(e){return(FakeTerminal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FakeTerminal_setPrototypeOf(e,t){return(FakeTerminal_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function FakeTerminal_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var vo={stdout:"jqconsole-stdout",stderr:"jqconsole-stderr"},Co={shortcuts:{},matchings:{"{}":"brace","[]":"bracket","()":"paren"},continueLabel:".. ",promptLabel:"$ ",header:"",multilineCallback:function DEFAULT_MULTILINE_CALLBACK(e,t){t(!1)},evaluator:_o.a.noop},Oo=function(e){function FakeTerminal(e){var t;!function FakeTerminal_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FakeTerminal),(t=function FakeTerminal_possibleConstructorReturn(e,t){return!t||"object"!==FakeTerminal_typeof(t)&&"function"!=typeof t?FakeTerminal_assertThisInitialized(e):t}(this,FakeTerminal_getPrototypeOf(FakeTerminal).call(this,e))).startPrompt=function(e){e.Prompt(!0,t.handleInput)},t.handleInput=function(e){var r=t.props.presenter.fake_responses;if(Or()(r))t.props.broadcast("input",e,t.handleResult);else{var o=r.find(function(t){return new RegExp(t.match_pattern).test(e)});if(o){var n={type:o.output_type,output:o.output_content,delay:o.delay};o.output_content?t.handleFakeResponse(e,n):t.props.broadcast("input",e,t.handleResult)}else/^ *$/.test(e)?t.handleResult(e,"",1):(t.handleResult(e,"command not recognized",1),t.props.broadcast("result"))}return FakeTerminal_assertThisInitialized(FakeTerminal_assertThisInitialized(t))},t.handleResult=function(e,r,o){r&&t.println(r,"stdout"),t.recordHistoryItem(e,r,o),t.startPrompt(t.state.console),t.props.broadcast("result")},t.handleFakeResponse=function(e,r,o){t.recordHistoryItem(e,r.output,o),t.printFakeResultOutput(r)},t.printFakeResultOutput=function(e){var r=e.delay||0;setTimeout(function(){t.println(e.output,e.type),t.startPrompt(t.state.console),t.props.broadcast("result")},r)},t.recordHistoryItem=function(e,r,o){var n={input:e,output:r,exitCode:o};t.state.history.push(n),t.setState({history:t.state.history}),ao()(yo.a.run)},t.focus=function(){t.state.console.Focus()},t.println=function(e,r){"\n"!==e[e.length-1]&&(e+="\n"),t.print(e,r)},t.print=function(e,r){void 0===r&&(r="stdout"),t.state.console.Write(e,vo[r])};var r=e.history||[];return t.state={history:r},t}return function FakeTerminal_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FakeTerminal_setPrototypeOf(e,t)}(FakeTerminal,a.a.Component),function FakeTerminal_createClass(e,t,r){return t&&FakeTerminal_defineProperties(e.prototype,t),r&&FakeTerminal_defineProperties(e,r),e}(FakeTerminal,[{key:"componentDidMount",value:function componentDidMount(){if(!this.props.modifiers.readonly){var e=te.a.findDOMNode(this.refs.terminal),t=Co,r=_o()(e).jqconsole(t.header,t.promptLabel,t.continueLabel);r.SetHistory(this.state.history.map(function(e){return e.input})),this.setState({console:r}),this.startPrompt(r)}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.state.console.$input_source.off()}},{key:"render",value:function render(){return a.a.createElement("div",{className:"fcn-fake-container","data-readonly":this.props.modifiers.readonly},a.a.createElement("div",{id:"terminalComponent",className:"jqconsole jqconsole-cursor--blink",ref:"terminal"},this.props.modifiers.readonly?a.a.createElement("div",{className:"jqconsole"},a.a.createElement("div",{className:"jqconsole-stdout"}," Terminal disabled ")):null))}}]),FakeTerminal}();Oo.propTypes={presenter:n.a.object.isRequired,modifiers:n.a.object.isRequired,broadcast:n.a.func.isRequired,ptyStream:n.a.object,history:n.a.array};var Po=Oo,ko={didRunOneOf:function didRunOneOf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=!0,n=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value;if(this.didRunCommand(c,t,r))return!0}}catch(e){n=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw i}}return!1},didRunCommand:function didRunCommand(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.state.fake)return this.state.history.some(function(o){var n=!t||o.exitCode===t,i=!0;return"string"==typeof r&&(i=o.output.search(r)>=0),e instanceof RegExp?e.test(o.input)&&n&&i:o.input===e&&n&&i});if(r){var o=this.realTerminalOutputsByCommands();return Object.keys(o).some(function(t){return t.search(e)>=0&&o[t].some(function(e){return e.search(r)>=0})})}return this.realTerminalText().search(e)>=0},ranWithExitCode:function ranWithExitCode(e,t){return this.didRunCommand(e,t)},ranOneOfWithExitCode:function ranOneOfWithExitCode(e,t){return this.didRunOneOf(e,t)},ranWithOutput:function ranWithOutput(e,t){return this.didRunCommand(e,null,t)},ranOneOfWithOutput:function ranOneOfWithOutput(e,t){return this.didRunOneOf(e,null,t)},ranWithExitCodeAndOutput:function ranWithExitCodeAndOutput(e,t,r){return this.didRunCommand(e,t,r)},ranOneOfWithExitCodeAndOutput:function ranOneOfWithExitCodeAndOutput(e,t,r){return this.didRunOneOf(e,t,r)}},wo=F()({displayName:"Terminal",mixins:[ko],propTypes:{index:n.a.number,presenter:n.a.object.isRequired,modifiers:n.a.object.isRequired,session:n.a.object.isRequired,broadcast:n.a.func.isRequired,isActive:n.a.bool,onFocus:n.a.func,onBlur:n.a.func,terminalId:n.a.oneOfType([n.a.string,n.a.number]),stream:n.a.object,hasCheckWork:n.a.bool,onFgProcChange:n.a.func},getDefaultProps:function getDefaultProps(){return{isActive:!1}},getInitialState:function getInitialState(){return{fake:!Or()(this.props.presenter.fake_responses),history:[]}},realTerminalText:function realTerminalText(){if(this.refs.RealTerminal)return this.refs.RealTerminal.text()},realTerminalOutputsByCommands:function realTerminalOutputsByCommands(){if(this.refs.RealTerminal)return this.refs.RealTerminal.outputsByCommands()},resize:function resize(e){this.refs.RealTerminal&&this.refs.RealTerminal.resize(e)},onFgProcChange:function onFgProcChange(e){this.props.onFgProcChange(this.props.terminalId,e)},getTerminalChild:function getTerminalChild(){return this.refs.RealTerminal||this.refs.FakeTerminal},getInitialShell:function getInitialShell(){return this.props.presenter.shell||"bash"},focus:function focus(){var e=this.getTerminalChild();e&&e.focus(),this.props.onFocus&&this.props.onFocus()},blur:function blur(){var e=this.getTerminalChild();e&&e.blur(),this.props.onBlur&&this.props.onBlur()},render:function render(){var e,t=O()({"fcn-terminal":!0,"fcn-terminal--active":this.props.isActive});return e=l.a.state.workspaceReady?this.state.fake?a.a.createElement(Po,{ref:"FakeTerminal",history:this.state.history,modifiers:this.props.modifiers,presenter:this.props.presenter,broadcast:this.props.broadcast}):a.a.createElement(go,{ref:"RealTerminal",index:this.props.index,id:this.props.terminalId,initialShell:this.getInitialShell(),isActive:this.props.isActive,session:this.props.session,onFgProcChange:this.onFgProcChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,modifiers:this.props.modifiers,broadcast:this.props.broadcast,hasCheckWork:this.props.hasCheckWork}):null,a.a.createElement("div",{className:t},e)}}),Eo=r("z4aL"),So=r.n(Eo),To=F()({displayName:"TerminalContainer",mixins:[h.a.listenTo(m.a.resized,"onResize"),h.a.listenTo(f.a.restore.completed,"resetTerminals"),s.StateMixin.connect(l.a,["workspaceReady","workspaceStatusType"]),s.StateMixin.connect(fo.a,["sessions","busy","currentSession","hasCreatedSessionBefore","hasFocus"])],propTypes:{presenter:n.a.object.isRequired,modifiers:n.a.object.isRequired,helpers:n.a.object.isRequired,broadcast:n.a.func.isRequired,onReady:n.a.func.isRequired},componentDidMount:function componentDidMount(){this.state.workspaceReady&&this.createInitialTerminal(),yo.a.saveTerminalReference(this)},createInitialTerminal:function createInitialTerminal(){var e=this;0===this.state.sessions.length&&ho.a.createSession("bash").then(function(){e.props.onReady&&e.props.onReady()})},componentDidUpdate:function componentDidUpdate(e,t){var r=this;t.currentSession!==this.state.currentSession&&this.state.hasFocus&&this.getActiveTerminal()&&ao()(function(){r.getActiveTerminal().focus()}),t.workspaceReady&&!this.state.workspaceReady&&ho.a.closeAllSessions(),!t.workspaceReady&&this.state.workspaceReady&&this.createInitialTerminal()},getActiveTerminal:function getActiveTerminal(){var e=fo.a.currentSession();return e?this.refs[e.id]:null},getAllTerminals:function getAllTerminals(){var e=this;return this.state.sessions.map(function(t){return e.refs[t.id]})},onResize:function onResize(){var e=this.getAllTerminals();if(e&&e.length){var t=this.getActiveTerminal();if(t&&!t.state.fake&&t.refs.RealTerminal){var r=t.refs.RealTerminal.getRowsCols(),o=!0,n=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){a.value.resize(r)}}catch(e){n=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw i}}}}},resetTerminals:function resetTerminals(){this.replaceState(Object.assign({},this.getInitialState(),{workspaceReady:this.state.workspaceReady})),this.createInitialTerminal()},setActiveTerminal:function setActiveTerminal(e){this.setState({activeTerminal:e})},onTerminalFgProcChange:function onTerminalFgProcChange(){},renderTerminal:function renderTerminal(e,t){return a.a.createElement(wo,{key:t.id,ref:t.id,index:e,session:t,terminalId:t.id,onFgProcChange:this.onTerminalFgProcChange,modifiers:this.props.modifiers,presenter:this.props.presenter,broadcast:this.props.broadcast,onFocus:ho.a.focus,onBlur:ho.a.blur,isActive:e===this.state.currentSession,hasCheckWork:this.props.presenter.hasCheckWork})},renderEmptyTab:function renderEmptyTab(){return a.a.createElement(k,{isActive:!0,locked:!0,size:300,canClose:!1,clickHandler:function clickHandler(){},closeHandler:function closeHandler(){},key:"terminalTab-empty"})},renderTerminalTab:function renderTerminalTab(e,t){return a.a.createElement(k,{key:"terminalTab".concat(t.id),tabId:t.id,title:t.title,clickHandler:function clickHandler(){ho.a.selectSession(e)},canClose:!0,closeHandler:function closeHandler(){ho.a.closeSession(t.id)},isActive:this.state.currentSession===e,stream:t.stream})},createNewTerminal:function createNewTerminal(){ho.a.createSession("bash")},render:function render(){var e,t=this.props.presenter,r=t.hasCheckWork,o=t.displayErrors,n=t.whitelist,i=[],s=[];if(showShimmerUI(this.state))i.push(this.renderEmptyTab()),s=a.a.createElement("div",{className:So.a.terminalContainerSkeleton},a.a.createElement(TextSkeleton,null));else if(this.state.sessions&&this.state.sessions.length>0)for(var c=0;c<this.state.sessions.length;c+=1){var l=this.state.sessions[c];i.push(this.renderTerminalTab(c,l)),s.push(this.renderTerminal(c,l))}else s=a.a.createElement("div",{className:"fcn-terminal-container__placeholder"},a.a.createElement("div",{className:"fcn-terminal-container__placeholder__body"},a.a.createElement("div",{className:"fcn-terminal-container__placeholder__icon fcn-icon fcn-icon-terminal"}),a.a.createElement("span",{className:"fcn-terminal-container__placeholder__text"},"Terminal"),this.state.hasCreatedSessionBefore&&!this.state.busy?a.a.createElement("span",{className:"fcn-terminal-container__placeholder__text"},a.a.createElement(D.a,{theme:"lantern",style:{marginTop:20},outline:!0,onClick:function onClick(){ho.a.createSession("bash")}},"New session")):null));e=n?a.a.createElement(k,{className:"fcn-control",key:"terminalTabNew",clickHandler:this.createNewTerminal,isDisabled:!0,overflow:"false"},a.a.createElement(v.a,{name:"plus"})):this.state.busy?a.a.createElement("div",{style:{width:48},className:"fcn-control"},a.a.createElement("div",{className:"fcn-spinner"})):a.a.createElement(k,{className:"fcn-control",key:"terminalTabNew",clickHandler:this.createNewTerminal,isDisabled:!fo.a.canCreateSession(),overflow:"false"},a.a.createElement(v.a,{name:"plus"}));var u=a.a.createElement("div",{className:"fcn-component-header fcn-component-header--tabs"},a.a.createElement(g,null,e,a.a.createElement("div",{className:"fcn-tabs-container__inner"},i),a.a.createElement(k,{className:"fcn-control",key:"terminalTabFullscreen",clickHandler:this.props.helpers.toggleFullscreen,overflow:"false",align:"right"},a.a.createElement(v.a,{name:"fullscreen"})))),p=a.a.createElement("div",{className:"fcn-component-footer"},a.a.createElement(g,null,a.a.createElement(D.a,{square:!0,theme:"lantern",onClick:this.props.presenter.evaluateExercise,block:!0},"project"===this.props.presenter.contentItemType?M.learning_environment.components.terminal.refresh_browser:M.learning_environment.components.terminal.run_checkpoints))),f=O()({"fcn-terminal-container":!0,"fcn-terminal-container--with-header":!0});return a.a.createElement("div",{className:f},u,s,o&&a.a.createElement(Be,{onVisibilityToggle:this.onResize}),r?p:null)}}),No=r("zqxM"),Ro=r.n(No);function TerminalIcon(){return a.a.createElement("svg",{width:"312px",height:"72px",viewBox:"0 0 312 72",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("svg",{width:"312px",height:"72px",viewBox:"0 0 80 72",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.a.createElement("g",{id:"Icon---Command-Line",fill:"url(#pattern-terminal)"},a.a.createElement("g",{id:"Icon-Command-Line"},a.a.createElement("path",{d:"M0,2 C-1.3527075e-16,0.8954305 0.8954305,2.02906125e-16 2,0 L78,0 C79.1045695,-2.02906125e-16 80,0.8954305 80,2 L80,70 C80,71.1045695 79.1045695,72 78,72 L2,72 C0.8954305,72 1.3527075e-16,71.1045695 0,70 L0,2 Z M8.54092559,13.3657645 L15.1700002,20.4367775 L8.6353635,26.5357717 L11.3646365,29.4599928 L20.8299998,20.6256537 L11.4590744,10.63 L8.54092559,13.3657645 Z M21,25 L21,29 L33,29 L33,25 L21,25 Z",id:"Shape-Command-Line"}))))),a.a.createElement("defs",null,a.a.createElement("linearGradient",{id:"gradient-terminal",x1:"0%",y1:"0%",x2:"100%",y2:"0"},a.a.createElement("stop",{offset:"0%",style:{stopColor:"#BDBDBD",stopOpacity:"0.7"}}),a.a.createElement("stop",{offset:"40%",style:{stopColor:"#BDBDBD",stopOpacity:"0.7"}}),a.a.createElement("stop",{offset:"47%",style:{stopColor:"#ffffff",stopOpacity:"0.7"}}),a.a.createElement("stop",{offset:"53%",style:{stopColor:"#ffffff",stopOpacity:"0.7"}}),a.a.createElement("stop",{offset:"60%",style:{stopColor:"#BDBDBD",stopOpacity:"0.7"}}),a.a.createElement("stop",{offset:"100%",style:{stopColor:"#BDBDBD",stopOpacity:"0.7"}})),a.a.createElement("pattern",{id:"pattern-terminal",x:"0",y:"0",width:"300%",height:"100%",patternUnits:"userSpaceOnUse"},a.a.createElement("rect",{className:S.a.shimmerGradient,x:"0",y:"0",width:"300%",height:"100%",fill:"url(#gradient-terminal)"}))))}var jo=r("qGa5"),xo=r("EZBs"),Io={stdout:"jqconsole-stdout",stderr:"jqconsole-stderr"},Fo=F()({displayName:"OutputTerminal",mixins:[s.StateMixin.connect(jo.a,["output","awaitingInput"]),s.StateMixin.connect(l.a,["workspaceStatusType","workspaceReady"])],componentDidMount:function componentDidMount(){var e=te.a.findDOMNode(this.refs.terminal);this.jqc=_o()(e).jqconsole("","","")},componentDidUpdate:function componentDidUpdate(e,t){var r=this,o=this.state.output,n=void 0===o?[]:o;n!==t.output&&n.length&&Ro()(n,t.output).forEach(function(e){r.jqc.Write(e.text,Io[e.type])}),0===n.length&&this.jqc.Reset(),!t.awaitingInput&&this.state.awaitingInput&&this.jqc.Prompt(!0,this.handleInput)},componentWillUnmount:function componentWillUnmount(){this.jqc.$input_source.off()},handleInput:function handleInput(e){xo.a.input(e)},renderTerminal:function renderTerminal(){var e=O()({"fcn-terminal":!0,"fcn-terminal--active":!0,jqconsole:!0,"jqconsole-cursor--blink":this.state.awaitingInput});return a.a.createElement("div",{style:{height:"100%"}},a.a.createElement("div",{className:"fcn-terminal-container"},a.a.createElement("div",{ref:"terminal",className:e})))},renderPlaceholder:function renderPlaceholder(){return a.a.createElement("div",{style:{height:"100%"}},a.a.createElement("div",{className:"fcn-terminal-container"},a.a.createElement("div",{ref:"terminal"}),a.a.createElement("div",{className:So.a.outputTerminalContainerSkeleton},a.a.createElement("div",{className:So.a.outputTerminalContainerSkeletonBody},a.a.createElement(TerminalIcon,null)))))},render:function render(){return showShimmerUI(this.state)?this.renderPlaceholder():this.renderTerminal()}}),Lo=r("ILMH"),Mo=r("J5+O"),Bo=r.n(Mo);function PlaceHolder_typeof(e){return(PlaceHolder_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PlaceHolder_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function PlaceHolder_possibleConstructorReturn(e,t){return!t||"object"!==PlaceHolder_typeof(t)&&"function"!=typeof t?function PlaceHolder_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function PlaceHolder_getPrototypeOf(e){return(PlaceHolder_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PlaceHolder_setPrototypeOf(e,t){return(PlaceHolder_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Wo=function(e){function PlaceHolder(){return function PlaceHolder_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PlaceHolder),PlaceHolder_possibleConstructorReturn(this,PlaceHolder_getPrototypeOf(PlaceHolder).apply(this,arguments))}return function PlaceHolder_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PlaceHolder_setPrototypeOf(e,t)}(PlaceHolder,i["Component"]),function PlaceHolder_createClass(e,t,r){return t&&PlaceHolder_defineProperties(e.prototype,t),r&&PlaceHolder_defineProperties(e,r),e}(PlaceHolder,[{key:"render",value:function render(){var e=this.props.theme,t=O()({[Bo.a.placeholder]:!0,[Bo.a.themeDark]:"dark"===e});return a.a.createElement(A.a,{grow:1,center:!0,column:!0,className:t},a.a.createElement(v.a,{name:this.props.icon,size:3}),a.a.createElement("div",{className:Bo.a.componentName},this.props.componentName),this.props.actionCallBack?a.a.createElement(D.a,{disabled:!this.props.actionButtonEnabled,theme:"lantern",style:{marginTop:20},outline:!0,onClick:this.props.actionCallBack},this.props.action):null)}}]),PlaceHolder}();Wo.propTypes={action:n.a.string,actionCallBack:n.a.func,icon:n.a.string,componentName:n.a.string,actionButtonEnabled:n.a.bool,theme:n.a.string},Wo.defaultProps={theme:"light"};var Do=Wo,Ao=r("KTF3"),Ho=r.n(Ao);function RemoteWebBrowser_typeof(e){return(RemoteWebBrowser_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RemoteWebBrowser_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function RemoteWebBrowser_possibleConstructorReturn(e,t){return!t||"object"!==RemoteWebBrowser_typeof(t)&&"function"!=typeof t?function RemoteWebBrowser_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function RemoteWebBrowser_getPrototypeOf(e){return(RemoteWebBrowser_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RemoteWebBrowser_setPrototypeOf(e,t){return(RemoteWebBrowser_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var qo=function(e){function RemoteWebBrowser(){var e,t;!function RemoteWebBrowser_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RemoteWebBrowser);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=RemoteWebBrowser_possibleConstructorReturn(this,(e=RemoteWebBrowser_getPrototypeOf(RemoteWebBrowser)).call.apply(e,[this].concat(o)))).iframeRef=a.a.createRef(),t.handleIframeMessage=function(e){var t=e.data;t.location&&Yt.a.push(t.location),Yt.a.receiveMessage(t)},t.handleSendIframeMessage=function(e){t.getIframe().contentWindow.postMessage(e,"*")},t.handleIframeLoad=function(){Lo.a.state.onLoadCallback()},t.getIframe=function(){return t.iframeRef.current},t}return function RemoteWebBrowser_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RemoteWebBrowser_setPrototypeOf(e,t)}(RemoteWebBrowser,i["Component"]),function RemoteWebBrowser_createClass(e,t,r){return t&&RemoteWebBrowser_defineProperties(e.prototype,t),r&&RemoteWebBrowser_defineProperties(e,r),e}(RemoteWebBrowser,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("message",this.handleIframeMessage,!1),this.removeMessageListener=Yt.a.sendMessage.listen(this.handleSendIframeMessage)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("message",this.handleIframeMessage),this.removeMessageListener()}},{key:"render",value:function render(){var e=this.props,t=e.nonce,r=e.src,o={pointerEvents:this.props.modifiers.dragging?"none":"auto"};return a.a.createElement("iframe",{title:"Codecademy Web Browser",ref:this.iframeRef,style:{iFrameStyles:o},onLoad:this.handleIframeLoad,key:t,allowFullScreen:!0,className:Ho.a.frame,allow:"geolocation; microphone; camera",src:r})}}]),RemoteWebBrowser}();qo.propTypes={src:n.a.string.isRequired,nonce:n.a.number.isRequired,modifiers:n.a.object.isRequired,broadcast:n.a.func.isRequired};var zo=qo;function WebBrowserIcon(){return a.a.createElement("svg",{width:"312px",height:"96px",viewBox:"0 0 312 72",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("svg",{width:"312px",height:"72px",viewBox:"0 0 80 72",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.a.createElement("g",{id:"Icon---Browser",fill:"url(#pattern-browser)"},a.a.createElement("g",{id:"Icon-Browser"},a.a.createElement("path",{d:"M2,0 L78,0 C79.1045695,-2.02906125e-16 80,0.8954305 80,2 L80,70 C80,71.1045695 79.1045695,72 78,72 L2,72 C0.8954305,72 1.3527075e-16,71.1045695 0,70 L0,2 C-1.3527075e-16,0.8954305 0.8954305,2.02906125e-16 2,0 Z M6,7 C7.1045695,7 8,6.1045695 8,5 C8,3.8954305 7.1045695,3 6,3 C4.8954305,3 4,3.8954305 4,5 C4,6.1045695 4.8954305,7 6,7 Z M14,7 C15.1045695,7 16,6.1045695 16,5 C16,3.8954305 15.1045695,3 14,3 C12.8954305,3 12,3.8954305 12,5 C12,6.1045695 12.8954305,7 14,7 Z M22,7 C23.1045695,7 24,6.1045695 24,5 C24,3.8954305 23.1045695,3 22,3 C20.8954305,3 20,3.8954305 20,5 C20,6.1045695 20.8954305,7 22,7 Z",id:"Shape-Browser"}))))),a.a.createElement("defs",null,a.a.createElement("linearGradient",{id:"gradient-browser",x1:"0%",y1:"0%",x2:"100%",y2:"0"},a.a.createElement("stop",{offset:"0%",style:{stopColor:"#BDBDBD",stopOpacity:"0.7"}}),a.a.createElement("stop",{offset:"40%",style:{stopColor:"#BDBDBD",stopOpacity:"0.7"}}),a.a.createElement("stop",{offset:"47%",style:{stopColor:"#ffffff",stopOpacity:"0.7"}}),a.a.createElement("stop",{offset:"53%",style:{stopColor:"#ffffff",stopOpacity:"0.7"}}),a.a.createElement("stop",{offset:"60%",style:{stopColor:"#BDBDBD",stopOpacity:"0.7"}}),a.a.createElement("stop",{offset:"100%",style:{stopColor:"#BDBDBD",stopOpacity:"0.7"}})),a.a.createElement("pattern",{id:"pattern-browser",x:"0",y:"0",width:"300%",height:"100%",patternUnits:"userSpaceOnUse"},a.a.createElement("rect",{className:S.a.shimmerGradient,x:"0",y:"0",width:"300%",height:"100%",fill:"url(#gradient-browser)"}))))}var Uo,Go=F()({displayName:"WebBrowser",mixins:[s.StateMixin.connect(Lo.a),s.StateMixin.connect(l.a,["workspaceReady","workspaceStatusType"])],propTypes:{presenter:n.a.object.isRequired,modifiers:n.a.object.isRequired,broadcast:n.a.func.isRequired,helpers:n.a.shape({toggleFullscreen:n.a.func})},getInitialState:function getInitialState(){return{urlBarValue:""}},setUrlBar:function setUrlBar(e){this.urlBar=e},setBrowser:function setBrowser(e){this.browser=e},getBrowser:function getBrowser(){return this.browser},onURLBarKeyDown:function onURLBarKeyDown(e){13===e.keyCode&&Yt.a.load(this.state.urlBarValue)},onURLBarChange:function onURLBarChange(e){this.setState({urlBarValue:e.target.value})},onUrlFieldBlur:function onUrlFieldBlur(){this.setState({urlBarFocused:!1})},onUrlFieldFocus:function onUrlFieldFocus(){this.setState({urlBarFocused:!0})},componentDidUpdate:function componentDidUpdate(e,t){!t.workspaceReady&&this.state.workspaceReady&&this.home()},componentWillUpdate:function componentWillUpdate(e,t){!this.state.urlBarFocused&&t.location&&this.urlBar&&(this.urlBar.value=t.location.displayUrl)},home:function home(){void 0!==this.props.presenter.display_url&&Yt.a.load(this.props.presenter.display_url)},isBlank:function isBlank(){var e=this.state.location;return!(void 0===e?{}:e).internalUrl||!l.a.state.workspaceObject},renderBody:function renderBody(){return this.isBlank()?a.a.createElement(Do,{theme:"dark",componentName:"Web Browser",icon:"explore"}):a.a.createElement(zo,{src:this.state.location.internalUrl.toString(),modifiers:this.props.modifiers,broadcast:this.props.broadcast,nonce:this.state.nonce,ref:this.setBrowser})},renderBrowser:function renderBrowser(){var e=this.props.presenter.displayErrors,t=O()({[Ho.a.urlBar]:!0,[Ho.a.urlError]:e});return a.a.createElement(A.a,{grow:1,column:!0},a.a.createElement(A.a,{className:Ho.a.browserChrome},a.a.createElement(me.a,{name:"arrow-thin-left",onClick:Yt.a.navigateBack}),a.a.createElement(me.a,{name:"refresh",onClick:Yt.a.refresh}),a.a.createElement(A.a,{center:!0,grow:1,className:Ho.a.urlBarContainer},a.a.createElement("input",{type:"text",className:t,ref:this.setUrlBar,placeholder:"Type URL here",onKeyDown:this.onURLBarKeyDown,onFocus:this.onUrlFieldFocus,onBlur:this.onUrlFieldBlur,onChange:this.onURLBarChange}),this.state.loading?a.a.createElement("div",{className:"fcn-spinner fcn-spinner--grey"}):null),a.a.createElement(me.a,{name:"fullscreen",onClick:this.props.helpers.toggleFullscreen})),a.a.createElement(A.a,{grow:1,className:Ho.a.browserBody,column:!0},this.renderBody()),e&&a.a.createElement(Be,{pinnedBottom:!0}))},renderPlaceholder:function renderPlaceholder(){return a.a.createElement("div",{className:Ho.a.browserSkeleton},a.a.createElement(WebBrowserIcon,null))},render:function render(){return showShimmerUI(this.state)?this.renderPlaceholder():this.renderBrowser()}}),Qo=r("MQDS"),Vo=r("vvtD"),Ko=r("ih+G"),Zo=r("lrkr"),Yo=r.n(Zo);function SQLPreview_typeof(e){return(SQLPreview_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SQLPreview_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function SQLPreview_possibleConstructorReturn(e,t){return!t||"object"!==SQLPreview_typeof(t)&&"function"!=typeof t?function SQLPreview_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SQLPreview_getPrototypeOf(e){return(SQLPreview_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SQLPreview_setPrototypeOf(e,t){return(SQLPreview_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Jo={ReadOnlyCodeEditor:x,PersistentCodeEditor:At,Image:Ht,Video:Qt,Narrative:Lr,Terminal:To,OutputTerminal:Fo,WebBrowser:Go,Brief:no,SQLPreview:Object(s.connect)(Qo.a,["result","schema","error"])(Uo=function(e){function SQLPreview(){return function SQLPreview_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SQLPreview),SQLPreview_possibleConstructorReturn(this,SQLPreview_getPrototypeOf(SQLPreview).apply(this,arguments))}return function SQLPreview_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SQLPreview_setPrototypeOf(e,t)}(SQLPreview,a.a.Component),function SQLPreview_createClass(e,t,r){return t&&SQLPreview_defineProperties(e.prototype,t),r&&SQLPreview_defineProperties(e,r),e}(SQLPreview,[{key:"render",value:function render(){return a.a.createElement("div",{className:Yo.a.container},a.a.createElement(Vo.a,{result:this.props.result}),a.a.createElement(Ko.a,{schema:this.props.schema}),a.a.createElement(Be,{pinnedBottom:!0,componentOnly:!0,componentError:this.props.error,timestamp:(new Date).valueOf()}))}}]),SQLPreview}())||Uo};t.a=Jo},iF0z:function(e,t,r){e.exports={hint:"hint__s8UXcPBvebZWKmIHL1iLP",hintOpen:"hintOpen__RsbfmDvRC3hFZypEL9yov",hintHeader:"hintHeader__37FqgQufkkRJl73jUwOXHm",hintHeaderText:"hintHeaderText__1MR48kqXc3rdYpE7fM4M5D",hintHeaderIcon:"hintHeaderIcon__k_lfRqarRLBa153LHYWc9",toggleArrow:"toggleArrow__2D6AroyBnTfjYy2VEhFome",toggleArrowOpen:"toggleArrowOpen__3jSBRFD3ww6Khp-ePDK9ck",hintBody:"hintBody__Xlfb7YxNNyRdyb2SB9sb1"}},jAtM:function(e,t,r){e.exports={container:"container__mBmY_HGg9nkRdfRRY1mCH",leftPane:"leftPane__QbQRR6XJS70r4Pdh-PeRw",rightPane:"rightPane__1H1a3oPWy_fU_m3bjWCBqZ"}},jOg1:function(e,t,r){e.exports={container:"container__2nBQblEbxtWABsG-PzJCJY",headerMsg:"headerMsg__3plWc8vdIt096bVGraVToV",mainMsg:"mainMsg__2xzTH40Y3NuPjCRDA-zrpa",maintButton:"maintButton__1ioHX4Aq9TLq2vD5RxHz8v",iconContainer:"iconContainer__3Yg7iqG5sp8sfgjsnifN3p",icon:"icon__1fpFg6Yg6qKMUy9gCFo_L0"}},"l+xW":function(e,t,r){e.exports={workspaceNaming:"workspaceNaming__2I0Q8d5DxwILB1x1as10cs",saveWorkspaceButton:"saveWorkspaceButton__3AYM6_tV-23zn7ZgRvSBlV",slugRadioButtons:"slugRadioButtons__2WrEtaNE8XBP3aDIuF8w_1",customWorkspaceName:"customWorkspaceName__3n_BDKKkjCPcbxRLJBtD0T"}},lrkr:function(e,t,r){e.exports={container:"container__3wUN5-PZUtu6fwxBb2MHR-",containerWrapper:"containerWrapper__2hYD7baIQK3Y3blM1jnfz9"}},mEin:function(e,t,r){e.exports={fileTree:"fileTree__1hc6DSAQWmgXtZ20mMsLN0"}},oskw:function(e,t,r){e.exports={disabled:"disabled__3YHxyqc3FBOLKpALSQ8kQA",footer:"footer__2U7JCwWxuXWkT-dpDR3Kyt"}},p02k:function(e,t,r){e.exports={container:"container__2CLpe5UbNqAMNdpk76MVcc",narrativePane:"narrativePane__1UCZ6phlpQHMG0GlErFAzI",dynamicLayout:"dynamicLayout__87LtBY0KqfgEbCibkiydZ"}},rFUm:function(e,t,r){"use strict";var o=r("hhPA"),n=r.n(o),i=r("BzM2"),a=r("/HwS"),s=r("OAZI"),c=r("zSSe");t.a=n.a.createStore({mixins:[i.StateMixin.store,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.a.get("_id"),r="PersistLocalStore-".concat(e,"-").concat(t);return{init:function init(){this.getDefaultState?e||s.a.error({message:"PersistLocal mixin requires a string key to be passed in."}):s.a.error({message:"PersistLocal mixin requires method: getDefaultState"})},getInitialState:function getInitialState(){var e=this.getPersistedState();return e||this.getDefaultState()},getPersistedState:function getPersistedState(){try{var t=localStorage.getItem(r);if(t)return JSON.parse(t)}catch(t){s.a.error({message:"Cannot get persisted state for ".concat(e)})}return null},preEmit:function preEmit(t){try{localStorage.setItem(r,JSON.stringify(t))}catch(t){s.a.error({message:"Cannot set persisted state for ".concat(e)})}}}}("adminStore")],getDefaultState:function getDefaultState(){return{uploadSavepoints:!1,nolock:!1,authoringMode:!1,toggleWorkspaceNaming:!1}},init:function init(){this.listenTo(a.a.adminChange,this.onAdminChange),this.listenTo(a.a.toggleAuthoringMode,this.toggleAuthoringMode),this.listenTo(a.a.toggleNoLock,this.toggleNoLock)},onAdminChange:function onAdminChange(e,t){var r=JSON.parse(JSON.stringify(this.state));r[e]=t,this.setState(r)},toggleAuthoringMode:function toggleAuthoringMode(){this.setState({authoringMode:!this.state.authoringMode})},toggleNoLock:function toggleNoLock(){this.setState({nolock:!this.state.nolock})}})},sCXD:function(e,t,r){e.exports={commitButton:"commitButton__2M2YqMWhMQxbVNejtzFreK",timeForm:"timeForm__19k9IT74RbzIn7GN6J7-mm",timeInputBox:"timeInputBox__9c3ZBZQ02pUzzN9yCBNL5",minutesLabel:"minutesLabel__2eG7IU6_d5anAVUsoAIrb2"}},"sl/k":function(e,t,r){"use strict";var o=r("q1tI"),n=r.n(o),i=r("17x9"),a=r.n(i),s=r("fhzG"),c=r.n(s),l=r("C8W1"),u=r("TSYQ"),p=r.n(u),f=r("tn6B"),d=r.n(f),h={url:a.a.string.isRequired,courseTitle:a.a.string};function CoursePageButton_CoursePageButton(e){var t=e.courseTitle,r=e.url,o=p()(d.a.leftArrowIcon,"new-cc-icon","icon-heavyleftarrow");return n.a.createElement("div",{className:d.a.courseNavButtonContainer},t&&r?n.a.createElement("a",{href:r,className:d.a.courseNavButton},n.a.createElement("span",{className:o}),t):null)}CoursePageButton_CoursePageButton.propTypes=h;var m=CoursePageButton_CoursePageButton,y=r("nGyu"),g=r("8bxK"),b=r.n(g),_={authors:a.a.array};function Authors_Authors(e){var t=e.authors,r=void 0===t?[]:t;return r.length>0?n.a.createElement("div",{className:b.a.lessonAuthors},n.a.createElement("span",null,"By "),r.map(function(e,t){return n.a.createElement("span",{key:e},n.a.createElement("a",{className:b.a.lessonAuthorLink,target:"_blank",href:"/".concat(e),rel:"noopener noreferrer"},e),t<r.length-1?", ":"")})):null}Authors_Authors.propTypes=_;var v=Authors_Authors,C=r("/MKj"),O=r("CBRV"),P=r("woPg"),k=r.n(P);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function isCompleted(e,t){var r=e.progress,o=r.completed,n=r.exercises_completed>=t+1;return o||n}function isInProgressExercise(e,t){return e.progress.exercises_completed===t}var w=function(e){function Exercises(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Exercises),_possibleConstructorReturn(this,_getPrototypeOf(Exercises).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Exercises,o["Component"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Exercises,[{key:"render",value:function render(){var e=this,t=this.props.currentExercise;return n.a.createElement("section",{className:k.a.exerciseSection},n.a.createElement("div",{className:k.a.groupHeading},"Exercises"),this.props.exercises.map(function(r,o){var i=isCompleted(e.props,o),a=t.id===r.id,s=isInProgressExercise(e.props,o),c=function isLockedExercise(e,t){return!e.unlockAll&&!isInProgressExercise(e,t)&&!isCompleted(e,t)}(e.props,o),l=p()(k.a.navButton,{[k.a.completedListItem]:i||e.props.unlockAll,[k.a.activeListItem]:a,[k.a.lockedListItem]:c}),u=p()(k.a.navButtonIcon,"fcn-icon",{"fcn-icon-checkmark":i||e.props.unlockAll,"fcn-icon-inProgress":s&&!e.props.unlockAll,"fcn-icon-lock":c});return n.a.createElement("button",{onClick:function onClick(){c||(e.props.navigate({exerciseIndex:o}),e.props.onRequestClose())},className:l,key:"".concat(e.props.currentLesson.id,"-").concat(r.id)},n.a.createElement("div",{className:k.a.listItemTitle},"".concat(o+1,".")," ",r.title),n.a.createElement("i",{className:u}))}))}}]),Exercises}();w.propTypes={dispatch:a.a.func,navigate:a.a.func,progress:a.a.object,currentLesson:a.a.object,exercises:a.a.array,currentExercise:a.a.object,unlockAll:a.a.bool,onRequestClose:a.a.func,locationQuery:a.a.object};var E=Object(C.connect)(function mapStateToProps(e){return{locationQuery:Object(O.g)(e)}})(w),S=r("55fy"),T=r.n(S),N={navigate:a.a.func,currentLesson:a.a.object,exercises:a.a.array,authors:a.a.array,progress:a.a.object,currentExercise:a.a.object,onRequestClose:a.a.func,exerciseIndex:a.a.string,unlockAll:a.a.bool};function Lesson(e){var t=e.authors,r=e.currentLesson,o=e.exercises,i=e.progress,a=e.currentExercise,s=e.onRequestClose,c=e.unlockAll,l=e.navigate;return n.a.createElement("div",null,n.a.createElement("h1",{className:T.a.heading},r.title),n.a.createElement("h3",{className:T.a.subheading},"LESSON"),n.a.createElement(v,{authors:t}),n.a.createElement(y.a,{className:T.a.description,text:r.description}),n.a.createElement(E,{navigate:l,currentLesson:r,exercises:o,progress:i,currentExercise:a,onRequestClose:s,unlockAll:c}))}Lesson.propTypes=N;var R=Lesson,j={project:a.a.object};function Project(e){var t=e.project;return n.a.createElement("div",null,n.a.createElement("h1",{className:T.a.heading},t.title),n.a.createElement("h3",{className:T.a.subheading},"PROJECT"),n.a.createElement(y.a,{className:T.a.description,text:t.description}))}Project.propTypes=j;var x=Project,I=r("SXFS"),F=r.n(I);function CourseNavigator_typeof(e){return(CourseNavigator_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CourseNavigator_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function CourseNavigator_possibleConstructorReturn(e,t){return!t||"object"!==CourseNavigator_typeof(t)&&"function"!=typeof t?function CourseNavigator_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function CourseNavigator_getPrototypeOf(e){return(CourseNavigator_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CourseNavigator_setPrototypeOf(e,t){return(CourseNavigator_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var L=300,M=function(e){function CourseNavigator(){var e,t;!function CourseNavigator_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CourseNavigator);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=CourseNavigator_possibleConstructorReturn(this,(e=CourseNavigator_getPrototypeOf(CourseNavigator)).call.apply(e,[this].concat(o)))).state={isClosing:!1},t.handleRequestClose=function(){t.setState({isClosing:!0}),setTimeout(function(){t.setState({isClosing:!1}),t.props.onRequestClose()},L)},t}return function CourseNavigator_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CourseNavigator_setPrototypeOf(e,t)}(CourseNavigator,o["Component"]),function CourseNavigator_createClass(e,t,r){return t&&CourseNavigator_defineProperties(e.prototype,t),r&&CourseNavigator_defineProperties(e,r),e}(CourseNavigator,[{key:"renderNavigationContent",value:function renderNavigationContent(){switch(this.props.currentType){case"lesson":return n.a.createElement(R,{navigate:this.props.navigate,currentLesson:this.props.currentLesson,authors:this.props.authors,progress:this.props.contentItemProgresses[this.props.currentLesson.id],exercises:this.props.exercises,currentExercise:this.props.currentExercise,onRequestClose:this.props.onRequestClose,params:this.props.params,unlockAll:this.props.unlockAll});case"project":return n.a.createElement(x,{project:this.props.project});default:return null}}},{key:"render",value:function render(){return n.a.createElement(l.a,{zIndex:13,isOpen:this.props.isOpen,onRequestClose:this.handleRequestClose},n.a.createElement("div",{className:"".concat(F.a.modal," ").concat(this.state.isClosing?F.a.modalIsClosing:"")},n.a.createElement("div",{className:F.a.modalContent},n.a.createElement(m,{url:this.props.titleRoute,courseTitle:this.props.entityTitle}),this.renderNavigationContent())))}}]),CourseNavigator}();M.propTypes={navigate:a.a.func,onOutsideClick:a.a.func,isOpen:a.a.bool,titleRoute:a.a.string,authors:a.a.array,contentItemProgresses:a.a.object,currentLesson:a.a.object,exercises:a.a.array,currentExercise:a.a.object,params:a.a.object,unlockAll:a.a.bool,currentType:a.a.string,projectSlug:a.a.string,onRequestClose:a.a.func.isRequired,modalIsClosing:a.a.func.isRequired,project:a.a.object,entityTitle:a.a.string};var B=M,W=r("yOVb"),D=r("TP7S"),A=r.n(D),H=r("6vz9"),q=r.n(H),z=r("6WOP"),U=r.n(z);function NavMenuButton_typeof(e){return(NavMenuButton_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r,o,n=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function NavMenuButton_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function NavMenuButton_possibleConstructorReturn(e,t){return!t||"object"!==NavMenuButton_typeof(t)&&"function"!=typeof t?function NavMenuButton_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function NavMenuButton_getPrototypeOf(e){return(NavMenuButton_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NavMenuButton_setPrototypeOf(e,t){return(NavMenuButton_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var G=function(e){function NavMenuButton(){var e,t;!function NavMenuButton_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NavMenuButton);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=NavMenuButton_possibleConstructorReturn(this,(e=NavMenuButton_getPrototypeOf(NavMenuButton)).call.apply(e,[this].concat(o)))).state={active:t.props.active,close:t.props.active},t.active=function(e){t.setState({active:A()(e)?t.props.active:e})},t.close=function(e){t.setState({close:A()(e)?t.props.active:e})},t.handleClick=function(e){e.preventDefault(),t.props.onClick&&t.props.onClick(e)},t}return function NavMenuButton_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NavMenuButton_setPrototypeOf(e,t)}(NavMenuButton,n.a.Component),function NavMenuButton_createClass(e,t,r){return t&&NavMenuButton_defineProperties(e.prototype,t),r&&NavMenuButton_defineProperties(e,r),e}(NavMenuButton,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){e.active&&!this.props.active?(this.active(e.active),q()(this.close,150)):e.active!==this.props.active&&(this.close(e.active),q()(this.active,150))}},{key:"render",value:function render(){var e=this.props,t=(e.onClick,_objectWithoutProperties(e,["onClick"])),r=p()({[U.a.button]:!0,[U.a.active]:this.state.active,[U.a.close]:this.state.close});return n.a.createElement("button",_extends({type:"button"},t,{onClick:this.handleClick,className:r}),n.a.createElement("span",{className:U.a.burger}),n.a.createElement("span",{"data-cue":"course-navigator",className:U.a.exerciseTitle},this.props.title))}}]),NavMenuButton}();G.propTypes={active:a.a.bool,onClick:a.a.func,title:a.a.string},G.defaultProps={active:!1};var Q=G,V=r("oskw"),K=r.n(V);function Footer_extends(){return(Footer_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}r.d(t,"a",function(){return Z}),r.d(t,"b",function(){return W.a});var Z=c()({displayName:"Footer",propTypes:{currentType:a.a.oneOf(["lesson","project","quiz"]),currentLesson:a.a.object,currentExercise:a.a.object,exercises:a.a.array,params:a.a.object,isOpen:a.a.bool,titleRoute:a.a.string,onOutsideClick:a.a.func,projectSlug:a.a.string,disabled:a.a.bool,contentItemProgresses:a.a.object,className:a.a.string,children:a.a.node,unlockAll:a.a.bool,authors:a.a.array,title:a.a.string,project:a.a.object,navigate:a.a.func,entityTitle:a.a.string},getDefaultProps:function getDefaultProps(){return{disabled:!1}},getInitialState:function getInitialState(){return{showNavigation:!1}},getCourseNavigatorToggle:function getCourseNavigatorToggle(){return n.a.createElement(W.a,{position:"left"},n.a.createElement(W.b,null,n.a.createElement(Q,{title:this.props.title,onClick:this.toggleCourseNavigator,active:this.state.showNavigation})))},getCourseNavigator:function getCourseNavigator(){return n.a.createElement(B,{onRequestClose:this.toggleCourseNavigator,currentType:this.props.currentType,currentLesson:this.props.currentLesson,currentExercise:this.props.currentExercise,exercises:this.props.exercises,params:this.props.params,isOpen:this.state.showNavigation,navigate:this.props.navigate,titleRoute:this.props.titleRoute,contentItemProgresses:this.props.contentItemProgresses,unlockAll:this.props.unlockAll,authors:this.props.authors,project:this.props.project,entityTitle:this.props.entityTitle})},toggleCourseNavigator:function toggleCourseNavigator(){this.setState(function(e){return{showNavigation:!e.showNavigation}})},render:function render(){var e=p()({[K.a.footer]:!0,[K.a.disabled]:this.props.disabled},this.props.className);return n.a.createElement(W.c,Footer_extends({},this.props,{className:e}),this.getCourseNavigatorToggle(),this.props.children,this.getCourseNavigator())}});t.c=Z},tn6B:function(e,t,r){e.exports={courseNavButtonContainer:"courseNavButtonContainer__1_gUv3bTN8HAQQf58MIDeP",courseNavButton:"courseNavButton__2PvUR3d_4qWLyQfxjVCQN3",leftArrowIcon:"leftArrowIcon___-pCF5NI_CCZZ-qpS3uZ1",slideInLeft:"slideInLeft__2vteoc7tYDwK5bMs8xufXI",slideOutLeft:"slideOutLeft__2vn_503qoGWDvwK_zsg3QC"}},"v/K4":function(e,t,r){"use strict";var o=r("gLAU"),n=r.n(o),i=r("zdiy"),a=r.n(i),s=r("mwIZ"),c=r.n(s),l=r("/MKj"),u=r("q1tI"),p=r.n(u),f=r("17x9"),d=r.n(f),h=r("TSYQ"),m=r.n(h),y=r("g5A2");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function Slot(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Slot);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(Slot)).call.apply(e,[this].concat(o)))).componentRef=p.a.createRef(),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Slot,u["PureComponent"]),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Slot,[{key:"componentDidMount",value:function componentDidMount(){this.register()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.register()}},{key:"register",value:function register(){this.props.adapter.registerComponent&&this.props.adapter.registerComponent(this.props.component.name,this.componentRef.current)}},{key:"render",value:function render(){var e=this,t=this.props,r=t.slot,o=t.deferred,n=void 0===o||o,i=r.geometry,a=this.props.modifiers.disabled||this.props.modifiers.collapsed,s={position:"absolute",top:"".concat(100*i.top(),"%"),right:"".concat(100-100*i.right(),"%"),bottom:"".concat(100-100*i.bottom(),"%"),left:"".concat(100*i.left(),"%")},c=m()({"fcn-component":!0,enabled:!a,disabled:a,collapsed:this.props.modifiers.collapsed}),l=m()({"fcn-slot":!0,"fcn-slot--no-top-neighbor":i.soloEdges().top,"fcn-slot--no-right-neighbor":i.soloEdges().right,"fcn-slot--no-bottom-neighbor":i.soloEdges().bottom,"fcn-slot--no-left-neighbor":i.soloEdges().left,collapsed:this.props.modifiers.collapsed,"fcn-slot--collapsed-x":i.withinCollapseThreshold("x"),"fcn-slot--collapsed-y":i.withinCollapseThreshold("y")}),u=p.a.createElement("div",{id:"discovery-resize-".concat(this.props.locations),className:l,style:s,"data-fcn-arrangement":this.props.slot.arrangement.slots},p.a.createElement("div",{className:c},p.a.createElement("div",{className:"overlay"}),p.a.createElement(this.props.component.constructor,{presenter:this.props.component.presenter,user:this.props.user,broadcast:this.props.adapter.createComponentBroadcastFunction(this.props.component.name),modifiers:this.props.modifiers,helpers:this.props.helpers,geometry:this.props.slot.geometry,ref:this.componentRef})),i.withinCollapseThreshold("x")||i.withinCollapseThreshold("y")?p.a.createElement("div",{className:m()({"fcn-slot-snapped-button":!0,["fcn-slot-snapped-button--".concat(this.props.component.name)]:!0}),onClick:function onClick(){e.props.expandSlot(e.props.slot.geometry.id)}},p.a.createElement("div",{className:m()({"fcn-slot-snapped-button__icon":!0,"fcn-icon":!0,["fcn-icon-".concat(this.props.component.icon||"learn")]:!0})})):void 0);return n?p.a.createElement(y.a,null,u):u}}]),Slot}();g.propTypes={adapter:d.a.object,component:d.a.object,modifiers:d.a.object,deferred:d.a.bool,expandSlot:d.a.func,locations:d.a.string,slot:d.a.object,helpers:d.a.object,user:d.a.object},g.defaultProps={deferred:!0};var b=g;function fullscreen_controls_typeof(e){return(fullscreen_controls_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fullscreen_controls_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function fullscreen_controls_possibleConstructorReturn(e,t){return!t||"object"!==fullscreen_controls_typeof(t)&&"function"!=typeof t?function fullscreen_controls_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fullscreen_controls_getPrototypeOf(e){return(fullscreen_controls_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fullscreen_controls_setPrototypeOf(e,t){return(fullscreen_controls_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function FullScreenControls(){return function fullscreen_controls_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FullScreenControls),fullscreen_controls_possibleConstructorReturn(this,fullscreen_controls_getPrototypeOf(FullScreenControls).apply(this,arguments))}return function fullscreen_controls_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fullscreen_controls_setPrototypeOf(e,t)}(FullScreenControls,p.a.Component),function fullscreen_controls_createClass(e,t,r){return t&&fullscreen_controls_defineProperties(e.prototype,t),r&&fullscreen_controls_defineProperties(e,r),e}(FullScreenControls,[{key:"render",value:function render(){var e=this.props.isFullscreen?"minimize":"fullscreen";return p.a.createElement("div",{"data-cue":"discovery-fullscreen",className:"fcn-control fcn-control--right",onClick:this.props.toggleFullscreen},p.a.createElement("span",{className:"fcn-icon fcn-icon-".concat(e)}))}}]),FullScreenControls}();_.propTypes={isFullscreen:d.a.bool,toggleFullscreen:d.a.func};var v=_,C=r("esq3");function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function geometry_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function geometry_defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function geometry_createClass(e,t,r){return t&&geometry_defineProperties(e.prototype,t),r&&geometry_defineProperties(e,r),e}var O=["x","y"],P={right:"x",bottom:"y",left:"x",top:"y"},k={top:"bottom",right:"left",bottom:"top",left:"right"},w=function(){function Range(e,t){geometry_classCallCheck(this,Range),this.min=e,this.max=t,this.length=t-e+1}return geometry_createClass(Range,[{key:"contains",value:function contains(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.buffer||0;return this.min-r<=e&&this.max+r>=e}}]),Range}(),E=function(){function Posn(e,t){geometry_classCallCheck(this,Posn),this.x=e,this.y=t}return geometry_createClass(Posn,[{key:"clone",value:function clone(){return new Posn(this.x,this.y,this.context)}},{key:"gte",value:function gte(e){return this.x>=e.x&&this.y>=e.y}},{key:"lte",value:function lte(e){return this.x<=e.x&&this.y<=e.y}}]),Posn}(),S=function(){function Cell(e,t,r,o){geometry_classCallCheck(this,Cell),this.x=e,this.y=t,this.id=r,this.neighbors={},this.grid=o,this._right={value:e/o.width+1/o.width},this._bottom={value:t/o.height+1/o.height},0===e&&(this._left={value:0}),0===t&&(this._top={value:0})}return geometry_createClass(Cell,[{key:"left",value:function left(){return 0===this.x?0:this.neighbors.left.right()}},{key:"right",value:function right(){return this._right.value}},{key:"top",value:function top(){return 0===this.y?0:this.neighbors.top.bottom()}},{key:"bottom",value:function bottom(){return this._bottom.value}},{key:"soloEdges",value:function soloEdges(){return{top:void 0===this.neighbors.top,right:void 0===this.neighbors.right,bottom:void 0===this.neighbors.bottom,left:void 0===this.neighbors.left}}},{key:"set",value:function set(e,t){switch(e){case"top":if(0===this.y)throw new Error("Cannot set 'top' on top-most cell");this.neighbors.top._bottom.value=t;break;case"right":if(this.x===this.grid.width-1)throw new Error("Cannot set 'right' on right-most cell");this._right.value=t;break;case"bottom":if(this.y===this.grid.height-1)throw new Error("Cannot set 'bottom' on bottom-most cell");this._bottom.value=t;break;case"left":if(0===this.x)throw new Error("Cannot set 'left' on left-most cell");this.neighbors.left._right.value=t}}}]),Cell}(),T=function(){function Slot(e,t){geometry_classCallCheck(this,Slot),this.id=e,this.grid=t,this.cells={},this.lastEdgeSet={x:void 0,y:void 0}}return geometry_createClass(Slot,[{key:"registerCells",value:function registerCells(e){var t=!0,r=!1,o=void 0;try{for(var n,i=e[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var a=n.value;if(this.cells[a.id]=a,void 0!==a.slot)throw new Error("Can't register slot ".concat(this.id,"; cell ").concat(a.id," already belongs to slot ").concat(a.slot.id,"!"));a.slot=this}}catch(e){r=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw o}}this.calculateEdges(),this.mergePointers(),this.cacheNeighbors()}},{key:"calculateEdges",value:function calculateEdges(){this.edgeCells={top:[],right:[],bottom:[],left:[]},this.edges={top:1,right:0,bottom:0,left:1};for(var e=Object.values(this.cells),t=["top","right","bottom","left"],r=0;r<t.length;r++)for(var o=t[r],n=0;n<e.length;n++){var i=e[n],a=i[o]();0===this.edgeCells[o].length||a===this.edges[o]?(this.edgeCells[o].push(i),this.edges[o]=a):("left"===o||"top"===o)&&a<this.edges[o]?(this.edgeCells[o]=[i],this.edges[o]=a):("right"===o||"bottom"===o)&&a>this.edges[o]&&(this.edgeCells[o]=[i],this.edges[o]=a)}this.edgeExtents={};var s=this.sharedEdges();for(var c in s)if(s[c]){var l=this.edgeCells[c];this.edgeExtents[c]={x:new w(Math.min.apply(Math,_toConsumableArray(l.map(function(e){return e.left()}))),Math.max.apply(Math,_toConsumableArray(l.map(function(e){return e.right()})))),y:new w(Math.min.apply(Math,_toConsumableArray(l.map(function(e){return e.top()}))),Math.max.apply(Math,_toConsumableArray(l.map(function(e){return e.bottom()}))))}}}},{key:"mergePointers",value:function mergePointers(){for(var e in k){var t=k[e],r=this.edgeCells[e][0];if(!r["_".concat(e)]){var o=r.neighbors[e];o&&(r["_".concat(e)]=o["_".concat(t)])}var n=!0,i=!1,a=void 0;try{for(var s,c=this.edgeCells[e][Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;l["_".concat(e)]=r["_".concat(e)];var u=l.neighbors[e];u&&l["_".concat(e)]&&(u["_".concat(t)]=l["_".concat(e)])}}catch(e){i=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}}}},{key:"cacheNeighbors",value:function cacheNeighbors(){for(var e={top:[],right:[],bottom:[],left:[]},t=Object.values(this.cells),r=0;r<t.length;r++){var o=t[r];o.neighbors.top&&o.top()===this.edges.top&&-1===e.top.indexOf(o.neighbors.top.slot)&&e.top.push(o.neighbors.top.slot),o.neighbors.right&&o.right()===this.edges.right&&-1===e.right.indexOf(o.neighbors.right.slot)&&e.right.push(o.neighbors.right.slot),o.neighbors.bottom&&o.bottom()===this.edges.bottom&&-1===e.bottom.indexOf(o.neighbors.bottom.slot)&&e.bottom.push(o.neighbors.bottom.slot),o.neighbors.left&&o.left()===this.edges.left&&-1===e.left.indexOf(o.neighbors.left.slot)&&e.left.push(o.neighbors.left.slot)}this.neighbors=e}},{key:"soloEdges",value:function soloEdges(){return{top:this.edgeCells.top[0].soloEdges().top,right:this.edgeCells.right[0].soloEdges().right,bottom:this.edgeCells.bottom[0].soloEdges().bottom,left:this.edgeCells.left[0].soloEdges().left}}},{key:"sharedEdges",value:function sharedEdges(){return{top:!this.edgeCells.top[0].soloEdges().top,right:!this.edgeCells.right[0].soloEdges().right,bottom:!this.edgeCells.bottom[0].soloEdges().bottom,left:!this.edgeCells.left[0].soloEdges().left}}},{key:"top",value:function top(){return this.edgeCells.top[0].top()}},{key:"right",value:function right(){return this.edgeCells.right[0].right()}},{key:"bottom",value:function bottom(){return this.edgeCells.bottom[0].bottom()}},{key:"origin",value:function origin(){return new E(this.left(),this.top())}},{key:"left",value:function left(){return this.edgeCells.left[0].left()}},{key:"width",value:function width(){return this.right()-this.left()}},{key:"roundedWidth",value:function roundedWidth(){return Math.round(100*this.width())/100}},{key:"height",value:function height(){return this.bottom()-this.top()}},{key:"roundedHeight",value:function roundedHeight(){return Math.round(100*this.height())/100}},{key:"coordExtent",value:function coordExtent(){return{x:new w(this.edgeCells.left[0].x,this.edgeCells.right[0].x),y:new w(this.edgeCells.top[0].y,this.edgeCells.bottom[0].y)}}},{key:"collapsed",value:function collapsed(e){switch(e){case"x":return this.roundedWidth()<=.04;case"y":return this.roundedHeight()<=.06;default:return this.collapsed("x")||this.collapsed("y")}}},{key:"elgibileToSnap",value:function elgibileToSnap(e){switch(e){case"x":var t=this.roundedWidth();return t>.04&&t<=.1;default:var r=this.roundedHeight();return r>.06&&r<=.17}}},{key:"withinCollapseThreshold",value:function withinCollapseThreshold(e){switch(e){case"x":return this.roundedWidth()<=.1;default:return this.roundedHeight()<=.17}}},{key:"slack",value:function slack(e){switch(e){case"x":return this.roundedWidth()-.04;default:return this.roundedHeight()-.06}}},{key:"firstSlotWithSlackInDirection",value:function firstSlotWithSlackInDirection(e){var t=P[e];return this.slack(t)>0?this:0===this.neighbors[e].length?null:this.neighbors[e][0].firstSlotWithSlackInDirection(e)}},{key:"neighborWithSlackInDirection",value:function neighborWithSlackInDirection(e){switch(e){case"top":case"left":return this.firstSlotWithSlackInDirection(e);case"right":case"bottom":return this.neighbors[e][0].firstSlotWithSlackInDirection(e);default:return null}}},{key:"firstDirectionWithSlack",value:function firstDirectionWithSlack(e){var t=!0,r=!1,o=void 0;try{for(var n,i=e[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var a=n.value;if(this.neighborWithSlackInDirection(a))return a}}catch(e){r=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw o}}return null}},{key:"set",value:function set(e,t){var r=this,o=!0,n=!1,i=void 0;try{for(var a,s=this.edgeCells[e][Symbol.iterator]();!(o=(a=s.next()).done);o=!0){a.value.set(e,t)}}catch(e){n=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw i}}var c=P[e];this.lastEdgeSet[c]=e;var l=!0,u=!1,p=void 0;try{for(var f,d=this.neighbors[e][Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var h=f.value;h.lastEdgeSet[c]=k[e],h.redistributeCells();var m=h.neighbors[k[e]].filter(function(e){return e!==r}),y=!0,g=!1,b=void 0;try{for(var _,v=m[Symbol.iterator]();!(y=(_=v.next()).done);y=!0){var C=_.value;C.lastEdgeSet[c]=e,C.redistributeCells()}}catch(e){g=!0,b=e}finally{try{y||null==v.return||v.return()}finally{if(g)throw b}}}}catch(e){u=!0,p=e}finally{try{l||null==d.return||d.return()}finally{if(u)throw p}}this.redistributeCells()}},{key:"push",value:function push(e,t){var r=k[e];if(0===this.neighbors[e].length)return!1;if("top"===e)return this.neighbors.top[0].push(r,-t);if("left"===e)return this.neighbors.left[0].push(r,-t);var o,n=P[e];if(!(o=t>0?this.neighborWithSlackInDirection(e):this.neighborWithSlackInDirection(r)))return!1;var i=t<0;t=Math.min(Math.abs(t),o.slack(n)),i&&(t=-t),this.set(e,this[e]()+t,!0),this.enforceMinimumDimensions(e);var a=this.neighbors[t>0?e:r];if(a){var s=!0,c=!1,l=void 0;try{for(var u,p=a[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){u.value.enforceMinimumDimensions(r)}}catch(e){c=!0,l=e}finally{try{s||null==p.return||p.return()}finally{if(c)throw l}}}return!0}},{key:"redistributeCells",value:function redistributeCells(){for(var e=Object.values(this.cells),t=this.coordExtent(),r=0;r<e.length;r++){var o=e[r];if(t.x.length>1){var n=(o.x+1-t.x.min)/t.x.length;o.neighbors.right&&o.set("right",this.left()+n*this.width())}if(t.y.length>1){var i=(o.y+1-t.y.min)/t.y.length;o.neighbors.bottom&&o.set("bottom",this.top()+i*this.height())}}}},{key:"fullscreen",value:function fullscreen(){var e=!1;for(var t in P)for(;this.push(t,1);)e=!0;return e}},{key:"enforceMinimumDimensions",value:function enforceMinimumDimensions(e){var t=this.width(),r=this.height();switch(e){case"left":t<.04&&(this.neighbors.right.length?this.set("right",this.left()+.04):this.set("left",this.right()-.04));break;case"right":t<.04&&(this.neighbors.left.length?this.set("left",this.right()-.04):this.set("right",this.left()+.04));break;case"top":r<.06&&(this.neighbors.bottom.length?this.set("bottom",this.top()+.06):this.set("top",this.bottom()-.06));break;default:r<.06&&(this.neighbors.top.length?this.set("top",this.bottom()-.06):this.set("bottom",this.top()+.06))}}}]),Slot}(),N=function(){function Grid(e,t){geometry_classCallCheck(this,Grid),this.width=e,this.height=t,this.cells=[],this.slots={};for(var r=0;r<t;r+=1)for(var o=this.cells[r]=[],n=0;n<e;n+=1){var i=new S(n,r,r*e+n,this);o[n]=i}for(var a=0;a<t;a+=1)for(var s=0;s<e;s+=1){var c=this.getCellByCoords(s,a);a>0&&(c.neighbors.top=this.getCellByCoords(s,a-1)),s<e-1&&(c.neighbors.right=this.getCellByCoords(s+1,a)),a<t-1&&(c.neighbors.bottom=this.getCellByCoords(s,a+1)),s>0&&(c.neighbors.left=this.getCellByCoords(s-1,a))}}return geometry_createClass(Grid,[{key:"registerSlot",value:function registerSlot(e){var t=this,r=new T(e,this);this.slots[e]=r;var o=e.split("").map(function(e){return t.getCellById(parseInt(e,10))});r.registerCells(o),this.slotsList=Object.values(this.slots);var n=!0,i=!1,a=void 0;try{for(var s,c=this.slotsList[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){s.value.cacheNeighbors()}}catch(e){i=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}}},{key:"getSlotById",value:function getSlotById(e){return this.slots[e]}},{key:"getCellByCoords",value:function getCellByCoords(e,t){return this.cells[t][e]}},{key:"getCellById",value:function getCellById(e){var t=e%this.width,r=Math.floor(e/this.width);return this.cells[r][t]}},{key:"registerDOMNode",value:function registerDOMNode(e){this.DOMNode=e}},{key:"DOMNodeRect",value:function DOMNodeRect(){return this.DOMNode.getBoundingClientRect()}},{key:"percentageToPx",value:function percentageToPx(e,t){if(0===t)return 0;switch(e){case"x":return this.DOMNodeRect().width*t;default:return this.DOMNodeRect().height*t}}},{key:"pxToPercentage",value:function pxToPercentage(e,t){if(0===t)return 0;switch(e){case"x":return t/this.DOMNodeRect().width;default:return t/this.DOMNodeRect().height}}},{key:"gutterUnderPosn",value:function gutterUnderPosn(e){var t=this.DOMNodeRect(),r=new E(e.x-t.left,e.y-t.top),o=!0,n=!1,i=void 0;try{for(var a,s=this.slotsList[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value;for(var l in c.edgeExtents)switch(l){case"right":var u=this.percentageToPx("x",c[l]()),p=this.percentageToPx("y",c.edgeExtents[l].y.min),f=this.percentageToPx("y",c.edgeExtents[l].y.max);if(Math.abs(r.x-u)<7&&r.y>=p&&r.y<=f)return{edge:l,slot:c};break;case"bottom":var d=this.percentageToPx("y",c[l]()),h=this.percentageToPx("x",c.edgeExtents[l].x.min),m=this.percentageToPx("x",c.edgeExtents[l].x.max);if(Math.abs(r.y-d)<7&&r.x>=h&&r.x<=m)return{edge:l,slot:c}}}}catch(e){n=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw i}}}},{key:"recalculateEdges",value:function recalculateEdges(){var e=!0,t=!1,r=void 0;try{for(var o,n=this.slotsList[Symbol.iterator]();!(e=(o=n.next()).done);e=!0){o.value.calculateEdges()}}catch(e){t=!0,r=e}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}}},{key:"getSlotsWaitingToCollapse",value:function getSlotsWaitingToCollapse(e){return this.slotsList.filter(function(t){return t.elgibileToSnap(e)})}},{key:"expandSlot",value:function expandSlot(e){for(var t=this.getSlotById(e),r=t.origin(),o=t.coordExtent(),n=0;n<O.length;n++){var i=O[n],a=t.lastEdgeSet[i],s=t.firstDirectionWithSlack([a,k[a]]);if(s){var c=void 0;if(t.withinCollapseThreshold(i))switch(i){case"x":c=o[i].length/this.width,t.push(s,c-t.width());break;default:c=o[i].length/this.height,t.push(s,c-t.height())}}}this.snapSlots(r)}},{key:"expandSlotInDirection",value:function expandSlotInDirection(e,t){var r,o=this.getSlotById(e),n=o.neighbors[t];n.length>0&&(r=n[0].slack(P[t]),o.push(t,r))}},{key:"toggleFullscreenSlot",value:function toggleFullscreenSlot(e){if(!this.slots[e].fullscreen()){for(var t=1/this.width,r=1/this.height,o=0;o<this.height;o+=1)for(var n=0;n<this.width;n+=1){var i=this.cells[o][n];i._right.value=(n+1)*t,i._bottom.value=(o+1)*r}return!1}return!0}},{key:"fullscreenSlot",value:function fullscreenSlot(){var e=this.slotsList.filter(function(e){return!(e.withinCollapseThreshold("x")||e.withinCollapseThreshold("y"))});return 1===e.length?e[0]:null}},{key:"snapSlots",value:function snapSlots(e){this.recalculateEdges();for(var t=[],r={},o=["x","y"],n=0;n<o.length;n++){var i=o[n],a=this.getSlotsWaitingToCollapse(i),s=!0,c=!1,l=void 0;try{for(var u,p=a[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var f=u.value,d=void 0,h=-f.slack(i);if(d=r[i]?r[i]:f.origin().lte(e)?{x:"right",y:"bottom"}[i]:{x:"left",y:"top"}[i],(0===f.neighbors[d].length||t.indexOf(f.neighbors[d][0].id)>-1)&&(d=k[d]),0===f.neighbors[d].length||t.indexOf(f.neighbors[d][0].id)>-1)return;r[i]=d,f.push(d,h),t.push(f.id)}}catch(e){c=!0,l=e}finally{try{s||null==p.return||p.return()}finally{if(c)throw l}}}}}]),Grid}(),R=r("08+1"),j={PersistentCodeEditor:"CodeEditor",WebBrowser:"Preview",Terminal:"Terminal",OutputTerminal:"Terminal",Brief:"Narrative",Image:"Visual",Video:"Visual",SQLPreview:"SQLPreview"},x=R.a.extend({initialize:function initialize(){this.arrangements={},this.registerLayouts([{Narrative:"03"},{Narrative:"03",CodeEditor:"1245"},{Narrative:"03",CodeEditor:"14",ReadOnlyCodeEditor:"25"},{Narrative:"03",CodeEditor:"1",ReadOnlyCodeEditor:"2",Preview:"45"},{Narrative:"03",CodeEditor:"1",ReadOnlyCodeEditor:"2",Terminal:"45"},{Narrative:"03",Preview:"1245"},{Narrative:"03",Terminal:"1245"},{Narrative:"03",Visual:"1245"},{Narrative:"03",SQLPreview:"1245"},{Narrative:"03",CodeEditor:"14",Preview:"25"},{Narrative:"03",CodeEditor:"14",Visual:"25"},{Narrative:"03",CodeEditor:"14",Terminal:"25"},{Narrative:"03",CodeEditor:"14",SQLPreview:"25"},{Narrative:"03",CodeEditor:"1",Preview:"25",Terminal:"4"},{Narrative:"03",CodeEditor:"1",Visual:"25",Terminal:"4"},{Narrative:"03",Preview:"14",Visual:"25"},{Narrative:"03",Preview:"25",Terminal:"14"},{Narrative:"03",Terminal:"45",Visual:"12"}])},registerLayouts:function registerLayouts(e){var t=this;e.forEach(function(e){t.registerLayout(e)})},registerLayout:function registerLayout(e){var t=Object.keys(e).sort().join("_"),r={};for(var o in e)r[o]={slots:"".concat(e[o]),cols:this.determineColForSlots(e[o])};this.arrangements[t]=r},determineColForSlots:function determineColForSlots(e){var t="";return/[03]/.test(e+="")&&(t+="1"),/[14]/.test(e)&&(t+="2"),/[25]/.test(e)&&(t+="3"),t},getArrangement:function getArrangement(e){return this.arrangements[this.buildComponentName(e)]},arrangementAmong:function arrangementAmong(e,t){var r=this.getArrangement(t);if(void 0===r)throw new Error("Couldn't find layout for ".concat(this.buildComponentName(t)));return r[j[e.type]]||r[e.type]},buildComponentName:function buildComponentName(e){return Object.keys(e).map(function(e){return j[e]||e}).sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}).join("_")}}),I=r("fhzG"),F=r.n(I),L=r("i8i4"),M=r.n(L),B=null,W=null,D=function save(){if((B=document.activeElement)&&window.getSelection){var e=window.getSelection();W="Range"===e.type?e.getRangeAt(0):null}},A=function restore(){if(B&&(B.focus(),W&&window.getSelection)){var e=window.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(W)}};window.__debug__={};var H=function(e,t){window.__debug__[e]=t},q=r("iJ35"),z=r("JoHf"),U=r("jdWZ"),G=r("+IkO"),Q=r("zfST"),V={componentDidMount:function componentDidMount(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},componentWillUnmount:function componentWillUnmount(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)},onMouseDown:function onMouseDown(e){0===e.button&&this.handleMouseDown&&this.handleMouseDown(e)},onMouseUp:function onMouseUp(e){if(this.handleMouseUp){if(void 0!==e._dispatchIDs)return;this.handleMouseUp(e)}},onMouseMove:function onMouseMove(e){if(this.handleMouseMove){if(void 0!==e._dispatchIDs)return;this.handleMouseMove(e,this.state.didMouseMove),this.state.didMouseMove=!0}}},K={getInitialState:function getInitialState(){return{showDebugWireframe:!1,showDebugCellWireframe:!1}},debugWireframe:function debugWireframe(){var e=["red","green","blue","orange","purple","pink"];return this.state.grid.slotsList.map(function(t,r){return p.a.createElement("div",{key:"slotWireframe".concat(t.id),style:{border:"1px solid ".concat(e[r]),color:e[r],position:"absolute",pointerEvents:"none",top:"".concat(100*t.top(),"%"),left:"".concat(100*t.left(),"%"),bottom:"".concat(100-100*t.bottom(),"%"),right:"".concat(100-100*t.right(),"%"),padding:10}},p.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",marginTop:-10,marginLeft:-10}},t.id))})},debugCellWireframe:function debugCellWireframe(){var e=["red","green","blue","orange","purple","pink"],t=[];return this.state.grid.slotsList.map(function(r,o){t=t.concat(Object.values(r.cells).map(function(t){return p.a.createElement("div",{key:"cellWireframe".concat(t.id),style:{border:"1px solid ".concat(e[o]),color:e[o],position:"absolute",pointerEvents:"none",top:"".concat(100*t.top(),"%"),left:"".concat(100*t.left(),"%"),bottom:"".concat(100-100*t.bottom(),"%"),right:"".concat(100-100*t.right(),"%"),padding:10}},p.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",marginTop:-10,marginLeft:-10}},t.id))}))}),t},renderDebugLayer:function renderDebugLayer(){return this.state.showDebugWireframe?this.debugWireframe():this.state.showDebugCellWireframe?this.debugCellWireframe():void 0}};function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){_defineProperty(e,t,r[t])})}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z={Terminal:"terminal",OutputTerminal:"terminal",PersistentCodeEditor:"editor",ReadOnlyCodeEditor:"editor",Image:"image",Narrative:"learn",WebBrowser:"browser"},Y=F()({displayName:"ComponentGrid",propTypes:{components:d.a.array.isRequired,gridSetup:d.a.func,user:d.a.object,adapter:d.a.object.isRequired,helpers:d.a.object.isRequired,modifiers:d.a.object.isRequired,presenter:d.a.object.isRequired,contentItemType:d.a.string,checkpointErrors:d.a.array,checkpointsRunning:d.a.bool},mixins:[V,K,Q.a],getInitialState:function getInitialState(){for(var e={fullscreenSlot:void 0,config:new x,cursor:"auto",grid:new N(3,2),slotArrangements:{},hasTrackedDragging:!1},t=this.props.components,r=Object.keys(t),o=0;o<r.length;o++){var n=r[o],i=e.config.arrangementAmong(t[n],t);e.grid.registerSlot(i.slots)}return void 0!==this.props.gridSetup&&this.props.gridSetup(e.grid),e},componentDidMount:function componentDidMount(){var e=this;this.state.grid.registerDOMNode(M.a.findDOMNode(this)),H("toggleGridWireframe",function(){e.setState(function(e){return{showDebugWireframe:!e.showDebugWireframe}})}),H("toggleGridCellWireframe",function(){e.setState(function(e){return{showDebugCellWireframe:!e.showDebugCellWireframe}})})},componentWillUpdate:function componentWillUpdate(e,t){t.grid&&(t.fullscreenSlot=t.grid.fullscreenSlot())},componentDidUpdate:function componentDidUpdate(){this.state.resizing&&q.a.resized(),this.state.resizing=!1},hasCheckWork:function hasCheckWork(){var e=this.props,t=e.contentItemType,r=e.components;return!("project"===t&&!Object.keys(r).includes("WebBrowser"))&&(!0===c()(r,"Terminal.prevent_checkpoint_run")&&!0===c()(r,"PersistentCodeEditor.no_run_button"))},evaluateExercise:function evaluateExercise(){if(!this.props.checkpointsRunning)return this.hasCheckWork()?z.a.checkWork():z.a.saveFilesAndCheckWork()},selectComponentForError:function selectComponentForError(){for(var e=this.props.components,t=["PersistentCodeEditor","Terminal","WebBrowser"],r=0;r<t.length;r++){var o=t[r];if(e[o])return o}var n=Object.keys(e).filter(function(e){return"Narrative"!==e});return n.length>0?n[0]:null},buildComponents:function buildComponents(){for(var e=[],t=this.props.components,r=Object.keys(t),o=0;o<r.length;o++){var n=r[o],i=C.a[t[n].type],s=this.state.config.arrangementAmong(t[n],t),c=this.props.helpers.componentShouldBeDisabled(n);this.state.slotArrangements[n]=s.slots;var l=this.toggleFullscreenSlot.bind(this,s.slots),u=p.a.createElement(v,{toggleFullscreen:l,isFullscreen:!!this.state.fullscreenSlot}),f=_objectSpread({},this.props.modifiers,{disabled:c,fullscreen:s.slots===this.state.fullscreenSlot,dragging:this.state.dragging}),d={fullscreenButton:u,evaluateExercise:this.evaluateExercise,hasCheckWork:this.hasCheckWork(),contentItemType:this.props.contentItemType};a()(d,this.props.presenter);var h=this.selectComponentForError();d.displayErrors=h===n,d=a()({},t[n],d);var m={arrangement:s,wall:this.props.presenter.wall,geometry:this.state.grid.slots[s.slots]},y={toggleFullscreen:this.toggleFullscreenSlot.bind(this,s.slots)},g={constructor:i,presenter:d,name:n,icon:Z[n]};e.push(p.a.createElement(b,{deferred:-1===["Brief","Narrative"].indexOf(n),locations:s.slots,component:g,slot:m,modifiers:f,helpers:y,adapter:this.props.adapter,user:this.props.user,expandSlot:this.expandSlot,fullscreenSlot:this.fullscreenSlot,key:"slot:".concat(n)}))}return e},expandSlot:function expandSlot(e){this.state.grid.expandSlot(e),this.setState(function(e){return{grid:e.grid,resizing:!0}})},expandSlotByName:function expandSlotByName(e){var t=this.state.slotArrangements[e];if(!t)throw new Error("No arrangement for ".concat(e));this.state.grid.expandSlot(t),this.setState(function(e){return{grid:e.grid,resizing:!0}})},toggleFullscreenSlot:function toggleFullscreenSlot(e){this.state.grid.toggleFullscreenSlot(e),Object(U.b)("user","click",{target:"platformFullscreen"}),this.setState(function(e){return{grid:e.grid,resizing:!0}})},hasDOMNode:function hasDOMNode(){return Boolean(this.state.grid.DOMNode)},handleMouseMove:function handleMouseMove(e,t){if(this.hasDOMNode()){var r=this.getPosns(e).pagePosn;if(this.state.dragging){if(e.preventDefault(),this.props.adapter.trigger("interface:resizing"),this.state.hasTrackedDragging||(Object(U.b)("user","click",{target:"platformDragHandle"}),this.setState(function(){return{hasTrackedDragging:!0}})),t){var o,n=this.state.focusedGutter.edge;if("right"===n){var i=this.state.grid.DOMNodeRect().left+this.state.grid.percentageToPx("x",this.state.focusedGutter.slot.right());o=r.x-i,this.state.focusedGutter.slot.push("right",this.state.grid.pxToPercentage("x",o)),this.setState(function(e){return{grid:e.grid}})}else if("bottom"===n){var a=this.state.grid.DOMNodeRect().top+this.state.grid.percentageToPx("y",this.state.focusedGutter.slot.bottom());o=r.y-a,this.state.focusedGutter.slot.push("bottom",this.state.grid.pxToPercentage("y",o)),this.setState(function(e){return{grid:e.grid}})}}}else{var s,c=this.state.grid.gutterUnderPosn(r);s=void 0!==c?{right:"ew-resize",bottom:"ns-resize"}[c.edge]:"auto",D(),this.state.focusedGutter===c&&this.state.cursor===s||this.setState({focusedGutter:c,cursor:s})}}},handleMouseDown:function handleMouseDown(){this.state.focusedGutter&&this.setState({dragging:!0})},handleMouseUp:function handleMouseUp(e){this.state.dragging&&(this.state.grid.snapSlots(this.state.focusedGutter.slot.origin()),e.stopPropagation(),e.preventDefault(),n()(A)),this.setState(function(e){return{grid:e.grid,dragging:!1,resizing:e.dragging}})},getPosns:function getPosns(e){if(!this.hasDOMNode())return{};var t=this.state.grid.DOMNodeRect();return{offsetPosn:new E(e.pageX-t.left,e.offsetY-t.top),pagePosn:new E(e.pageX,e.pageY)}},render:function render(){var e=m()({"fcn-grid":!0,"fcn-grid--dragging":!!this.state.dragging}),t={cursor:this.state.cursor};return p.a.createElement("div",{className:e,onMouseMove:this.onMouseMove,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,style:t},this.buildComponents(),this.props.presenter.wall,this.renderDebugLayer())}});t.a=Object(l.connect)(function mapStateToProps(e){return{checkpointsRunning:Object(G.h)(e)}},null,null,{withRef:!0})(Y)},v1H2:function(e,t,r){e.exports={container:"container__1Z7pU69YKoxYmpT4T8KGv2",header:"header__Ve5FKhy0YGrns6fHSkk3W"}},vD2r:function(e,t,r){e.exports={timeRemainingSection:"timeRemainingSection__3N_3TjMBMxqAeJB2WkZCz2",strong:"strong__rOS5QsZT2-PbLbhsi-g_K",buttonWithMargin:"buttonWithMargin__2KW0vZiRFfoJbYRkDTgf20",timeCircle:"timeCircle__1_TT-98cHPBQRfDCgNMFyG",time:"time__39ZZr4ZVW0KIXPuONIf_LI",timeRemaining:"timeRemaining__2bpeK3-YxuZpy5owA-J81J",rotate:"rotate__2hyNQ55t2eZO_3ktm78aVJ"}},wevG:function(e,t,r){e.exports={ResetWorkspaceControl:"ResetWorkspaceControl__88z6jsIn6PfE5Pau4k-ll",cta:"cta__2mjuuxJjh22qJC_GiTMSh7",ctaArrow:"ctaArrow__h5q8WAhe0BF1Ki1ae5bVq"}},woPg:function(e,t,r){e.exports={groupHeading:"groupHeading__3uTQEYNxl6MJgzXZZ13yw9",navButton:"navButton__ZnqfRpK9Q_YnPIBDOqHmg",activeListItem:"activeListItem__1WDYeFpcYdIS35PyYU08C",completedListItem:"completedListItem__1eHiHnR2W0vFWdZk6zSmIu",navButtonIcon:"navButtonIcon__3CZM0V7800cC4DShLnggjR",lockedListItem:"lockedListItem__3ypfptVCWmhSnn9dgtue5B",listItemTitle:"listItemTitle__3NeTJtrYNQfK-bf7JqWTlG",exerciseSection:"exerciseSection__1HM1WD1vDQSTvLlS5WmosL",slideInLeft:"slideInLeft__Pf9i_QrvfrXCYL316oVAP",slideOutLeft:"slideOutLeft__2x06NnfFujJKT2E3vjEmhd"}},z4aL:function(e,t,r){e.exports={terminalContainerSkeleton:"terminalContainerSkeleton__Ug7dGSjKsNCphd6nvZzTF",outputTerminalContainerSkeleton:"outputTerminalContainerSkeleton__IOV43nZgMWeJjkvhciMRa",outputTerminalContainerSkeletonBody:"outputTerminalContainerSkeletonBody__1hYYuWxqJ0U4mMHS-_Yrd7"}},zGzv:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var o=r("o0o1"),n=r.n(o),i=r("FCEL"),a=r("Yr7M"),s=r("JoHf"),c=r("zSSe");function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){_defineProperty(e,t,r[t])})}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function asyncGeneratorStep(e,t,r,o,n,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}var l=function(){var e=function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(o,n){var i=e.apply(t,r);function _next(e){asyncGeneratorStep(i,o,n,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,o,n,_next,_throw,"throw",e)}_next(void 0)})}}(n.a.mark(function _callee(e){var t,r,o;return n.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.content,r=e.userId,!c.a.isAnon()){n.next=3;break}return n.abrupt("return");case 3:return(o=_objectSpread({},t.workspace)).user_id=r,t.components.PersistentCodeEditor?i.a.publishFilenames(t.components.PersistentCodeEditor.files):i.a.publishFilenames([]),n.next=8,s.a.setWorkspace(o);case 8:return n.next=10,a.a.clearHistory();case 10:if(!t.components.WebBrowser){n.next=14;break}if(!t.components.WebBrowser.display_url){n.next=14;break}return n.next=14,a.a.load(t.components.WebBrowser.display_url);case 14:case"end":return n.stop()}},_callee,this)}));return function setupWorkspace(t){return e.apply(this,arguments)}}()},zSpj:function(e,t,r){"use strict";var o=r("hhPA"),n=r.n(o),i=r("/ar6");n.a.createStore({init:function init(){this._adapter=null,this._broadcast=null,this.listenToMany({onBroadcast:i.a.broadcast,onNewAdapter:i.a.newAdapter})},onBroadcast:function onBroadcast(){!this._adapter||!this._broadcast||arguments.length<1||this._broadcast.apply(this,arguments)},onNewAdapter:function onNewAdapter(e){this._adapter=e,this._broadcast=e.createComponentBroadcastFunction("Reflux"),this.trigger()}})},zj2G:function(e,t,r){e.exports={headerIcon:"headerIcon__3PJznhF504VDDQyiK5lQKy",body:"body__2PR9z5i74C175ogXEKU0k8",bodyParentHeading:"bodyParentHeading__1m1O75h8NDE_hVVsRNZxHs",bodyHeading:"bodyHeading__2BpaNnfKeJ3alTJNTkzJ94"}},zmXR:function(e,t,r){e.exports={copyField:"copyField__3-fQ2A8IrBfyrw9qoh3XgZ",copyInputField:"copyInputField__wooT7hh4kzO6fmjY48ugT",errorMsg:"errorMsg__2gFOQ7b9Wusd6M_Sc2Fz4U",responseMsgContainer:"responseMsgContainer__1uNkcerA1kmOJHQE57B-vl",loadingContainer:"loadingContainer__274Nq8IOXZeKLGyBFp1xwb"}}}]);
//# sourceMappingURL=142.6372026ffe0f82c489c2.chunk.js.map